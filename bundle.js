(()=>{var _Y=Object.create;var yE=Object.defineProperty;var wY=Object.getOwnPropertyDescriptor;var TY=Object.getOwnPropertyNames;var SY=Object.getPrototypeOf,MY=Object.prototype.hasOwnProperty;var EY=n=>yE(n,"__esModule",{value:!0});var Re=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var PY=(n,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of TY(e))!MY.call(n,r)&&r!=="default"&&yE(n,r,{get:()=>e[r],enumerable:!(t=wY(e,r))||t.enumerable});return n},R=n=>PY(EY(yE(n!=null?_Y(SY(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var vE=Re((Z1e,XI)=>{"use strict";var $I=Object.getOwnPropertySymbols,RY=Object.prototype.hasOwnProperty,CY=Object.prototype.propertyIsEnumerable;function AY(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function LY(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch(o){return!1}}XI.exports=LY()?Object.assign:function(n,e){for(var t,r=AY(n),i,o=1;o<arguments.length;o++){t=Object(arguments[o]);for(var s in t)RY.call(t,s)&&(r[s]=t[s]);if($I){i=$I(t);for(var a=0;a<i.length;a++)CY.call(t,i[a])&&(r[i[a]]=t[i[a]])}}return r}});var u3=Re(Ot=>{"use strict";var xE=vE(),Od=60103,YI=60106;Ot.Fragment=60107;Ot.StrictMode=60108;Ot.Profiler=60114;var JI=60109,ZI=60110,KI=60112;Ot.Suspense=60113;var QI=60115,e3=60116;typeof Symbol=="function"&&Symbol.for&&(ho=Symbol.for,Od=ho("react.element"),YI=ho("react.portal"),Ot.Fragment=ho("react.fragment"),Ot.StrictMode=ho("react.strict_mode"),Ot.Profiler=ho("react.profiler"),JI=ho("react.provider"),ZI=ho("react.context"),KI=ho("react.forward_ref"),Ot.Suspense=ho("react.suspense"),QI=ho("react.memo"),e3=ho("react.lazy"));var ho,t3=typeof Symbol=="function"&&Symbol.iterator;function DY(n){return n===null||typeof n!="object"?null:(n=t3&&n[t3]||n["@@iterator"],typeof n=="function"?n:null)}function Jh(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r3={};function Fd(n,e,t){this.props=n,this.context=e,this.refs=r3,this.updater=t||n3}Fd.prototype.isReactComponent={};Fd.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(Jh(85));this.updater.enqueueSetState(this,n,e,"setState")};Fd.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function i3(){}i3.prototype=Fd.prototype;function bE(n,e,t){this.props=n,this.context=e,this.refs=r3,this.updater=t||n3}var _E=bE.prototype=new i3;_E.constructor=bE;xE(_E,Fd.prototype);_E.isPureReactComponent=!0;var wE={current:null},o3=Object.prototype.hasOwnProperty,s3={key:!0,ref:!0,__self:!0,__source:!0};function a3(n,e,t){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)o3.call(e,r)&&!s3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Od,type:n,key:o,ref:s,props:i,_owner:wE.current}}function NY(n,e){return{$$typeof:Od,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function TE(n){return typeof n=="object"&&n!==null&&n.$$typeof===Od}function IY(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var l3=/\/+/g;function SE(n,e){return typeof n=="object"&&n!==null&&n.key!=null?IY(""+n.key):e.toString(36)}function A0(n,e,t,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var s=!1;if(n===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(n.$$typeof){case Od:case YI:s=!0}}if(s)return s=n,i=i(s),n=r===""?"."+SE(s,0):r,Array.isArray(i)?(t="",n!=null&&(t=n.replace(l3,"$&/")+"/"),A0(i,e,t,"",function(c){return c})):i!=null&&(TE(i)&&(i=NY(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(l3,"$&/")+"/")+n)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Array.isArray(n))for(var a=0;a<n.length;a++){o=n[a];var l=r+SE(o,a);s+=A0(o,e,t,l,i)}else if(l=DY(n),typeof l=="function")for(n=l.call(n),a=0;!(o=n.next()).done;)o=o.value,l=r+SE(o,a++),s+=A0(o,e,t,l,i);else if(o==="object")throw e=""+n,Error(Jh(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e));return s}function L0(n,e,t){if(n==null)return n;var r=[],i=0;return A0(n,r,"","",function(o){return e.call(t,o,i++)}),r}function OY(n){if(n._status===-1){var e=n._result;e=e(),n._status=0,n._result=e,e.then(function(t){n._status===0&&(t=t.default,n._status=1,n._result=t)},function(t){n._status===0&&(n._status=2,n._result=t)})}if(n._status===1)return n._result;throw n._result}var c3={current:null};function Js(){var n=c3.current;if(n===null)throw Error(Jh(321));return n}var FY={ReactCurrentDispatcher:c3,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:wE,IsSomeRendererActing:{current:!1},assign:xE};Ot.Children={map:L0,forEach:function(n,e,t){L0(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return L0(n,function(){e++}),e},toArray:function(n){return L0(n,function(e){return e})||[]},only:function(n){if(!TE(n))throw Error(Jh(143));return n}};Ot.Component=Fd;Ot.PureComponent=bE;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FY;Ot.cloneElement=function(n,e,t){if(n==null)throw Error(Jh(267,n));var r=xE({},n.props),i=n.key,o=n.ref,s=n._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=wE.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)o3.call(e,l)&&!s3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Od,type:n.type,key:i,ref:o,props:r,_owner:s}};Ot.createContext=function(n,e){return e===void 0&&(e=null),n={$$typeof:ZI,_calculateChangedBits:e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:JI,_context:n},n.Consumer=n};Ot.createElement=a3;Ot.createFactory=function(n){var e=a3.bind(null,n);return e.type=n,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(n){return{$$typeof:KI,render:n}};Ot.isValidElement=TE;Ot.lazy=function(n){return{$$typeof:e3,_payload:{_status:-1,_result:n},_init:OY}};Ot.memo=function(n,e){return{$$typeof:QI,type:n,compare:e===void 0?null:e}};Ot.useCallback=function(n,e){return Js().useCallback(n,e)};Ot.useContext=function(n,e){return Js().useContext(n,e)};Ot.useDebugValue=function(){};Ot.useEffect=function(n,e){return Js().useEffect(n,e)};Ot.useImperativeHandle=function(n,e,t){return Js().useImperativeHandle(n,e,t)};Ot.useLayoutEffect=function(n,e){return Js().useLayoutEffect(n,e)};Ot.useMemo=function(n,e){return Js().useMemo(n,e)};Ot.useReducer=function(n,e,t){return Js().useReducer(n,e,t)};Ot.useRef=function(n){return Js().useRef(n)};Ot.useState=function(n){return Js().useState(n)};Ot.version="17.0.2"});var we=Re((Q1e,d3)=>{"use strict";d3.exports=u3()});var y3=Re(Ut=>{"use strict";var kd,Zh,D0,ME;typeof performance=="object"&&typeof performance.now=="function"?(p3=performance,Ut.unstable_now=function(){return p3.now()}):(EE=Date,f3=EE.now(),Ut.unstable_now=function(){return EE.now()-f3});var p3,EE,f3;typeof window=="undefined"||typeof MessageChannel!="function"?(Bd=null,PE=null,RE=function(){if(Bd!==null)try{var n=Ut.unstable_now();Bd(!0,n),Bd=null}catch(e){throw setTimeout(RE,0),e}},kd=function(n){Bd!==null?setTimeout(kd,0,n):(Bd=n,setTimeout(RE,0))},Zh=function(n,e){PE=setTimeout(n,e)},D0=function(){clearTimeout(PE)},Ut.unstable_shouldYield=function(){return!1},ME=Ut.unstable_forceFrameRate=function(){}):(h3=window.setTimeout,m3=window.clearTimeout,typeof console!="undefined"&&(g3=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g3!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Kh=!1,Qh=null,N0=-1,CE=5,AE=0,Ut.unstable_shouldYield=function(){return Ut.unstable_now()>=AE},ME=function(){},Ut.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):CE=0<n?Math.floor(1e3/n):5},LE=new MessageChannel,I0=LE.port2,LE.port1.onmessage=function(){if(Qh!==null){var n=Ut.unstable_now();AE=n+CE;try{Qh(!0,n)?I0.postMessage(null):(Kh=!1,Qh=null)}catch(e){throw I0.postMessage(null),e}}else Kh=!1},kd=function(n){Qh=n,Kh||(Kh=!0,I0.postMessage(null))},Zh=function(n,e){N0=h3(function(){n(Ut.unstable_now())},e)},D0=function(){m3(N0),N0=-1});var Bd,PE,RE,h3,m3,g3,Kh,Qh,N0,CE,AE,LE,I0;function DE(n,e){var t=n.length;n.push(e);e:for(;;){var r=t-1>>>1,i=n[r];if(i!==void 0&&0<F0(i,e))n[r]=e,n[t]=i,t=r;else break e}}function Vo(n){return n=n[0],n===void 0?null:n}function O0(n){var e=n[0];if(e!==void 0){var t=n.pop();if(t!==e){n[0]=t;e:for(var r=0,i=n.length;r<i;){var o=2*(r+1)-1,s=n[o],a=o+1,l=n[a];if(s!==void 0&&0>F0(s,t))l!==void 0&&0>F0(l,s)?(n[r]=l,n[a]=t,r=a):(n[r]=s,n[o]=t,r=o);else if(l!==void 0&&0>F0(l,t))n[r]=l,n[a]=t,r=a;else break e}}return e}return null}function F0(n,e){var t=n.sortIndex-e.sortIndex;return t!==0?t:n.id-e.id}var hs=[],Za=[],kY=1,mo=null,Yr=3,k0=!1,qc=!1,em=!1;function NE(n){for(var e=Vo(Za);e!==null;){if(e.callback===null)O0(Za);else if(e.startTime<=n)O0(Za),e.sortIndex=e.expirationTime,DE(hs,e);else break;e=Vo(Za)}}function IE(n){if(em=!1,NE(n),!qc)if(Vo(hs)!==null)qc=!0,kd(OE);else{var e=Vo(Za);e!==null&&Zh(IE,e.startTime-n)}}function OE(n,e){qc=!1,em&&(em=!1,D0()),k0=!0;var t=Yr;try{for(NE(e),mo=Vo(hs);mo!==null&&(!(mo.expirationTime>e)||n&&!Ut.unstable_shouldYield());){var r=mo.callback;if(typeof r=="function"){mo.callback=null,Yr=mo.priorityLevel;var i=r(mo.expirationTime<=e);e=Ut.unstable_now(),typeof i=="function"?mo.callback=i:mo===Vo(hs)&&O0(hs),NE(e)}else O0(hs);mo=Vo(hs)}if(mo!==null)var o=!0;else{var s=Vo(Za);s!==null&&Zh(IE,s.startTime-e),o=!1}return o}finally{mo=null,Yr=t,k0=!1}}var BY=ME;Ut.unstable_IdlePriority=5;Ut.unstable_ImmediatePriority=1;Ut.unstable_LowPriority=4;Ut.unstable_NormalPriority=3;Ut.unstable_Profiling=null;Ut.unstable_UserBlockingPriority=2;Ut.unstable_cancelCallback=function(n){n.callback=null};Ut.unstable_continueExecution=function(){qc||k0||(qc=!0,kd(OE))};Ut.unstable_getCurrentPriorityLevel=function(){return Yr};Ut.unstable_getFirstCallbackNode=function(){return Vo(hs)};Ut.unstable_next=function(n){switch(Yr){case 1:case 2:case 3:var e=3;break;default:e=Yr}var t=Yr;Yr=e;try{return n()}finally{Yr=t}};Ut.unstable_pauseExecution=function(){};Ut.unstable_requestPaint=BY;Ut.unstable_runWithPriority=function(n,e){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var t=Yr;Yr=n;try{return e()}finally{Yr=t}};Ut.unstable_scheduleCallback=function(n,e,t){var r=Ut.unstable_now();switch(typeof t=="object"&&t!==null?(t=t.delay,t=typeof t=="number"&&0<t?r+t:r):t=r,n){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=t+i,n={id:kY++,callback:e,priorityLevel:n,startTime:t,expirationTime:i,sortIndex:-1},t>r?(n.sortIndex=t,DE(Za,n),Vo(hs)===null&&n===Vo(Za)&&(em?D0():em=!0,Zh(IE,t-r))):(n.sortIndex=i,DE(hs,n),qc||k0||(qc=!0,kd(OE))),n};Ut.unstable_wrapCallback=function(n){var e=Yr;return function(){var t=Yr;Yr=e;try{return n.apply(this,arguments)}finally{Yr=t}}}});var x3=Re((tPe,v3)=>{"use strict";v3.exports=y3()});var sk=Re(_o=>{"use strict";var B0=we(),yn=vE(),wr=x3();function $e(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!B0)throw Error($e(227));var b3=new Set,tm={};function $c(n,e){zd(n,e),zd(n+"Capture",e)}function zd(n,e){for(tm[n]=e,n=0;n<e.length;n++)b3.add(e[n])}var Zs=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),zY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_3=Object.prototype.hasOwnProperty,w3={},T3={};function UY(n){return _3.call(T3,n)?!0:_3.call(w3,n)?!1:zY.test(n)?T3[n]=!0:(w3[n]=!0,!1)}function VY(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function HY(n,e,t,r){if(e===null||typeof e=="undefined"||VY(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bi(n,e,t,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Ir[n]=new bi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Ir[e]=new bi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Ir[n]=new bi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Ir[n]=new bi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Ir[n]=new bi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Ir[n]=new bi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Ir[n]=new bi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Ir[n]=new bi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Ir[n]=new bi(n,5,!1,n.toLowerCase(),null,!1,!1)});var FE=/[\-:]([a-z])/g;function kE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(FE,kE);Ir[e]=new bi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(FE,kE);Ir[e]=new bi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(FE,kE);Ir[e]=new bi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Ir[n]=new bi(n,1,!1,n.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Ir[n]=new bi(n,1,!1,n.toLowerCase(),null,!0,!0)});function BE(n,e,t,r){var i=Ir.hasOwnProperty(e)?Ir[e]:null,o=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");o||(HY(e,t,i,r)&&(t=null),r||i===null?UY(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Xc=B0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nm=60103,Yc=60106,Ka=60107,zE=60108,rm=60114,UE=60109,VE=60110,z0=60112,im=60113,U0=60120,V0=60115,HE=60116,WE=60121,GE=60128,S3=60129,jE=60130,qE=60131;typeof Symbol=="function"&&Symbol.for&&(dr=Symbol.for,nm=dr("react.element"),Yc=dr("react.portal"),Ka=dr("react.fragment"),zE=dr("react.strict_mode"),rm=dr("react.profiler"),UE=dr("react.provider"),VE=dr("react.context"),z0=dr("react.forward_ref"),im=dr("react.suspense"),U0=dr("react.suspense_list"),V0=dr("react.memo"),HE=dr("react.lazy"),WE=dr("react.block"),dr("react.scope"),GE=dr("react.opaque.id"),S3=dr("react.debug_trace_mode"),jE=dr("react.offscreen"),qE=dr("react.legacy_hidden"));var dr,M3=typeof Symbol=="function"&&Symbol.iterator;function om(n){return n===null||typeof n!="object"?null:(n=M3&&n[M3]||n["@@iterator"],typeof n=="function"?n:null)}var $E;function sm(n){if($E===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);$E=e&&e[1]||""}return`
`+$E+n}var XE=!1;function H0(n,e){if(!n||XE)return"";XE=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(n,[],e)}else{try{e.call()}catch(l){r=l}n.call(e.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{XE=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?sm(n):""}function WY(n){switch(n.tag){case 5:return sm(n.type);case 16:return sm("Lazy");case 13:return sm("Suspense");case 19:return sm("SuspenseList");case 0:case 2:case 15:return n=H0(n.type,!1),n;case 11:return n=H0(n.type.render,!1),n;case 22:return n=H0(n.type._render,!1),n;case 1:return n=H0(n.type,!0),n;default:return""}}function Ud(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ka:return"Fragment";case Yc:return"Portal";case rm:return"Profiler";case zE:return"StrictMode";case im:return"Suspense";case U0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case VE:return(n.displayName||"Context")+".Consumer";case UE:return(n._context.displayName||"Context")+".Provider";case z0:var e=n.render;return e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case V0:return Ud(n.type);case WE:return Ud(n._render);case HE:e=n._payload,n=n._init;try{return Ud(n(e))}catch(t){}}return null}function Qa(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function E3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GY(n){var e=E3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function W0(n){n._valueTracker||(n._valueTracker=GY(n))}function P3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=E3(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function G0(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(e){return n.body}}function YE(n,e){var t=e.checked;return yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function R3(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Qa(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function C3(n,e){e=e.checked,e!=null&&BE(n,"checked",e,!1)}function JE(n,e){C3(n,e);var t=Qa(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ZE(n,e.type,t):e.hasOwnProperty("defaultValue")&&ZE(n,e.type,Qa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function A3(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ZE(n,e,t){(e!=="number"||G0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}function jY(n){var e="";return B0.Children.forEach(n,function(t){t!=null&&(e+=t)}),e}function KE(n,e){return n=yn({children:void 0},e),(e=jY(e.children))&&(n.children=e),n}function Vd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Qa(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function QE(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error($e(91));return yn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function L3(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error($e(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error($e(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Qa(t)}}function D3(n,e){var t=Qa(e.value),r=Qa(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function N3(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}var e1={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function I3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t1(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?I3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var j0,O3=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!==e1.svg||"innerHTML"in n)n.innerHTML=e;else{for(j0=j0||document.createElement("div"),j0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=j0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function am(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var lm={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qY=["Webkit","ms","Moz","O"];Object.keys(lm).forEach(function(n){qY.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),lm[e]=lm[n]})});function F3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||lm.hasOwnProperty(n)&&lm[n]?(""+e).trim():e+"px"}function k3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=F3(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var $Y=yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n1(n,e){if(e){if($Y[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($e(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($e(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error($e(61))}if(e.style!=null&&typeof e.style!="object")throw Error($e(62))}}function r1(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function i1(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var o1=null,Hd=null,Wd=null;function B3(n){if(n=Em(n)){if(typeof o1!="function")throw Error($e(280));var e=n.stateNode;e&&(e=dx(e),o1(n.stateNode,n.type,e))}}function z3(n){Hd?Wd?Wd.push(n):Wd=[n]:Hd=n}function U3(){if(Hd){var n=Hd,e=Wd;if(Wd=Hd=null,B3(n),e)for(n=0;n<e.length;n++)B3(e[n])}}function s1(n,e){return n(e)}function V3(n,e,t,r,i){return n(e,t,r,i)}function a1(){}var H3=s1,Jc=!1,l1=!1;function c1(){(Hd!==null||Wd!==null)&&(a1(),U3())}function XY(n,e,t){if(l1)return n(e,t);l1=!0;try{return H3(n,e,t)}finally{l1=!1,c1()}}function cm(n,e){var t=n.stateNode;if(t===null)return null;var r=dx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error($e(231,e,typeof t));return t}var u1=!1;if(Zs)try{Gd={},Object.defineProperty(Gd,"passive",{get:function(){u1=!0}}),window.addEventListener("test",Gd,Gd),window.removeEventListener("test",Gd,Gd)}catch(n){u1=!1}var Gd;function YY(n,e,t,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var um=!1,q0=null,$0=!1,d1=null,JY={onError:function(n){um=!0,q0=n}};function ZY(n,e,t,r,i,o,s,a,l){um=!1,q0=null,YY.apply(JY,arguments)}function KY(n,e,t,r,i,o,s,a,l){if(ZY.apply(this,arguments),um){if(um){var c=q0;um=!1,q0=null}else throw Error($e(198));$0||($0=!0,d1=c)}}function Zc(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&1026)!=0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function W3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function G3(n){if(Zc(n)!==n)throw Error($e(188))}function QY(n){var e=n.alternate;if(!e){if(e=Zc(n),e===null)throw Error($e(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return G3(i),n;if(o===r)return G3(i),e;o=o.sibling}throw Error($e(188))}if(t.return!==r.return)t=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,r=o;break}if(a===r){s=!0,r=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,r=i;break}if(a===r){s=!0,r=o,t=i;break}a=a.sibling}if(!s)throw Error($e(189))}}if(t.alternate!==r)throw Error($e(190))}if(t.tag!==3)throw Error($e(188));return t.stateNode.current===t?n:e}function j3(n){if(n=QY(n),!n)return null;for(var e=n;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===n)break;for(;!e.sibling;){if(!e.return||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function q3(n,e){for(var t=n.alternate;e!==null;){if(e===n||e===t)return!0;e=e.return}return!1}var $3,p1,X3,Y3,f1=!1,ms=[],el=null,tl=null,nl=null,dm=new Map,pm=new Map,fm=[],J3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function h1(n,e,t,r,i){return{blockedOn:n,domEventName:e,eventSystemFlags:t|16,nativeEvent:i,targetContainers:[r]}}function Z3(n,e){switch(n){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":dm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pm.delete(e.pointerId)}}function hm(n,e,t,r,i,o){return n===null||n.nativeEvent!==o?(n=h1(e,t,r,i,o),e!==null&&(e=Em(e),e!==null&&p1(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function eJ(n,e,t,r,i){switch(e){case"focusin":return el=hm(el,n,e,t,r,i),!0;case"dragenter":return tl=hm(tl,n,e,t,r,i),!0;case"mouseover":return nl=hm(nl,n,e,t,r,i),!0;case"pointerover":var o=i.pointerId;return dm.set(o,hm(dm.get(o)||null,n,e,t,r,i)),!0;case"gotpointercapture":return o=i.pointerId,pm.set(o,hm(pm.get(o)||null,n,e,t,r,i)),!0}return!1}function tJ(n){var e=Kc(n.target);if(e!==null){var t=Zc(e);if(t!==null){if(e=t.tag,e===13){if(e=W3(t),e!==null){n.blockedOn=e,Y3(n.lanePriority,function(){wr.unstable_runWithPriority(n.priority,function(){X3(t)})});return}}else if(e===3&&t.stateNode.hydrate){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function X0(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=b1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null)return e=Em(t),e!==null&&p1(e),n.blockedOn=t,!1;e.shift()}return!0}function K3(n,e,t){X0(n)&&t.delete(e)}function nJ(){for(f1=!1;0<ms.length;){var n=ms[0];if(n.blockedOn!==null){n=Em(n.blockedOn),n!==null&&$3(n);break}for(var e=n.targetContainers;0<e.length;){var t=b1(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t!==null){n.blockedOn=t;break}e.shift()}n.blockedOn===null&&ms.shift()}el!==null&&X0(el)&&(el=null),tl!==null&&X0(tl)&&(tl=null),nl!==null&&X0(nl)&&(nl=null),dm.forEach(K3),pm.forEach(K3)}function mm(n,e){n.blockedOn===e&&(n.blockedOn=null,f1||(f1=!0,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,nJ)))}function Q3(n){function e(i){return mm(i,n)}if(0<ms.length){mm(ms[0],n);for(var t=1;t<ms.length;t++){var r=ms[t];r.blockedOn===n&&(r.blockedOn=null)}}for(el!==null&&mm(el,n),tl!==null&&mm(tl,n),nl!==null&&mm(nl,n),dm.forEach(e),pm.forEach(e),t=0;t<fm.length;t++)r=fm[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<fm.length&&(t=fm[0],t.blockedOn===null);)tJ(t),t.blockedOn===null&&fm.shift()}function Y0(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var jd={animationend:Y0("Animation","AnimationEnd"),animationiteration:Y0("Animation","AnimationIteration"),animationstart:Y0("Animation","AnimationStart"),transitionend:Y0("Transition","TransitionEnd")},m1={},eO={};Zs&&(eO=document.createElement("div").style,"AnimationEvent"in window||(delete jd.animationend.animation,delete jd.animationiteration.animation,delete jd.animationstart.animation),"TransitionEvent"in window||delete jd.transitionend.transition);function J0(n){if(m1[n])return m1[n];if(!jd[n])return n;var e=jd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in eO)return m1[n]=e[t];return n}var tO=J0("animationend"),nO=J0("animationiteration"),rO=J0("animationstart"),iO=J0("transitionend"),oO=new Map,g1=new Map,rJ=["abort","abort",tO,"animationEnd",nO,"animationIteration",rO,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",iO,"transitionEnd","waiting","waiting"];function y1(n,e){for(var t=0;t<n.length;t+=2){var r=n[t],i=n[t+1];i="on"+(i[0].toUpperCase()+i.slice(1)),g1.set(r,e),oO.set(r,i),$c(i,[r])}}var iJ=wr.unstable_now;iJ();var sn=8;function qd(n){if((1&n)!=0)return sn=15,1;if((2&n)!=0)return sn=14,2;if((4&n)!=0)return sn=13,4;var e=24&n;return e!==0?(sn=12,e):(n&32)!=0?(sn=11,32):(e=192&n,e!==0?(sn=10,e):(n&256)!=0?(sn=9,256):(e=3584&n,e!==0?(sn=8,e):(n&4096)!=0?(sn=7,4096):(e=4186112&n,e!==0?(sn=6,e):(e=62914560&n,e!==0?(sn=5,e):n&67108864?(sn=4,67108864):(n&134217728)!=0?(sn=3,134217728):(e=805306368&n,e!==0?(sn=2,e):(1073741824&n)!=0?(sn=1,1073741824):(sn=8,n))))))}function oJ(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function sJ(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error($e(358,n))}}function gm(n,e){var t=n.pendingLanes;if(t===0)return sn=0;var r=0,i=0,o=n.expiredLanes,s=n.suspendedLanes,a=n.pingedLanes;if(o!==0)r=o,i=sn=15;else if(o=t&134217727,o!==0){var l=o&~s;l!==0?(r=qd(l),i=sn):(a&=o,a!==0&&(r=qd(a),i=sn))}else o=t&~s,o!==0?(r=qd(o),i=sn):a!==0&&(r=qd(a),i=sn);if(r===0)return 0;if(r=31-rl(r),r=t&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&s)==0){if(qd(e),i<=sn)return e;sn=i}if(e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-rl(e),i=1<<t,r|=n[t],e&=~i;return r}function sO(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Z0(n,e){switch(n){case 15:return 1;case 14:return 2;case 12:return n=$d(24&~e),n===0?Z0(10,e):n;case 10:return n=$d(192&~e),n===0?Z0(8,e):n;case 8:return n=$d(3584&~e),n===0&&(n=$d(4186112&~e),n===0&&(n=512)),n;case 2:return e=$d(805306368&~e),e===0&&(e=268435456),e}throw Error($e(358,n))}function $d(n){return n&-n}function v1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function K0(n,e,t){n.pendingLanes|=e;var r=e-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,e=31-rl(e),n[e]=t}var rl=Math.clz32?Math.clz32:cJ,aJ=Math.log,lJ=Math.LN2;function cJ(n){return n===0?32:31-(aJ(n)/lJ|0)|0}var uJ=wr.unstable_UserBlockingPriority,dJ=wr.unstable_runWithPriority,Q0=!0;function pJ(n,e,t,r){Jc||a1();var i=x1,o=Jc;Jc=!0;try{V3(i,n,e,t,r)}finally{(Jc=o)||c1()}}function fJ(n,e,t,r){dJ(uJ,x1.bind(null,n,e,t,r))}function x1(n,e,t,r){if(Q0){var i;if((i=(e&4)==0)&&0<ms.length&&-1<J3.indexOf(n))n=h1(null,n,e,t,r),ms.push(n);else{var o=b1(n,e,t,r);if(o===null)i&&Z3(n,r);else{if(i){if(-1<J3.indexOf(n)){n=h1(o,n,e,t,r),ms.push(n);return}if(eJ(o,n,e,t,r))return;Z3(n,r)}OO(n,e,r,null,t)}}}}function b1(n,e,t,r){var i=i1(r);if(i=Kc(i),i!==null){var o=Zc(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=W3(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return OO(n,e,r,i,t),null}var il=null,_1=null,ex=null;function aO(){if(ex)return ex;var n,e=_1,t=e.length,r,i="value"in il?il.value:il.textContent,o=i.length;for(n=0;n<t&&e[n]===i[n];n++);var s=t-n;for(r=1;r<=s&&e[t-r]===i[o-r];r++);return ex=i.slice(n,1<r?1-r:void 0)}function tx(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function nx(){return!0}function lO(){return!1}function Gi(n){function e(t,r,i,o,s){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?nx:lO,this.isPropagationStopped=lO,this}return yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=nx)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=nx)},persist:function(){},isPersistent:nx}),e}var Xd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w1=Gi(Xd),ym=yn({},Xd,{view:0,detail:0}),hJ=Gi(ym),T1,S1,vm,rx=yn({},ym,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vm&&(vm&&n.type==="mousemove"?(T1=n.screenX-vm.screenX,S1=n.screenY-vm.screenY):S1=T1=0,vm=n),T1)},movementY:function(n){return"movementY"in n?n.movementY:S1}}),cO=Gi(rx),mJ=yn({},rx,{dataTransfer:0}),gJ=Gi(mJ),yJ=yn({},ym,{relatedTarget:0}),M1=Gi(yJ),vJ=yn({},Xd,{animationName:0,elapsedTime:0,pseudoElement:0}),xJ=Gi(vJ),bJ=yn({},Xd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),_J=Gi(bJ),wJ=yn({},Xd,{data:0}),uO=Gi(wJ),TJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EJ(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=MJ[n])?!!e[n]:!1}function E1(){return EJ}var PJ=yn({},ym,{key:function(n){if(n.key){var e=TJ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=tx(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?SJ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E1,charCode:function(n){return n.type==="keypress"?tx(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?tx(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),RJ=Gi(PJ),CJ=yn({},rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dO=Gi(CJ),AJ=yn({},ym,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E1}),LJ=Gi(AJ),DJ=yn({},Xd,{propertyName:0,elapsedTime:0,pseudoElement:0}),NJ=Gi(DJ),IJ=yn({},rx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),OJ=Gi(IJ),FJ=[9,13,27,32],P1=Zs&&"CompositionEvent"in window,xm=null;Zs&&"documentMode"in document&&(xm=document.documentMode);var kJ=Zs&&"TextEvent"in window&&!xm,pO=Zs&&(!P1||xm&&8<xm&&11>=xm),fO=String.fromCharCode(32),hO=!1;function mO(n,e){switch(n){case"keyup":return FJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gO(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yd=!1;function BJ(n,e){switch(n){case"compositionend":return gO(e);case"keypress":return e.which!==32?null:(hO=!0,fO);case"textInput":return n=e.data,n===fO&&hO?null:n;default:return null}}function zJ(n,e){if(Yd)return n==="compositionend"||!P1&&mO(n,e)?(n=aO(),ex=_1=il=null,Yd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pO&&e.locale!=="ko"?null:e.data;default:return null}}var UJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yO(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!UJ[n.type]:e==="textarea"}function vO(n,e,t,r){z3(r),e=ax(e,"onChange"),0<e.length&&(t=new w1("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var bm=null,_m=null;function VJ(n){AO(n,0)}function ix(n){var e=ep(n);if(P3(e))return n}function HJ(n,e){if(n==="change")return e}var xO=!1;Zs&&(Zs?(sx="oninput"in document,sx||(R1=document.createElement("div"),R1.setAttribute("oninput","return;"),sx=typeof R1.oninput=="function"),ox=sx):ox=!1,xO=ox&&(!document.documentMode||9<document.documentMode));var ox,sx,R1;function bO(){bm&&(bm.detachEvent("onpropertychange",_O),_m=bm=null)}function _O(n){if(n.propertyName==="value"&&ix(_m)){var e=[];if(vO(e,_m,n,i1(n)),n=VJ,Jc)n(e);else{Jc=!0;try{s1(n,e)}finally{Jc=!1,c1()}}}}function WJ(n,e,t){n==="focusin"?(bO(),bm=e,_m=t,bm.attachEvent("onpropertychange",_O)):n==="focusout"&&bO()}function GJ(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ix(_m)}function jJ(n,e){if(n==="click")return ix(e)}function qJ(n,e){if(n==="input"||n==="change")return ix(e)}function $J(n,e){return n===e&&(n!==0||1/n==1/e)||n!==n&&e!==e}var go=typeof Object.is=="function"?Object.is:$J,XJ=Object.prototype.hasOwnProperty;function wm(n,e){if(go(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++)if(!XJ.call(e,t[r])||!go(n[t[r]],e[t[r]]))return!1;return!0}function wO(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function TO(n,e){var t=wO(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=wO(t)}}function SO(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?SO(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function MO(){for(var n=window,e=G0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch(r){t=!1}if(t)n=e.contentWindow;else break;e=G0(n.document)}return e}function C1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var YJ=Zs&&"documentMode"in document&&11>=document.documentMode,Jd=null,A1=null,Tm=null,L1=!1;function EO(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;L1||Jd==null||Jd!==G0(r)||(r=Jd,"selectionStart"in r&&C1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tm&&wm(Tm,r)||(Tm=r,r=ax(A1,"onSelect"),0<r.length&&(e=new w1("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Jd)))}y1("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);y1("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);y1(rJ,2);for(var PO="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),D1=0;D1<PO.length;D1++)g1.set(PO[D1],0);zd("onMouseEnter",["mouseout","mouseover"]);zd("onMouseLeave",["mouseout","mouseover"]);zd("onPointerEnter",["pointerout","pointerover"]);zd("onPointerLeave",["pointerout","pointerover"]);$c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$c("onBeforeInput",["compositionend","keypress","textInput","paste"]);$c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sm));function CO(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,KY(r,e,void 0,n),n.currentTarget=null}function AO(n,e){e=(e&4)!=0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;CO(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;CO(i,a,c),o=l}}}if($0)throw n=d1,$0=!1,d1=null,n}function dn(n,e){var t=VO(e),r=n+"__bubble";t.has(r)||(IO(e,n,2,!1),t.add(r))}var LO="_reactListening"+Math.random().toString(36).slice(2);function DO(n){n[LO]||(n[LO]=!0,b3.forEach(function(e){RO.has(e)||NO(e,!1,n,null),NO(e,!0,n,null)}))}function NO(n,e,t,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=t;if(n==="selectionchange"&&t.nodeType!==9&&(o=t.ownerDocument),r!==null&&!e&&RO.has(n)){if(n!=="scroll")return;i|=2,o=r}var s=VO(o),a=n+"__"+(e?"capture":"bubble");s.has(a)||(e&&(i|=4),IO(o,n,i,e),s.add(a))}function IO(n,e,t,r){var i=g1.get(e);switch(i===void 0?2:i){case 0:i=pJ;break;case 1:i=fJ;break;default:i=x1}t=i.bind(null,e,t,n),i=void 0,!u1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function OO(n,e,t,r,i){var o=r;if((e&1)==0&&(e&2)==0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Kc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}XY(function(){var c=o,u=i1(t),d=[];e:{var p=oO.get(n);if(p!==void 0){var f=w1,g=n;switch(n){case"keypress":if(tx(t)===0)break e;case"keydown":case"keyup":f=RJ;break;case"focusin":g="focus",f=M1;break;case"focusout":g="blur",f=M1;break;case"beforeblur":case"afterblur":f=M1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=cO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=gJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=LJ;break;case tO:case nO:case rO:f=xJ;break;case iO:f=NJ;break;case"scroll":f=hJ;break;case"wheel":f=OJ;break;case"copy":case"cut":case"paste":f=_J;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=dO}var y=(e&4)!=0,v=!y&&n==="scroll",m=y?p!==null?p+"Capture":null:p;y=[];for(var h=c,b;h!==null;){b=h;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,m!==null&&(x=cm(h,m),x!=null&&y.push(Mm(h,x,b)))),v)break;h=h.return}0<y.length&&(p=new f(p,g,null,t,u),d.push({event:p,listeners:y}))}}if((e&7)==0){e:{if(p=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",p&&(e&16)==0&&(g=t.relatedTarget||t.fromElement)&&(Kc(g)||g[Qd]))break e;if((f||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,f?(g=t.relatedTarget||t.toElement,f=c,g=g?Kc(g):null,g!==null&&(v=Zc(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(y=cO,x="onMouseLeave",m="onMouseEnter",h="mouse",(n==="pointerout"||n==="pointerover")&&(y=dO,x="onPointerLeave",m="onPointerEnter",h="pointer"),v=f==null?p:ep(f),b=g==null?p:ep(g),p=new y(x,h+"leave",f,t,u),p.target=v,p.relatedTarget=b,x=null,Kc(u)===c&&(y=new y(m,h+"enter",g,t,u),y.target=b,y.relatedTarget=v,x=y),v=x,f&&g)t:{for(y=f,m=g,h=0,b=y;b;b=Zd(b))h++;for(b=0,x=m;x;x=Zd(x))b++;for(;0<h-b;)y=Zd(y),h--;for(;0<b-h;)m=Zd(m),b--;for(;h--;){if(y===m||m!==null&&y===m.alternate)break t;y=Zd(y),m=Zd(m)}y=null}else y=null;f!==null&&FO(d,p,f,y,!1),g!==null&&v!==null&&FO(d,v,g,y,!0)}}e:{if(p=c?ep(c):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var _=HJ;else if(yO(p))if(xO)_=qJ;else{_=GJ;var S=WJ}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=jJ);if(_&&(_=_(n,c))){vO(d,_,t,u);break e}S&&S(n,p,c),n==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&ZE(p,"number",p.value)}switch(S=c?ep(c):window,n){case"focusin":(yO(S)||S.contentEditable==="true")&&(Jd=S,A1=c,Tm=null);break;case"focusout":Tm=A1=Jd=null;break;case"mousedown":L1=!0;break;case"contextmenu":case"mouseup":case"dragend":L1=!1,EO(d,t,u);break;case"selectionchange":if(YJ)break;case"keydown":case"keyup":EO(d,t,u)}var M;if(P1)e:{switch(n){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Yd?mO(n,t)&&(E="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(E="onCompositionStart");E&&(pO&&t.locale!=="ko"&&(Yd||E!=="onCompositionStart"?E==="onCompositionEnd"&&Yd&&(M=aO()):(il=u,_1="value"in il?il.value:il.textContent,Yd=!0)),S=ax(c,E),0<S.length&&(E=new uO(E,n,null,t,u),d.push({event:E,listeners:S}),M?E.data=M:(M=gO(t),M!==null&&(E.data=M)))),(M=kJ?BJ(n,t):zJ(n,t))&&(c=ax(c,"onBeforeInput"),0<c.length&&(u=new uO("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=M))}AO(d,e)})}function Mm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function ax(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=cm(n,t),o!=null&&r.unshift(Mm(n,o,i)),o=cm(n,e),o!=null&&r.push(Mm(n,o,i))),n=n.return}return r}function Zd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FO(n,e,t,r,i){for(var o=e._reactName,s=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=cm(t,o),l!=null&&s.unshift(Mm(t,l,a))):i||(l=cm(t,o),l!=null&&s.push(Mm(t,l,a)))),t=t.return}s.length!==0&&n.push({event:e,listeners:s})}function lx(){}var N1=null,I1=null;function kO(n,e){switch(n){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function O1(n,e){return n==="textarea"||n==="option"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var BO=typeof setTimeout=="function"?setTimeout:void 0,JJ=typeof clearTimeout=="function"?clearTimeout:void 0;function F1(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function Kd(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break}return n}function zO(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var k1=0;function ZJ(n){return{$$typeof:GE,toString:n,valueOf:n}}var cx=Math.random().toString(36).slice(2),ol="__reactFiber$"+cx,ux="__reactProps$"+cx,Qd="__reactContainer$"+cx,UO="__reactEvents$"+cx;function Kc(n){var e=n[ol];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Qd]||t[ol]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=zO(n);n!==null;){if(t=n[ol])return t;n=zO(n)}return e}n=t,t=n.parentNode}return null}function Em(n){return n=n[ol]||n[Qd],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ep(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error($e(33))}function dx(n){return n[ux]||null}function VO(n){var e=n[UO];return e===void 0&&(e=n[UO]=new Set),e}var B1=[],tp=-1;function sl(n){return{current:n}}function pn(n){0>tp||(n.current=B1[tp],B1[tp]=null,tp--)}function Fn(n,e){tp++,B1[tp]=n.current,n.current=e}var al={},Jr=sl(al),Ci=sl(!1),Qc=al;function np(n,e){var t=n.type.contextTypes;if(!t)return al;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ai(n){return n=n.childContextTypes,n!=null}function px(){pn(Ci),pn(Jr)}function HO(n,e,t){if(Jr.current!==al)throw Error($e(168));Fn(Jr,e),Fn(Ci,t)}function WO(n,e,t){var r=n.stateNode;if(n=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error($e(108,Ud(e)||"Unknown",i));return yn({},t,r)}function fx(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||al,Qc=Jr.current,Fn(Jr,n),Fn(Ci,Ci.current),!0}function GO(n,e,t){var r=n.stateNode;if(!r)throw Error($e(169));t?(n=WO(n,e,Qc),r.__reactInternalMemoizedMergedChildContext=n,pn(Ci),pn(Jr),Fn(Jr,n)):pn(Ci),Fn(Ci,t)}var z1=null,eu=null,KJ=wr.unstable_runWithPriority,U1=wr.unstable_scheduleCallback,V1=wr.unstable_cancelCallback,QJ=wr.unstable_shouldYield,jO=wr.unstable_requestPaint,H1=wr.unstable_now,eZ=wr.unstable_getCurrentPriorityLevel,hx=wr.unstable_ImmediatePriority,qO=wr.unstable_UserBlockingPriority,$O=wr.unstable_NormalPriority,XO=wr.unstable_LowPriority,YO=wr.unstable_IdlePriority,W1={},tZ=jO!==void 0?jO:function(){},Ks=null,mx=null,G1=!1,JO=H1(),Zr=1e4>JO?H1:function(){return H1()-JO};function rp(){switch(eZ()){case hx:return 99;case qO:return 98;case $O:return 97;case XO:return 96;case YO:return 95;default:throw Error($e(332))}}function ZO(n){switch(n){case 99:return hx;case 98:return qO;case 97:return $O;case 96:return XO;case 95:return YO;default:throw Error($e(332))}}function tu(n,e){return n=ZO(n),KJ(n,e)}function Pm(n,e,t){return n=ZO(n),U1(n,e,t)}function gs(){if(mx!==null){var n=mx;mx=null,V1(n)}KO()}function KO(){if(!G1&&Ks!==null){G1=!0;var n=0;try{var e=Ks;tu(99,function(){for(;n<e.length;n++){var t=e[n];do t=t(!0);while(t!==null)}}),Ks=null}catch(t){throw Ks!==null&&(Ks=Ks.slice(n+1)),U1(hx,gs),t}finally{G1=!1}}}var nZ=Xc.ReactCurrentBatchConfig;function Ho(n,e){if(n&&n.defaultProps){e=yn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var gx=sl(null),yx=null,ip=null,vx=null;function j1(){vx=ip=yx=null}function q1(n){var e=gx.current;pn(gx),n.type._context._currentValue=e}function QO(n,e){for(;n!==null;){var t=n.alternate;if((n.childLanes&e)===e){if(t===null||(t.childLanes&e)===e)break;t.childLanes|=e}else n.childLanes|=e,t!==null&&(t.childLanes|=e);n=n.return}}function op(n,e){yx=n,vx=ip=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!=0&&(Wo=!0),n.firstContext=null)}function yo(n,e){if(vx!==n&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(vx=n,e=1073741823),e={context:n,observedBits:e,next:null},ip===null){if(yx===null)throw Error($e(308));ip=e,yx.dependencies={lanes:0,firstContext:e,responders:null}}else ip=ip.next=e;return n._currentValue}var ll=!1;function $1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function eF(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function cl(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ul(n,e){if(n=n.updateQueue,n!==null){n=n.shared;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}}function tF(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Rm(n,e,t,r){var i=n.updateQueue;ll=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=n.alternate;if(u!==null){u=u.updateQueue;var d=u.lastBaseUpdate;d!==s&&(d===null?u.firstBaseUpdate=c:d.next=c,u.lastBaseUpdate=l)}}if(o!==null){d=i.baseState,s=0,u=c=l=null;do{a=o.lane;var p=o.eventTime;if((r&a)===a){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=n,g=o;switch(a=e,p=t,g.tag){case 1:if(f=g.payload,typeof f=="function"){d=f.call(p,d,a);break e}d=f;break e;case 3:f.flags=f.flags&-4097|64;case 0:if(f=g.payload,a=typeof f=="function"?f.call(p,d,a):f,a==null)break e;d=yn({},d,a);break e;case 2:ll=!0}}o.callback!==null&&(n.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else p={eventTime:p,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,Um|=s,n.lanes=s,n.memoizedState=d}}function nF(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error($e(191,i));i.call(r)}}}var rF=new B0.Component().refs;function xx(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:yn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var bx={isMounted:function(n){return(n=n._reactInternals)?Zc(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=ji(),i=fl(n),o=cl(r,i);o.payload=e,t!=null&&(o.callback=t),ul(n,o),hl(n,i,r)},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=ji(),i=fl(n),o=cl(r,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),ul(n,o),hl(n,i,r)},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ji(),r=fl(n),i=cl(t,r);i.tag=2,e!=null&&(i.callback=e),ul(n,i),hl(n,r,t)}};function iF(n,e,t,r,i,o,s){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!wm(t,r)||!wm(i,o):!0}function oF(n,e,t){var r=!1,i=al,o=e.contextType;return typeof o=="object"&&o!==null?o=yo(o):(i=Ai(e)?Qc:Jr.current,r=e.contextTypes,o=(r=r!=null)?np(n,i):al),e=new e(t,o),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),e}function sF(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&bx.enqueueReplaceState(e,e.state,null)}function X1(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=rF,$1(n);var o=e.contextType;typeof o=="object"&&o!==null?i.context=yo(o):(o=Ai(e)?Qc:Jr.current,i.context=np(n,o)),Rm(n,t,i,r),i.state=n.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xx(n,e,o,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bx.enqueueReplaceState(i,i.state,null),Rm(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var _x=Array.isArray;function Cm(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error($e(309));var r=t.stateNode}if(!r)throw Error($e(147,n));var i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var s=r.refs;s===rF&&(s=r.refs={}),o===null?delete s[i]:s[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error($e(284));if(!t._owner)throw Error($e(290,n))}return n}function wx(n,e){if(n.type!=="textarea")throw Error($e(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function aF(n){function e(v,m){if(n){var h=v.lastEffect;h!==null?(h.nextEffect=m,v.lastEffect=m):v.firstEffect=v.lastEffect=m,m.nextEffect=null,m.flags=8}}function t(v,m){if(!n)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=yl(v,m),v.index=0,v.sibling=null,v}function o(v,m,h){return v.index=h,n?(h=v.alternate,h!==null?(h=h.index,h<m?(v.flags=2,m):h):(v.flags=2,m)):m}function s(v){return n&&v.alternate===null&&(v.flags=2),v}function a(v,m,h,b){return m===null||m.tag!==6?(m=AP(h,v.mode,b),m.return=v,m):(m=i(m,h),m.return=v,m)}function l(v,m,h,b){return m!==null&&m.elementType===h.type?(b=i(m,h.props),b.ref=Cm(v,m,h),b.return=v,b):(b=Ux(h.type,h.key,h.props,null,v.mode,b),b.ref=Cm(v,m,h),b.return=v,b)}function c(v,m,h,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==h.containerInfo||m.stateNode.implementation!==h.implementation?(m=LP(h,v.mode,b),m.return=v,m):(m=i(m,h.children||[]),m.return=v,m)}function u(v,m,h,b,x){return m===null||m.tag!==7?(m=fp(h,v.mode,b,x),m.return=v,m):(m=i(m,h),m.return=v,m)}function d(v,m,h){if(typeof m=="string"||typeof m=="number")return m=AP(""+m,v.mode,h),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case nm:return h=Ux(m.type,m.key,m.props,null,v.mode,h),h.ref=Cm(v,null,m),h.return=v,h;case Yc:return m=LP(m,v.mode,h),m.return=v,m}if(_x(m)||om(m))return m=fp(m,v.mode,h,null),m.return=v,m;wx(v,m)}return null}function p(v,m,h,b){var x=m!==null?m.key:null;if(typeof h=="string"||typeof h=="number")return x!==null?null:a(v,m,""+h,b);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case nm:return h.key===x?h.type===Ka?u(v,m,h.props.children,b,x):l(v,m,h,b):null;case Yc:return h.key===x?c(v,m,h,b):null}if(_x(h)||om(h))return x!==null?null:u(v,m,h,b,null);wx(v,h)}return null}function f(v,m,h,b,x){if(typeof b=="string"||typeof b=="number")return v=v.get(h)||null,a(m,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nm:return v=v.get(b.key===null?h:b.key)||null,b.type===Ka?u(m,v,b.props.children,x,b.key):l(m,v,b,x);case Yc:return v=v.get(b.key===null?h:b.key)||null,c(m,v,b,x)}if(_x(b)||om(b))return v=v.get(h)||null,u(m,v,b,x,null);wx(m,b)}return null}function g(v,m,h,b){for(var x=null,_=null,S=m,M=m=0,E=null;S!==null&&M<h.length;M++){S.index>M?(E=S,S=null):E=S.sibling;var L=p(v,S,h[M],b);if(L===null){S===null&&(S=E);break}n&&S&&L.alternate===null&&e(v,S),m=o(L,m,M),_===null?x=L:_.sibling=L,_=L,S=E}if(M===h.length)return t(v,S),x;if(S===null){for(;M<h.length;M++)S=d(v,h[M],b),S!==null&&(m=o(S,m,M),_===null?x=S:_.sibling=S,_=S);return x}for(S=r(v,S);M<h.length;M++)E=f(S,v,M,h[M],b),E!==null&&(n&&E.alternate!==null&&S.delete(E.key===null?M:E.key),m=o(E,m,M),_===null?x=E:_.sibling=E,_=E);return n&&S.forEach(function(I){return e(v,I)}),x}function y(v,m,h,b){var x=om(h);if(typeof x!="function")throw Error($e(150));if(h=x.call(h),h==null)throw Error($e(151));for(var _=x=null,S=m,M=m=0,E=null,L=h.next();S!==null&&!L.done;M++,L=h.next()){S.index>M?(E=S,S=null):E=S.sibling;var I=p(v,S,L.value,b);if(I===null){S===null&&(S=E);break}n&&S&&I.alternate===null&&e(v,S),m=o(I,m,M),_===null?x=I:_.sibling=I,_=I,S=E}if(L.done)return t(v,S),x;if(S===null){for(;!L.done;M++,L=h.next())L=d(v,L.value,b),L!==null&&(m=o(L,m,M),_===null?x=L:_.sibling=L,_=L);return x}for(S=r(v,S);!L.done;M++,L=h.next())L=f(S,v,M,L.value,b),L!==null&&(n&&L.alternate!==null&&S.delete(L.key===null?M:L.key),m=o(L,m,M),_===null?x=L:_.sibling=L,_=L);return n&&S.forEach(function(T){return e(v,T)}),x}return function(v,m,h,b){var x=typeof h=="object"&&h!==null&&h.type===Ka&&h.key===null;x&&(h=h.props.children);var _=typeof h=="object"&&h!==null;if(_)switch(h.$$typeof){case nm:e:{for(_=h.key,x=m;x!==null;){if(x.key===_){switch(x.tag){case 7:if(h.type===Ka){t(v,x.sibling),m=i(x,h.props.children),m.return=v,v=m;break e}break;default:if(x.elementType===h.type){t(v,x.sibling),m=i(x,h.props),m.ref=Cm(v,x,h),m.return=v,v=m;break e}}t(v,x);break}else e(v,x);x=x.sibling}h.type===Ka?(m=fp(h.props.children,v.mode,b,h.key),m.return=v,v=m):(b=Ux(h.type,h.key,h.props,null,v.mode,b),b.ref=Cm(v,m,h),b.return=v,v=b)}return s(v);case Yc:e:{for(x=h.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===h.containerInfo&&m.stateNode.implementation===h.implementation){t(v,m.sibling),m=i(m,h.children||[]),m.return=v,v=m;break e}else{t(v,m);break}else e(v,m);m=m.sibling}m=LP(h,v.mode,b),m.return=v,v=m}return s(v)}if(typeof h=="string"||typeof h=="number")return h=""+h,m!==null&&m.tag===6?(t(v,m.sibling),m=i(m,h),m.return=v,v=m):(t(v,m),m=AP(h,v.mode,b),m.return=v,v=m),s(v);if(_x(h))return g(v,m,h,b);if(om(h))return y(v,m,h,b);if(_&&wx(v,h),typeof h=="undefined"&&!x)switch(v.tag){case 1:case 22:case 0:case 11:case 15:throw Error($e(152,Ud(v.type)||"Component"))}return t(v,m)}}var Tx=aF(!0),lF=aF(!1),Am={},ys=sl(Am),Lm=sl(Am),Dm=sl(Am);function nu(n){if(n===Am)throw Error($e(174));return n}function Y1(n,e){switch(Fn(Dm,e),Fn(Lm,n),Fn(ys,Am),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t1(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=t1(e,n)}pn(ys),Fn(ys,e)}function sp(){pn(ys),pn(Lm),pn(Dm)}function cF(n){nu(Dm.current);var e=nu(ys.current),t=t1(e,n.type);e!==t&&(Fn(Lm,n),Fn(ys,t))}function J1(n){Lm.current===n&&(pn(ys),pn(Lm))}var kn=sl(0);function Sx(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!=0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qs=null,dl=null,vs=!1;function uF(n,e){var t=bo(5,null,null,0);t.elementType="DELETED",t.type="DELETED",t.stateNode=e,t.return=n,t.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=t,n.lastEffect=t):n.firstEffect=n.lastEffect=t}function dF(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Z1(n){if(vs){var e=dl;if(e){var t=e;if(!dF(n,e)){if(e=Kd(t.nextSibling),!e||!dF(n,e)){n.flags=n.flags&-1025|2,vs=!1,Qs=n;return}uF(Qs,t)}Qs=n,dl=Kd(e.firstChild)}else n.flags=n.flags&-1025|2,vs=!1,Qs=n}}function pF(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Qs=n}function Mx(n){if(n!==Qs)return!1;if(!vs)return pF(n),vs=!0,!1;var e=n.type;if(n.tag!==5||e!=="head"&&e!=="body"&&!O1(e,n.memoizedProps))for(e=dl;e;)uF(n,e),e=Kd(e.nextSibling);if(pF(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error($e(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){dl=Kd(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}dl=null}}else dl=Qs?Kd(n.stateNode.nextSibling):null;return!0}function K1(){dl=Qs=null,vs=!1}var ap=[];function Q1(){for(var n=0;n<ap.length;n++)ap[n]._workInProgressVersionPrimary=null;ap.length=0}var Nm=Xc.ReactCurrentDispatcher,vo=Xc.ReactCurrentBatchConfig,Im=0,qn=null,Kr=null,Or=null,Ex=!1,Om=!1;function Li(){throw Error($e(321))}function eP(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!go(n[t],e[t]))return!1;return!0}function tP(n,e,t,r,i,o){if(Im=o,qn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nm.current=n===null||n.memoizedState===null?iZ:oZ,n=t(r,i),Om){o=0;do{if(Om=!1,!(25>o))throw Error($e(301));o+=1,Or=Kr=null,e.updateQueue=null,Nm.current=sZ,n=t(r,i)}while(Om)}if(Nm.current=Ax,e=Kr!==null&&Kr.next!==null,Im=0,Or=Kr=qn=null,Ex=!1,e)throw Error($e(300));return n}function ru(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?qn.memoizedState=Or=n:Or=Or.next=n,Or}function iu(){if(Kr===null){var n=qn.alternate;n=n!==null?n.memoizedState:null}else n=Kr.next;var e=Or===null?qn.memoizedState:Or.next;if(e!==null)Or=e,Kr=n;else{if(n===null)throw Error($e(310));Kr=n,n={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},Or===null?qn.memoizedState=Or=n:Or=Or.next=n}return Or}function xs(n,e){return typeof e=="function"?e(n):e}function Fm(n){var e=iu(),t=e.queue;if(t===null)throw Error($e(311));t.lastRenderedReducer=n;var r=Kr,i=r.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,t.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=s=o=null,l=i;do{var c=l.lane;if((Im&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var u={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(s=a=u,o=r):a=a.next=u,qn.lanes|=c,Um|=c}l=l.next}while(l!==null&&l!==i);a===null?o=r:a.next=s,go(r,e.memoizedState)||(Wo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,t.lastRenderedState=r}return[e.memoizedState,t.dispatch]}function km(n){var e=iu(),t=e.queue;if(t===null)throw Error($e(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=n(o,s.action),s=s.next;while(s!==i);go(o,e.memoizedState)||(Wo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,r]}function fF(n,e,t){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(Im&n)===n)&&(e._workInProgressVersionPrimary=r,ap.push(e))),n)return t(e._source);throw ap.push(e),Error($e(350))}function hF(n,e,t,r){var i=_i;if(i===null)throw Error($e(349));var o=e._getVersion,s=o(e._source),a=Nm.current,l=a.useState(function(){return fF(i,e,t)}),c=l[1],u=l[0];l=Or;var d=n.memoizedState,p=d.refs,f=p.getSnapshot,g=d.source;d=d.subscribe;var y=qn;return n.memoizedState={refs:p,source:e,subscribe:r},a.useEffect(function(){p.getSnapshot=t,p.setSnapshot=c;var v=o(e._source);if(!go(s,v)){v=t(e._source),go(u,v)||(c(v),v=fl(y),i.mutableReadLanes|=v&i.pendingLanes),v=i.mutableReadLanes,i.entangledLanes|=v;for(var m=i.entanglements,h=v;0<h;){var b=31-rl(h),x=1<<b;m[b]|=v,h&=~x}}},[t,e,r]),a.useEffect(function(){return r(e._source,function(){var v=p.getSnapshot,m=p.setSnapshot;try{m(v(e._source));var h=fl(y);i.mutableReadLanes|=h&i.pendingLanes}catch(b){m(function(){throw b})}})},[e,r]),go(f,t)&&go(g,e)&&go(d,r)||(n={pending:null,dispatch:null,lastRenderedReducer:xs,lastRenderedState:u},n.dispatch=c=oP.bind(null,qn,n),l.queue=n,l.baseQueue=null,u=fF(i,e,t),l.memoizedState=l.baseState=u),u}function mF(n,e,t){var r=iu();return hF(r,n,e,t)}function Bm(n){var e=ru();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n=e.queue={pending:null,dispatch:null,lastRenderedReducer:xs,lastRenderedState:n},n=n.dispatch=oP.bind(null,qn,n),[e.memoizedState,n]}function Px(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=qn.updateQueue,e===null?(e={lastEffect:null},qn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function gF(n){var e=ru();return n={current:n},e.memoizedState=n}function Rx(){return iu().memoizedState}function nP(n,e,t,r){var i=ru();qn.flags|=n,i.memoizedState=Px(1|e,t,void 0,r===void 0?null:r)}function rP(n,e,t,r){var i=iu();r=r===void 0?null:r;var o=void 0;if(Kr!==null){var s=Kr.memoizedState;if(o=s.destroy,r!==null&&eP(r,s.deps)){Px(e,t,o,r);return}}qn.flags|=n,i.memoizedState=Px(1|e,t,o,r)}function yF(n,e){return nP(516,4,n,e)}function Cx(n,e){return rP(516,4,n,e)}function vF(n,e){return rP(4,2,n,e)}function xF(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function bF(n,e,t){return t=t!=null?t.concat([n]):null,rP(4,2,xF.bind(null,e,n),t)}function iP(){}function _F(n,e){var t=iu();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&eP(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function wF(n,e){var t=iu();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&eP(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function rZ(n,e){var t=rp();tu(98>t?98:t,function(){n(!0)}),tu(97<t?97:t,function(){var r=vo.transition;vo.transition=1;try{n(!1),e()}finally{vo.transition=r}})}function oP(n,e,t){var r=ji(),i=fl(n),o={lane:i,action:t,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),e.pending=o,s=n.alternate,n===qn||s!==null&&s===qn)Om=Ex=!0;else{if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,t);if(o.eagerReducer=s,o.eagerState=l,go(l,a))return}catch(c){}finally{}hl(n,i,r)}}var Ax={readContext:yo,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useOpaqueIdentifier:Li,unstable_isNewReconciler:!1},iZ={readContext:yo,useCallback:function(n,e){return ru().memoizedState=[n,e===void 0?null:e],n},useContext:yo,useEffect:yF,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,nP(4,2,xF.bind(null,e,n),t)},useLayoutEffect:function(n,e){return nP(4,2,n,e)},useMemo:function(n,e){var t=ru();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ru();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},n=n.dispatch=oP.bind(null,qn,n),[r.memoizedState,n]},useRef:gF,useState:Bm,useDebugValue:iP,useDeferredValue:function(n){var e=Bm(n),t=e[0],r=e[1];return yF(function(){var i=vo.transition;vo.transition=1;try{r(n)}finally{vo.transition=i}},[n]),t},useTransition:function(){var n=Bm(!1),e=n[0];return n=rZ.bind(null,n[1]),gF(n),[n,e]},useMutableSource:function(n,e,t){var r=ru();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:n,subscribe:t},hF(r,n,e,t)},useOpaqueIdentifier:function(){if(vs){var n=!1,e=ZJ(function(){throw n||(n=!0,t("r:"+(k1++).toString(36))),Error($e(355))}),t=Bm(e)[1];return(qn.mode&2)==0&&(qn.flags|=516,Px(5,function(){t("r:"+(k1++).toString(36))},void 0,null)),e}return e="r:"+(k1++).toString(36),Bm(e),e},unstable_isNewReconciler:!1},oZ={readContext:yo,useCallback:_F,useContext:yo,useEffect:Cx,useImperativeHandle:bF,useLayoutEffect:vF,useMemo:wF,useReducer:Fm,useRef:Rx,useState:function(){return Fm(xs)},useDebugValue:iP,useDeferredValue:function(n){var e=Fm(xs),t=e[0],r=e[1];return Cx(function(){var i=vo.transition;vo.transition=1;try{r(n)}finally{vo.transition=i}},[n]),t},useTransition:function(){var n=Fm(xs)[0];return[Rx().current,n]},useMutableSource:mF,useOpaqueIdentifier:function(){return Fm(xs)[0]},unstable_isNewReconciler:!1},sZ={readContext:yo,useCallback:_F,useContext:yo,useEffect:Cx,useImperativeHandle:bF,useLayoutEffect:vF,useMemo:wF,useReducer:km,useRef:Rx,useState:function(){return km(xs)},useDebugValue:iP,useDeferredValue:function(n){var e=km(xs),t=e[0],r=e[1];return Cx(function(){var i=vo.transition;vo.transition=1;try{r(n)}finally{vo.transition=i}},[n]),t},useTransition:function(){var n=km(xs)[0];return[Rx().current,n]},useMutableSource:mF,useOpaqueIdentifier:function(){return km(xs)[0]},unstable_isNewReconciler:!1},aZ=Xc.ReactCurrentOwner,Wo=!1;function Di(n,e,t,r){e.child=n===null?lF(e,null,t,r):Tx(e,n.child,t,r)}function TF(n,e,t,r,i){t=t.render;var o=e.ref;return op(e,i),r=tP(n,e,t,r,o,i),n!==null&&!Wo?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,ea(n,e,i)):(e.flags|=1,Di(n,e,r,i),e.child)}function SF(n,e,t,r,i,o){if(n===null){var s=t.type;return typeof s=="function"&&!RP(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,MF(n,e,s,r,i,o)):(n=Ux(t.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}return s=n.child,(i&o)==0&&(i=s.memoizedProps,t=t.compare,t=t!==null?t:wm,t(i,r)&&n.ref===e.ref)?ea(n,e,o):(e.flags|=1,n=yl(s,r),n.ref=e.ref,n.return=e,e.child=n)}function MF(n,e,t,r,i,o){if(n!==null&&wm(n.memoizedProps,r)&&n.ref===e.ref)if(Wo=!1,(o&i)!=0)(n.flags&16384)!=0&&(Wo=!0);else return e.lanes=n.lanes,ea(n,e,o);return aP(n,e,t,r,o)}function sP(n,e,t){var r=e.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)==0)e.memoizedState={baseLanes:0},zx(e,t);else if((t&1073741824)!=0)e.memoizedState={baseLanes:0},zx(e,o!==null?o.baseLanes:t);else return n=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n},zx(e,n),null;else o!==null?(r=o.baseLanes|t,e.memoizedState=null):r=t,zx(e,r);return Di(n,e,i,t),e.child}function EF(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=128)}function aP(n,e,t,r,i){var o=Ai(t)?Qc:Jr.current;return o=np(e,o),op(e,i),t=tP(n,e,t,r,o,i),n!==null&&!Wo?(e.updateQueue=n.updateQueue,e.flags&=-517,n.lanes&=~i,ea(n,e,i)):(e.flags|=1,Di(n,e,t,i),e.child)}function PF(n,e,t,r,i){if(Ai(t)){var o=!0;fx(e)}else o=!1;if(op(e,i),e.stateNode===null)n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),oF(e,t,r),X1(e,t,r,i),r=!0;else if(n===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=t.contextType;typeof c=="object"&&c!==null?c=yo(c):(c=Ai(t)?Qc:Jr.current,c=np(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sF(e,s,r,c),ll=!1;var p=e.memoizedState;s.state=p,Rm(e,r,s,i),l=e.memoizedState,a!==r||p!==l||Ci.current||ll?(typeof u=="function"&&(xx(e,t,u,r),l=e.memoizedState),(a=ll||iF(e,t,a,r,p,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{s=e.stateNode,eF(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ho(e.type,a),s.props=c,d=e.pendingProps,p=s.context,l=t.contextType,typeof l=="object"&&l!==null?l=yo(l):(l=Ai(t)?Qc:Jr.current,l=np(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==l)&&sF(e,s,r,l),ll=!1,p=e.memoizedState,s.state=p,Rm(e,r,s,i);var g=e.memoizedState;a!==d||p!==g||Ci.current||ll?(typeof f=="function"&&(xx(e,t,f,r),g=e.memoizedState),(c=ll||iF(e,t,c,r,p,g,l))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=256),r=!1)}return lP(n,e,t,r,o,i)}function lP(n,e,t,r,i,o){EF(n,e);var s=(e.flags&64)!=0;if(!r&&!s)return i&&GO(e,t,!1),ea(n,e,o);r=e.stateNode,aZ.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&s?(e.child=Tx(e,n.child,null,o),e.child=Tx(e,null,a,o)):Di(n,e,a,o),e.memoizedState=r.state,i&&GO(e,t,!0),e.child}function RF(n){var e=n.stateNode;e.pendingContext?HO(n,e.pendingContext,e.pendingContext!==e.context):e.context&&HO(n,e.context,!1),Y1(n,e.containerInfo)}var Lx={dehydrated:null,retryLane:0};function CF(n,e,t){var r=e.pendingProps,i=kn.current,o=!1,s;return(s=(e.flags&64)!=0)||(s=n!==null&&n.memoizedState===null?!1:(i&2)!=0),s?(o=!0,e.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Fn(kn,i&1),n===null?(r.fallback!==void 0&&Z1(e),n=r.children,i=r.fallback,o?(n=AF(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=Lx,n):typeof r.unstable_expectedLoadTime=="number"?(n=AF(e,n,i,t),e.child.memoizedState={baseLanes:t},e.memoizedState=Lx,e.lanes=33554432,n):(t=CP({mode:"visible",children:n},e.mode,t,null),t.return=e,e.child=t)):n.memoizedState!==null?o?(r=DF(n,e,r.children,r.fallback,t),o=e.child,i=n.child.memoizedState,o.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},o.childLanes=n.childLanes&~t,e.memoizedState=Lx,r):(t=LF(n,e,r.children,t),e.memoizedState=null,t):o?(r=DF(n,e,r.children,r.fallback,t),o=e.child,i=n.child.memoizedState,o.memoizedState=i===null?{baseLanes:t}:{baseLanes:i.baseLanes|t},o.childLanes=n.childLanes&~t,e.memoizedState=Lx,r):(t=LF(n,e,r.children,t),e.memoizedState=null,t)}function AF(n,e,t,r){var i=n.mode,o=n.child;return e={mode:"hidden",children:e},(i&2)==0&&o!==null?(o.childLanes=0,o.pendingProps=e):o=CP(e,i,0,null),t=fp(t,i,r,null),o.return=n,t.return=n,o.sibling=t,n.child=o,t}function LF(n,e,t,r){var i=n.child;return n=i.sibling,t=yl(i,{mode:"visible",children:t}),(e.mode&2)==0&&(t.lanes=r),t.return=e,t.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,e.firstEffect=e.lastEffect=n),e.child=t}function DF(n,e,t,r,i){var o=e.mode,s=n.child;n=s.sibling;var a={mode:"hidden",children:t};return(o&2)==0&&e.child!==s?(t=e.child,t.childLanes=0,t.pendingProps=a,s=t.lastEffect,s!==null?(e.firstEffect=t.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):t=yl(s,a),n!==null?r=yl(n,r):(r=fp(r,o,i,null),r.flags|=2),r.return=e,t.return=e,t.sibling=r,e.child=t,r}function NF(n,e){n.lanes|=e;var t=n.alternate;t!==null&&(t.lanes|=e),QO(n.return,e)}function cP(n,e,t,r,i,o){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i,lastEffect:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i,s.lastEffect=o)}function IF(n,e,t){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Di(n,e,r.children,t),r=kn.current,(r&2)!=0)r=r&1|2,e.flags|=64;else{if(n!==null&&(n.flags&64)!=0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&NF(n,t);else if(n.tag===19)NF(n,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Fn(kn,r),(e.mode&2)==0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Sx(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),cP(e,!1,i,t,o,e.lastEffect);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Sx(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}cP(e,!0,t,null,o,e.lastEffect);break;case"together":cP(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ea(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Um|=e.lanes,(t&e.childLanes)!=0){if(n!==null&&e.child!==n.child)throw Error($e(153));if(e.child!==null){for(n=e.child,t=yl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=yl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}return null}var OF,uP,FF,kF;OF=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};uP=function(){};FF=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,nu(ys.current);var o=null;switch(t){case"input":i=YE(n,i),r=YE(n,r),o=[];break;case"option":i=KE(n,i),r=KE(n,r),o=[];break;case"select":i=yn({},i,{value:void 0}),r=yn({},r,{value:void 0}),o=[];break;case"textarea":i=QE(n,i),r=QE(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=lx)}n1(t,r);var s;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(tm.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(t||(t={}),t[s]=l[s])}else t||(o||(o=[]),o.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(tm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dn("scroll",n),o||a===l||(o=[])):typeof l=="object"&&l!==null&&l.$$typeof===GE?l.toString():(o=o||[]).push(c,l))}t&&(o=o||[]).push("style",t);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};kF=function(n,e,t,r){t!==r&&(e.flags|=4)};function zm(n,e){if(!vs)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function lZ(n,e,t){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ai(e.type)&&px(),null;case 3:return sp(),pn(Ci),pn(Jr),Q1(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Mx(e)?e.flags|=4:r.hydrate||(e.flags|=256)),uP(e),null;case 5:J1(e);var i=nu(Dm.current);if(t=e.type,n!==null&&e.stateNode!=null)FF(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error($e(166));return null}if(n=nu(ys.current),Mx(e)){r=e.stateNode,t=e.type;var o=e.memoizedProps;switch(r[ol]=e,r[ux]=o,t){case"dialog":dn("cancel",r),dn("close",r);break;case"iframe":case"object":case"embed":dn("load",r);break;case"video":case"audio":for(n=0;n<Sm.length;n++)dn(Sm[n],r);break;case"source":dn("error",r);break;case"img":case"image":case"link":dn("error",r),dn("load",r);break;case"details":dn("toggle",r);break;case"input":R3(r,o),dn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},dn("invalid",r);break;case"textarea":L3(r,o),dn("invalid",r)}n1(t,o),n=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):tm.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&dn("scroll",r));switch(t){case"input":W0(r),A3(r,o,!0);break;case"textarea":W0(r),N3(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=lx)}r=n,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,n===e1.html&&(n=I3(t)),n===e1.html?t==="script"?(n=s.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=s.createElement(t,{is:r.is}):(n=s.createElement(t),t==="select"&&(s=n,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):n=s.createElementNS(n,t),n[ol]=e,n[ux]=r,OF(n,e,!1,!1),e.stateNode=n,s=r1(t,r),t){case"dialog":dn("cancel",n),dn("close",n),i=r;break;case"iframe":case"object":case"embed":dn("load",n),i=r;break;case"video":case"audio":for(i=0;i<Sm.length;i++)dn(Sm[i],n);i=r;break;case"source":dn("error",n),i=r;break;case"img":case"image":case"link":dn("error",n),dn("load",n),i=r;break;case"details":dn("toggle",n),i=r;break;case"input":R3(n,r),i=YE(n,r),dn("invalid",n);break;case"option":i=KE(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=yn({},r,{value:void 0}),dn("invalid",n);break;case"textarea":L3(n,r),i=QE(n,r),dn("invalid",n);break;default:i=r}n1(t,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?k3(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O3(n,l)):o==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&am(n,l):typeof l=="number"&&am(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tm.hasOwnProperty(o)?l!=null&&o==="onScroll"&&dn("scroll",n):l!=null&&BE(n,o,l,s))}switch(t){case"input":W0(n),A3(n,r,!1);break;case"textarea":W0(n),N3(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Qa(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?Vd(n,!!r.multiple,o,!1):r.defaultValue!=null&&Vd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=lx)}kO(t,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(n&&e.stateNode!=null)kF(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($e(166));t=nu(Dm.current),nu(ys.current),Mx(e)?(r=e.stateNode,t=e.memoizedProps,r[ol]=e,r.nodeValue!==t&&(e.flags|=4)):(r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[ol]=e,e.stateNode=r)}return null;case 13:return pn(kn),r=e.memoizedState,(e.flags&64)!=0?(e.lanes=t,e):(r=r!==null,t=!1,n===null?e.memoizedProps.fallback!==void 0&&Mx(e):t=n.memoizedState!==null,r&&!t&&(e.mode&2)!=0&&(n===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(kn.current&1)!=0?Fr===0&&(Fr=3):((Fr===0||Fr===3)&&(Fr=4),_i===null||(Um&134217727)==0&&(cp&134217727)==0||dp(_i,Qr))),(r||t)&&(e.flags|=4),null);case 4:return sp(),uP(e),n===null&&DO(e.stateNode.containerInfo),null;case 10:return q1(e),null;case 17:return Ai(e.type)&&px(),null;case 19:if(pn(kn),r=e.memoizedState,r===null)return null;if(o=(e.flags&64)!=0,s=r.rendering,s===null)if(o)zm(r,!1);else{if(Fr!==0||n!==null&&(n.flags&64)!=0)for(n=e.child;n!==null;){if(s=Sx(n),s!==null){for(e.flags|=64,zm(r,!1),o=s.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=t,t=e.child;t!==null;)o=t,n=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=n,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,n=s.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Fn(kn,kn.current&1|2),e.child}n=n.sibling}r.tail!==null&&Zr()>_P&&(e.flags|=64,o=!0,zm(r,!1),e.lanes=33554432)}else{if(!o)if(n=Sx(s),n!==null){if(e.flags|=64,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),zm(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!vs)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Zr()-r.renderingStartTime>_P&&t!==1073741824&&(e.flags|=64,o=!0,zm(r,!1),e.lanes=33554432);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Zr(),t.sibling=null,e=kn.current,Fn(kn,o?e&1|2:e&1),t):null;case 23:case 24:return PP(),n!==null&&n.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error($e(156,e.tag))}function cZ(n){switch(n.tag){case 1:Ai(n.type)&&px();var e=n.flags;return e&4096?(n.flags=e&-4097|64,n):null;case 3:if(sp(),pn(Ci),pn(Jr),Q1(),e=n.flags,(e&64)!=0)throw Error($e(285));return n.flags=e&-4097|64,n;case 5:return J1(n),null;case 13:return pn(kn),e=n.flags,e&4096?(n.flags=e&-4097|64,n):null;case 19:return pn(kn),null;case 4:return sp(),null;case 10:return q1(n),null;case 23:case 24:return PP(),null;default:return null}}function dP(n,e){try{var t="",r=e;do t+=WY(r),r=r.return;while(r);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:e,stack:i}}function pP(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var uZ=typeof WeakMap=="function"?WeakMap:Map;function BF(n,e,t){t=cl(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ix||(Ix=!0,wP=r),pP(n,e)},t}function zF(n,e,t){t=cl(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return pP(n,e),r(i)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){typeof r!="function"&&(bs===null?bs=new Set([this]):bs.add(this),pP(n,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}var dZ=typeof WeakSet=="function"?WeakSet:Set;function UF(n){var e=n.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(t){gl(n,t)}else e.current=null}function pZ(n,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&n!==null){var t=n.memoizedProps,r=n.memoizedState;n=e.stateNode,e=n.getSnapshotBeforeUpdate(e.elementType===e.type?t:Ho(e.type,t),r),n.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&F1(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error($e(163))}function fZ(n,e,t){switch(t.tag){case 0:case 11:case 15:case 22:if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{if((n.tag&3)==3){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}if(e=t.updateQueue,e=e!==null?e.lastEffect:null,e!==null){n=e=e.next;do{var i=n;r=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(tk(t,n),_Z(t,n)),n=r}while(n!==e)}return;case 1:n=t.stateNode,t.flags&4&&(e===null?n.componentDidMount():(r=t.elementType===t.type?e.memoizedProps:Ho(t.type,e.memoizedProps),n.componentDidUpdate(r,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),e=t.updateQueue,e!==null&&nF(t,e,n);return;case 3:if(e=t.updateQueue,e!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nF(t,e,n)}return;case 5:n=t.stateNode,e===null&&t.flags&4&&kO(t.type,t.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:t.memoizedState===null&&(t=t.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&Q3(t))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error($e(163))}function VF(n,e){for(var t=n;;){if(t.tag===5){var r=t.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=t.stateNode;var i=t.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=F3("display",i)}}else if(t.tag===6)t.stateNode.nodeValue=e?"":t.memoizedProps;else if((t.tag!==23&&t.tag!==24||t.memoizedState===null||t===n)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}}function HF(n,e){if(eu&&typeof eu.onCommitFiberUnmount=="function")try{eu.onCommitFiberUnmount(z1,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n=n.next;do{var r=t,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!=0)tk(e,t);else{r=e;try{i()}catch(o){gl(r,o)}}t=t.next}while(t!==n)}break;case 1:if(UF(e),n=e.stateNode,typeof n.componentWillUnmount=="function")try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(o){gl(e,o)}break;case 5:UF(e);break;case 4:qF(n,e)}}function WF(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function GF(n){return n.tag===5||n.tag===3||n.tag===4}function jF(n){e:{for(var e=n.return;e!==null;){if(GF(e))break e;e=e.return}throw Error($e(160))}var t=e;switch(e=t.stateNode,t.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error($e(161))}t.flags&16&&(am(e,""),t.flags&=-17);e:t:for(t=n;;){for(;t.sibling===null;){if(t.return===null||GF(t.return)){t=null;break e}t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2)){t=t.stateNode;break e}}r?fP(n,t,e):hP(n,t,e)}function fP(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=lx));else if(r!==4&&(n=n.child,n!==null))for(fP(n,e,t),n=n.sibling;n!==null;)fP(n,e,t),n=n.sibling}function hP(n,e,t){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(hP(n,e,t),n=n.sibling;n!==null;)hP(n,e,t),n=n.sibling}function qF(n,e){for(var t=e,r=!1,i,o;;){if(!r){r=t.return;e:for(;;){if(r===null)throw Error($e(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}r=r.return}r=!0}if(t.tag===5||t.tag===6){e:for(var s=n,a=t,l=a;;)if(HF(s,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}o?(s=i,a=t.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){i=t.stateNode.containerInfo,o=!0,t.child.return=t,t=t.child;continue}}else if(HF(n,t),t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return,t.tag===4&&(r=!1)}t.sibling.return=t.return,t=t.sibling}}function mP(n,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var t=e.updateQueue;if(t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do(r.tag&3)==3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==t)}return;case 1:return;case 5:if(t=e.stateNode,t!=null){r=e.memoizedProps;var i=n!==null?n.memoizedProps:r;n=e.type;var o=e.updateQueue;if(e.updateQueue=null,o!==null){for(t[ux]=r,n==="input"&&r.type==="radio"&&r.name!=null&&C3(t,r),r1(n,i),e=r1(n,r),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?k3(t,a):s==="dangerouslySetInnerHTML"?O3(t,a):s==="children"?am(t,a):BE(t,s,a,e)}switch(n){case"input":JE(t,r);break;case"textarea":D3(t,r);break;case"select":n=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?Vd(t,!!r.multiple,o,!1):n!==!!r.multiple&&(r.defaultValue!=null?Vd(t,!!r.multiple,r.defaultValue,!0):Vd(t,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error($e(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:t=e.stateNode,t.hydrate&&(t.hydrate=!1,Q3(t.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(bP=Zr(),VF(e.child,!0)),$F(e);return;case 19:$F(e);return;case 17:return;case 23:case 24:VF(e,e.memoizedState!==null);return}throw Error($e(163))}function $F(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new dZ),e.forEach(function(r){var i=SZ.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function hZ(n,e){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var mZ=Math.ceil,Dx=Xc.ReactCurrentDispatcher,gP=Xc.ReactCurrentOwner,xt=0,_i=null,pr=null,Qr=0,ou=0,yP=sl(0),Fr=0,Nx=null,lp=0,Um=0,cp=0,vP=0,xP=null,bP=0,_P=Infinity;function up(){_P=Zr()+500}var ot=null,Ix=!1,wP=null,bs=null,pl=!1,Vm=null,Hm=90,TP=[],SP=[],ta=null,Wm=0,MP=null,Ox=-1,na=0,Fx=0,Gm=null,kx=!1;function ji(){return(xt&48)!=0?Zr():Ox!==-1?Ox:Ox=Zr()}function fl(n){if(n=n.mode,(n&2)==0)return 1;if((n&4)==0)return rp()===99?1:2;if(na===0&&(na=lp),nZ.transition!==0){Fx!==0&&(Fx=xP!==null?xP.pendingLanes:0),n=na;var e=4186112&~Fx;return e&=-e,e===0&&(n=4186112&~n,e=n&-n,e===0&&(e=8192)),e}return n=rp(),(xt&4)!=0&&n===98?n=Z0(12,na):(n=oJ(n),n=Z0(n,na)),n}function hl(n,e,t){if(50<Wm)throw Wm=0,MP=null,Error($e(185));if(n=Bx(n,e),n===null)return null;K0(n,e,t),n===_i&&(cp|=e,Fr===4&&dp(n,Qr));var r=rp();e===1?(xt&8)!=0&&(xt&48)==0?EP(n):(xo(n,t),xt===0&&(up(),gs())):((xt&4)==0||r!==98&&r!==99||(ta===null?ta=new Set([n]):ta.add(n)),xo(n,t)),xP=n}function Bx(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}function xo(n,e){for(var t=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-rl(s),l=1<<a,c=o[a];if(c===-1){if((l&r)==0||(l&i)!=0){c=e,qd(l);var u=sn;o[a]=10<=u?c+250:6<=u?c+5e3:-1}}else c<=e&&(n.expiredLanes|=l);s&=~l}if(r=gm(n,n===_i?Qr:0),e=sn,r===0)t!==null&&(t!==W1&&V1(t),n.callbackNode=null,n.callbackPriority=0);else{if(t!==null){if(n.callbackPriority===e)return;t!==W1&&V1(t)}e===15?(t=EP.bind(null,n),Ks===null?(Ks=[t],mx=U1(hx,KO)):Ks.push(t),t=W1):e===14?t=Pm(99,EP.bind(null,n)):(t=sJ(e),t=Pm(t,XF.bind(null,n))),n.callbackPriority=e,n.callbackNode=t}}function XF(n){if(Ox=-1,Fx=na=0,(xt&48)!=0)throw Error($e(327));var e=n.callbackNode;if(ml()&&n.callbackNode!==e)return null;var t=gm(n,n===_i?Qr:0);if(t===0)return null;var r=t,i=xt;xt|=16;var o=KF();(_i!==n||Qr!==r)&&(up(),pp(n,r));do try{vZ();break}catch(a){ZF(n,a)}while(1);if(j1(),Dx.current=o,xt=i,pr!==null?r=0:(_i=null,Qr=0,r=Fr),(lp&cp)!=0)pp(n,0);else if(r!==0){if(r===2&&(xt|=64,n.hydrate&&(n.hydrate=!1,F1(n.containerInfo)),t=sO(n),t!==0&&(r=jm(n,t))),r===1)throw e=Nx,pp(n,0),dp(n,t),xo(n,Zr()),e;switch(n.finishedWork=n.current.alternate,n.finishedLanes=t,r){case 0:case 1:throw Error($e(345));case 2:su(n);break;case 3:if(dp(n,t),(t&62914560)===t&&(r=bP+500-Zr(),10<r)){if(gm(n,0)!==0)break;if(i=n.suspendedLanes,(i&t)!==t){ji(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=BO(su.bind(null,n),r);break}su(n);break;case 4:if(dp(n,t),(t&4186112)===t)break;for(r=n.eventTimes,i=-1;0<t;){var s=31-rl(t);o=1<<s,s=r[s],s>i&&(i=s),t&=~o}if(t=i,t=Zr()-t,t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*mZ(t/1960))-t,10<t){n.timeoutHandle=BO(su.bind(null,n),t);break}su(n);break;case 5:su(n);break;default:throw Error($e(329))}}return xo(n,Zr()),n.callbackNode===e?XF.bind(null,n):null}function dp(n,e){for(e&=~vP,e&=~cp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-rl(e),r=1<<t;n[t]=-1,e&=~r}}function EP(n){if((xt&48)!=0)throw Error($e(327));if(ml(),n===_i&&(n.expiredLanes&Qr)!=0){var e=Qr,t=jm(n,e);(lp&cp)!=0&&(e=gm(n,e),t=jm(n,e))}else e=gm(n,0),t=jm(n,e);if(n.tag!==0&&t===2&&(xt|=64,n.hydrate&&(n.hydrate=!1,F1(n.containerInfo)),e=sO(n),e!==0&&(t=jm(n,e))),t===1)throw t=Nx,pp(n,0),dp(n,e),xo(n,Zr()),t;return n.finishedWork=n.current.alternate,n.finishedLanes=e,su(n),xo(n,Zr()),null}function gZ(){if(ta!==null){var n=ta;ta=null,n.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,xo(e,Zr())})}gs()}function YF(n,e){var t=xt;xt|=1;try{return n(e)}finally{xt=t,xt===0&&(up(),gs())}}function JF(n,e){var t=xt;xt&=-2,xt|=8;try{return n(e)}finally{xt=t,xt===0&&(up(),gs())}}function zx(n,e){Fn(yP,ou),ou|=e,lp|=e}function PP(){ou=yP.current,pn(yP)}function pp(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,JJ(t)),pr!==null)for(t=pr.return;t!==null;){var r=t;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&px();break;case 3:sp(),pn(Ci),pn(Jr),Q1();break;case 5:J1(r);break;case 4:sp();break;case 13:pn(kn);break;case 19:pn(kn);break;case 10:q1(r);break;case 23:case 24:PP()}t=t.return}_i=n,pr=yl(n.current,null),Qr=ou=lp=e,Fr=0,Nx=null,vP=cp=Um=0}function ZF(n,e){do{var t=pr;try{if(j1(),Nm.current=Ax,Ex){for(var r=qn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ex=!1}if(Im=0,Or=Kr=qn=null,Om=!1,gP.current=null,t===null||t.return===null){Fr=1,Nx=e,pr=null;break}e:{var o=n,s=t.return,a=t,l=e;if(e=Qr,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if((a.mode&2)==0){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=(kn.current&1)!=0,p=s;do{var f;if(f=p.tag===13){var g=p.memoizedState;if(g!==null)f=g.dehydrated!==null;else{var y=p.memoizedProps;f=y.fallback===void 0?!1:y.unstable_avoidThisFallback!==!0?!0:!d}}if(f){var v=p.updateQueue;if(v===null){var m=new Set;m.add(c),p.updateQueue=m}else v.add(c);if((p.mode&2)==0){if(p.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var h=cl(-1,1);h.tag=2,ul(a,h)}a.lanes|=1;break e}l=void 0,a=e;var b=o.pingCache;if(b===null?(b=o.pingCache=new uZ,l=new Set,b.set(c,l)):(l=b.get(c),l===void 0&&(l=new Set,b.set(c,l))),!l.has(a)){l.add(a);var x=TZ.bind(null,o,c,a);c.then(x,x)}p.flags|=4096,p.lanes=e;break e}p=p.return}while(p!==null);l=Error((Ud(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Fr!==5&&(Fr=2),l=dP(l,a),p=s;do{switch(p.tag){case 3:o=l,p.flags|=4096,e&=-e,p.lanes|=e;var _=BF(p,o,e);tF(p,_);break e;case 1:o=l;var S=p.type,M=p.stateNode;if((p.flags&64)==0&&(typeof S.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(bs===null||!bs.has(M)))){p.flags|=4096,e&=-e,p.lanes|=e;var E=zF(p,o,e);tF(p,E);break e}}p=p.return}while(p!==null)}ek(t)}catch(L){e=L,pr===t&&t!==null&&(pr=t=t.return);continue}break}while(1)}function KF(){var n=Dx.current;return Dx.current=Ax,n===null?Ax:n}function jm(n,e){var t=xt;xt|=16;var r=KF();_i===n&&Qr===e||pp(n,e);do try{yZ();break}catch(i){ZF(n,i)}while(1);if(j1(),xt=t,Dx.current=r,pr!==null)throw Error($e(261));return _i=null,Qr=0,Fr}function yZ(){for(;pr!==null;)QF(pr)}function vZ(){for(;pr!==null&&!QJ();)QF(pr)}function QF(n){var e=rk(n.alternate,n,ou);n.memoizedProps=n.pendingProps,e===null?ek(n):pr=e,gP.current=null}function ek(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&2048)==0){if(t=lZ(t,e,ou),t!==null){pr=t;return}if(t=e,t.tag!==24&&t.tag!==23||t.memoizedState===null||(ou&1073741824)!=0||(t.mode&4)==0){for(var r=0,i=t.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;t.childLanes=r}n!==null&&(n.flags&2048)==0&&(n.firstEffect===null&&(n.firstEffect=e.firstEffect),e.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(t=cZ(e),t!==null){t.flags&=2047,pr=t;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(e=e.sibling,e!==null){pr=e;return}pr=e=n}while(e!==null);Fr===0&&(Fr=5)}function su(n){var e=rp();return tu(99,xZ.bind(null,n,e)),null}function xZ(n,e){do ml();while(Vm!==null);if((xt&48)!=0)throw Error($e(327));var t=n.finishedWork;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error($e(177));n.callbackNode=null;var r=t.lanes|t.childLanes,i=r,o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var s=n.eventTimes,a=n.expirationTimes;0<o;){var l=31-rl(o),c=1<<l;i[l]=0,s[l]=-1,a[l]=-1,o&=~c}if(ta!==null&&(r&24)==0&&ta.has(n)&&ta.delete(n),n===_i&&(pr=_i=null,Qr=0),1<t.flags?t.lastEffect!==null?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,r!==null){if(i=xt,xt|=32,gP.current=null,N1=Q0,s=MO(),C1(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(c=a.getSelection&&a.getSelection())&&c.rangeCount!==0){a=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{a.nodeType,l.nodeType}catch(L){a=null;break e}var u=0,d=-1,p=-1,f=0,g=0,y=s,v=null;t:for(;;){for(var m;y!==a||o!==0&&y.nodeType!==3||(d=u+o),y!==l||c!==0&&y.nodeType!==3||(p=u+c),y.nodeType===3&&(u+=y.nodeValue.length),(m=y.firstChild)!==null;)v=y,y=m;for(;;){if(y===s)break t;if(v===a&&++f===o&&(d=u),v===l&&++g===c&&(p=u),(m=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=m}a=d===-1||p===-1?null:{start:d,end:p}}else a=null;a=a||{start:0,end:0}}else a=null;I1={focusedElem:s,selectionRange:a},Q0=!1,Gm=null,kx=!1,ot=r;do try{bZ()}catch(L){if(ot===null)throw Error($e(330));gl(ot,L),ot=ot.nextEffect}while(ot!==null);Gm=null,ot=r;do try{for(s=n;ot!==null;){var h=ot.flags;if(h&16&&am(ot.stateNode,""),h&128){var b=ot.alternate;if(b!==null){var x=b.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(h&1038){case 2:jF(ot),ot.flags&=-3;break;case 6:jF(ot),ot.flags&=-3,mP(ot.alternate,ot);break;case 1024:ot.flags&=-1025;break;case 1028:ot.flags&=-1025,mP(ot.alternate,ot);break;case 4:mP(ot.alternate,ot);break;case 8:a=ot,qF(s,a);var _=a.alternate;WF(a),_!==null&&WF(_)}ot=ot.nextEffect}}catch(L){if(ot===null)throw Error($e(330));gl(ot,L),ot=ot.nextEffect}while(ot!==null);if(x=I1,b=MO(),h=x.focusedElem,s=x.selectionRange,b!==h&&h&&h.ownerDocument&&SO(h.ownerDocument.documentElement,h)){for(s!==null&&C1(h)&&(b=s.start,x=s.end,x===void 0&&(x=b),"selectionStart"in h?(h.selectionStart=b,h.selectionEnd=Math.min(x,h.value.length)):(x=(b=h.ownerDocument||document)&&b.defaultView||window,x.getSelection&&(x=x.getSelection(),a=h.textContent.length,_=Math.min(s.start,a),s=s.end===void 0?_:Math.min(s.end,a),!x.extend&&_>s&&(a=s,s=_,_=a),a=TO(h,_),o=TO(h,s),a&&o&&(x.rangeCount!==1||x.anchorNode!==a.node||x.anchorOffset!==a.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&(b=b.createRange(),b.setStart(a.node,a.offset),x.removeAllRanges(),_>s?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b)))))),b=[],x=h;x=x.parentNode;)x.nodeType===1&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<b.length;h++)x=b[h],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Q0=!!N1,I1=N1=null,n.current=t,ot=r;do try{for(h=n;ot!==null;){var S=ot.flags;if(S&36&&fZ(h,ot.alternate,ot),S&128){b=void 0;var M=ot.ref;if(M!==null){var E=ot.stateNode;switch(ot.tag){case 5:b=E;break;default:b=E}typeof M=="function"?M(b):M.current=b}}ot=ot.nextEffect}}catch(L){if(ot===null)throw Error($e(330));gl(ot,L),ot=ot.nextEffect}while(ot!==null);ot=null,tZ(),xt=i}else n.current=t;if(pl)pl=!1,Vm=n,Hm=e;else for(ot=r;ot!==null;)e=ot.nextEffect,ot.nextEffect=null,ot.flags&8&&(S=ot,S.sibling=null,S.stateNode=null),ot=e;if(r=n.pendingLanes,r===0&&(bs=null),r===1?n===MP?Wm++:(Wm=0,MP=n):Wm=0,t=t.stateNode,eu&&typeof eu.onCommitFiberRoot=="function")try{eu.onCommitFiberRoot(z1,t,void 0,(t.current.flags&64)==64)}catch(L){}if(xo(n,Zr()),Ix)throw Ix=!1,n=wP,wP=null,n;return(xt&8)!=0||gs(),null}function bZ(){for(;ot!==null;){var n=ot.alternate;kx||Gm===null||((ot.flags&8)!=0?q3(ot,Gm)&&(kx=!0):ot.tag===13&&hZ(n,ot)&&q3(ot,Gm)&&(kx=!0));var e=ot.flags;(e&256)!=0&&pZ(n,ot),(e&512)==0||pl||(pl=!0,Pm(97,function(){return ml(),null})),ot=ot.nextEffect}}function ml(){if(Hm!==90){var n=97<Hm?97:Hm;return Hm=90,tu(n,wZ)}return!1}function _Z(n,e){TP.push(e,n),pl||(pl=!0,Pm(97,function(){return ml(),null}))}function tk(n,e){SP.push(e,n),pl||(pl=!0,Pm(97,function(){return ml(),null}))}function wZ(){if(Vm===null)return!1;var n=Vm;if(Vm=null,(xt&48)!=0)throw Error($e(331));var e=xt;xt|=32;var t=SP;SP=[];for(var r=0;r<t.length;r+=2){var i=t[r],o=t[r+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(l){if(o===null)throw Error($e(330));gl(o,l)}}for(t=TP,TP=[],r=0;r<t.length;r+=2){i=t[r],o=t[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(o===null)throw Error($e(330));gl(o,l)}}for(a=n.current.firstEffect;a!==null;)n=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=n;return xt=e,gs(),!0}function nk(n,e,t){e=dP(t,e),e=BF(n,e,1),ul(n,e),e=ji(),n=Bx(n,1),n!==null&&(K0(n,1,e),xo(n,e))}function gl(n,e){if(n.tag===3)nk(n,n,e);else for(var t=n.return;t!==null;){if(t.tag===3){nk(t,n,e);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(bs===null||!bs.has(r))){n=dP(e,n);var i=zF(t,n,1);if(ul(t,i),i=ji(),t=Bx(t,1),t!==null)K0(t,1,i),xo(t,i);else if(typeof r.componentDidCatch=="function"&&(bs===null||!bs.has(r)))try{r.componentDidCatch(e,n)}catch(o){}break}}t=t.return}}function TZ(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=ji(),n.pingedLanes|=n.suspendedLanes&t,_i===n&&(Qr&t)===t&&(Fr===4||Fr===3&&(Qr&62914560)===Qr&&500>Zr()-bP?pp(n,0):vP|=t),xo(n,e)}function SZ(n,e){var t=n.stateNode;t!==null&&t.delete(e),e=0,e===0&&(e=n.mode,(e&2)==0?e=1:(e&4)==0?e=rp()===99?1:2:(na===0&&(na=lp),e=$d(62914560&~na),e===0&&(e=4194304))),t=ji(),n=Bx(n,e),n!==null&&(K0(n,e,t),xo(n,t))}var rk;rk=function(n,e,t){var r=e.lanes;if(n!==null)if(n.memoizedProps!==e.pendingProps||Ci.current)Wo=!0;else if((t&r)!=0)Wo=(n.flags&16384)!=0;else{switch(Wo=!1,e.tag){case 3:RF(e),K1();break;case 5:cF(e);break;case 1:Ai(e.type)&&fx(e);break;case 4:Y1(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;Fn(gx,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(t&e.child.childLanes)!=0?CF(n,e,t):(Fn(kn,kn.current&1),e=ea(n,e,t),e!==null?e.sibling:null);Fn(kn,kn.current&1);break;case 19:if(r=(t&e.childLanes)!=0,(n.flags&64)!=0){if(r)return IF(n,e,t);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fn(kn,kn.current),r)break;return null;case 23:case 24:return e.lanes=0,sP(n,e,t)}return ea(n,e,t)}else Wo=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,i=np(e,Jr.current),op(e,t),i=tP(null,e,r,n,i,t),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ai(r)){var o=!0;fx(e)}else o=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$1(e);var s=r.getDerivedStateFromProps;typeof s=="function"&&xx(e,r,s,n),i.updater=bx,e.stateNode=i,i._reactInternals=e,X1(e,r,n,t),e=lP(null,e,r,!0,o,t)}else e.tag=0,Di(null,e,i,t),e=e.child;return e;case 16:i=e.elementType;e:{switch(n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),n=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=EZ(i),n=Ho(i,n),o){case 0:e=aP(null,e,i,n,t);break e;case 1:e=PF(null,e,i,n,t);break e;case 11:e=TF(null,e,i,n,t);break e;case 14:e=SF(null,e,i,Ho(i.type,n),r,t);break e}throw Error($e(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ho(r,i),aP(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ho(r,i),PF(n,e,r,i,t);case 3:if(RF(e),r=e.updateQueue,n===null||r===null)throw Error($e(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,eF(n,e),Rm(e,r,null,t),r=e.memoizedState.element,r===i)K1(),e=ea(n,e,t);else{if(i=e.stateNode,(o=i.hydrate)&&(dl=Kd(e.stateNode.containerInfo.firstChild),Qs=e,o=vs=!0),o){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)o=n[i],o._workInProgressVersionPrimary=n[i+1],ap.push(o);for(t=lF(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|1024,t=t.sibling}else Di(n,e,r,t),K1();e=e.child}return e;case 5:return cF(e),n===null&&Z1(e),r=e.type,i=e.pendingProps,o=n!==null?n.memoizedProps:null,s=i.children,O1(r,i)?s=null:o!==null&&O1(r,o)&&(e.flags|=16),EF(n,e),Di(n,e,s,t),e.child;case 6:return n===null&&Z1(e),null;case 13:return CF(n,e,t);case 4:return Y1(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Tx(e,null,r,t):Di(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ho(r,i),TF(n,e,r,i,t);case 7:return Di(n,e,e.pendingProps,t),e.child;case 8:return Di(n,e,e.pendingProps.children,t),e.child;case 12:return Di(n,e,e.pendingProps.children,t),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var a=e.type._context;if(Fn(gx,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=go(a,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!Ci.current){e=ea(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&(c.observedBits&o)!=0){a.tag===1&&(c=cl(-1,t&-t),c.tag=2,ul(a,c)),a.lanes|=t,c=a.alternate,c!==null&&(c.lanes|=t),QO(a.return,t),l.lanes|=t;break}c=c.next}}else s=a.tag===10&&a.type===e.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Di(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps,r=o.children,op(e,t),i=yo(i,o.unstable_observedBits),r=r(i),e.flags|=1,Di(n,e,r,t),e.child;case 14:return i=e.type,o=Ho(i,e.pendingProps),o=Ho(i.type,o),SF(n,e,i,o,r,t);case 15:return MF(n,e,e.type,e.pendingProps,r,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ho(r,i),n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ai(r)?(n=!0,fx(e)):n=!1,op(e,t),oF(e,r,i),X1(e,r,i,t),lP(null,e,r,!0,n,t);case 19:return IF(n,e,t);case 23:return sP(n,e,t);case 24:return sP(n,e,t)}throw Error($e(156,e.tag))};function MZ(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function bo(n,e,t,r){return new MZ(n,e,t,r)}function RP(n){return n=n.prototype,!(!n||!n.isReactComponent)}function EZ(n){if(typeof n=="function")return RP(n)?1:0;if(n!=null){if(n=n.$$typeof,n===z0)return 11;if(n===V0)return 14}return 2}function yl(n,e){var t=n.alternate;return t===null?(t=bo(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.nextEffect=null,t.firstEffect=null,t.lastEffect=null),t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ux(n,e,t,r,i,o){var s=2;if(r=n,typeof n=="function")RP(n)&&(s=1);else if(typeof n=="string")s=5;else e:switch(n){case Ka:return fp(t.children,i,o,e);case S3:s=8,i|=16;break;case zE:s=8,i|=1;break;case rm:return n=bo(12,t,e,i|8),n.elementType=rm,n.type=rm,n.lanes=o,n;case im:return n=bo(13,t,e,i),n.type=im,n.elementType=im,n.lanes=o,n;case U0:return n=bo(19,t,e,i),n.elementType=U0,n.lanes=o,n;case jE:return CP(t,i,o,e);case qE:return n=bo(24,t,e,i),n.elementType=qE,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case UE:s=10;break e;case VE:s=9;break e;case z0:s=11;break e;case V0:s=14;break e;case HE:s=16,r=null;break e;case WE:s=22;break e}throw Error($e(130,n==null?n:typeof n,""))}return e=bo(s,t,e,i),e.elementType=n,e.type=r,e.lanes=o,e}function fp(n,e,t,r){return n=bo(7,n,r,e),n.lanes=t,n}function CP(n,e,t,r){return n=bo(23,n,r,e),n.elementType=jE,n.lanes=t,n}function AP(n,e,t){return n=bo(6,n,null,e),n.lanes=t,n}function LP(n,e,t){return e=bo(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function PZ(n,e,t){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=t,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=v1(0),this.expirationTimes=v1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=v1(0),this.mutableSourceEagerHydrationData=null}function RZ(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function Vx(n,e,t,r){var i=e.current,o=ji(),s=fl(i);e:if(t){t=t._reactInternals;t:{if(Zc(t)!==t||t.tag!==1)throw Error($e(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Ai(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error($e(171))}if(t.tag===1){var l=t.type;if(Ai(l)){t=WO(t,l,a);break e}}t=a}else t=al;return e.context===null?e.context=t:e.pendingContext=t,e=cl(o,s),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),ul(i,e),hl(i,s,o),s}function DP(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ik(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function NP(n,e){ik(n,e),(n=n.alternate)&&ik(n,e)}function CZ(){return null}function IP(n,e,t){var r=t!=null&&t.hydrationOptions!=null&&t.hydrationOptions.mutableSources||null;if(t=new PZ(n,e,t!=null&&t.hydrate===!0),e=bo(3,null,null,e===2?7:e===1?3:0),t.current=e,e.stateNode=t,$1(e),n[Qd]=t.current,DO(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){e=r[n];var i=e._getVersion;i=i(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,i]:t.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=t}IP.prototype.render=function(n){Vx(n,this._internalRoot,null,null)};IP.prototype.unmount=function(){var n=this._internalRoot,e=n.containerInfo;Vx(null,n,null,function(){e[Qd]=null})};function qm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function AZ(n,e){if(e||(e=n?n.nodeType===9?n.documentElement:n.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var t;t=n.lastChild;)n.removeChild(t);return new IP(n,0,e?{hydrate:!0}:void 0)}function Hx(n,e,t,r,i){var o=t._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var c=DP(s);a.call(c)}}Vx(e,s,n,i)}else{if(o=t._reactRootContainer=AZ(t,r),s=o._internalRoot,typeof i=="function"){var l=i;i=function(){var c=DP(s);l.call(c)}}JF(function(){Vx(e,s,n,i)})}return DP(s)}$3=function(n){if(n.tag===13){var e=ji();hl(n,4,e),NP(n,4)}};p1=function(n){if(n.tag===13){var e=ji();hl(n,67108864,e),NP(n,67108864)}};X3=function(n){if(n.tag===13){var e=ji(),t=fl(n);hl(n,t,e),NP(n,t)}};Y3=function(n,e){return e()};o1=function(n,e,t){switch(e){case"input":if(JE(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=dx(r);if(!i)throw Error($e(90));P3(r),JE(r,i)}}}break;case"textarea":D3(n,t);break;case"select":e=t.value,e!=null&&Vd(n,!!t.multiple,e,!1)}};s1=YF;V3=function(n,e,t,r,i){var o=xt;xt|=4;try{return tu(98,n.bind(null,e,t,r,i))}finally{xt=o,xt===0&&(up(),gs())}};a1=function(){(xt&49)==0&&(gZ(),ml())};H3=function(n,e){var t=xt;xt|=2;try{return n(e)}finally{xt=t,xt===0&&(up(),gs())}};function ok(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qm(e))throw Error($e(200));return RZ(n,e,null,t)}var LZ={Events:[Em,ep,dx,z3,U3,ml,{current:!1}]},$m={findFiberByHostInstance:Kc,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},DZ={bundleType:$m.bundleType,version:$m.version,rendererPackageName:$m.rendererPackageName,rendererConfig:$m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=j3(n),n===null?null:n.stateNode},findFiberByHostInstance:$m.findFiberByHostInstance||CZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Xm=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Xm.isDisabled&&Xm.supportsFiber))try{z1=Xm.inject(DZ),eu=Xm}catch(n){}var Xm;_o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LZ;_o.createPortal=ok;_o.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error($e(188)):Error($e(268,Object.keys(n)));return n=j3(e),n=n===null?null:n.stateNode,n};_o.flushSync=function(n,e){var t=xt;if((t&48)!=0)return n(e);xt|=1;try{if(n)return tu(99,n.bind(null,e))}finally{xt=t,gs()}};_o.hydrate=function(n,e,t){if(!qm(e))throw Error($e(200));return Hx(null,n,e,!0,t)};_o.render=function(n,e,t){if(!qm(e))throw Error($e(200));return Hx(null,n,e,!1,t)};_o.unmountComponentAtNode=function(n){if(!qm(n))throw Error($e(40));return n._reactRootContainer?(JF(function(){Hx(null,null,n,!1,function(){n._reactRootContainer=null,n[Qd]=null})}),!0):!1};_o.unstable_batchedUpdates=YF;_o.unstable_createPortal=function(n,e){return ok(n,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};_o.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!qm(t))throw Error($e(200));if(n==null||n._reactInternals===void 0)throw Error($e(38));return Hx(n,e,t,!1,r)};_o.version="17.0.2"});var fr=Re((rPe,lk)=>{"use strict";function ak(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ak)}catch(n){console.error(n)}}ak(),lk.exports=sk()});var et=Re((nRe,ng)=>{function HZ(n){return n&&n.__esModule?n:{default:n}}ng.exports=HZ;ng.exports.default=ng.exports,ng.exports.__esModule=!0});var Wx=Re(OP=>{"use strict";Object.defineProperty(OP,"__esModule",{value:!0});OP.default=WZ;function WZ(n,e){return function(){return null}}});var an=Re((iRe,ra)=>{function FP(){return ra.exports=FP=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ra.exports.default=ra.exports,ra.exports.__esModule=!0,FP.apply(this,arguments)}ra.exports=FP;ra.exports.default=ra.exports,ra.exports.__esModule=!0});var mp=Re((oRe,qi)=>{function Gx(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(qi.exports=Gx=function(t){return typeof t},qi.exports.default=qi.exports,qi.exports.__esModule=!0):(qi.exports=Gx=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi.exports.default=qi.exports,qi.exports.__esModule=!0),Gx(n)}qi.exports=Gx;qi.exports.default=qi.exports,qi.exports.__esModule=!0});var dk=Re(qx=>{"use strict";var ck=et();Object.defineProperty(qx,"__esModule",{value:!0});qx.isPlainObject=jx;qx.default=uk;var GZ=ck(an()),jZ=ck(mp());function jx(n){return n&&(0,jZ.default)(n)==="object"&&n.constructor===Object}function uk(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{clone:!0},r=t.clone?(0,GZ.default)({},n):n;return jx(n)&&jx(e)&&Object.keys(e).forEach(function(i){i!=="__proto__"&&(jx(e[i])&&i in n?r[i]=uk(n[i],e[i],t):r[i]=e[i])}),r}});var fk=Re((aRe,pk)=>{"use strict";var qZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";pk.exports=qZ});var yk=Re((lRe,gk)=>{"use strict";var $Z=fk();function hk(){}function mk(){}mk.resetWarningCache=hk;gk.exports=function(){function n(r,i,o,s,a,l){if(l!==$Z){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mk,resetWarningCache:hk};return t.PropTypes=t,t}});var Ae=Re((dRe,vk)=>{vk.exports=yk()();var cRe,uRe});var Sk=Re($x=>{"use strict";var xk=et();Object.defineProperty($x,"__esModule",{value:!0});$x.default=void 0;var bk=xk(Ae()),_k=xk(Wx());function XZ(n){var e=n.prototype,t=e===void 0?{}:e;return Boolean(t.isReactComponent)}function wk(n,e,t,r,i){var o=n[e],s=i||e;if(o==null)return null;var a,l=o.type;return typeof l=="function"&&!XZ(l)&&(a="Did you accidentally use a plain function component for an element instead?"),a!==void 0?new Error("Invalid ".concat(r," `").concat(s,"` supplied to `").concat(t,"`. ")+"Expected an element that can hold a ref. ".concat(a," ")+"For more information see https://material-ui.com/r/caveat-with-refs-guide"):null}var Tk=(0,_k.default)(bk.default.element,wk);Tk.isRequired=(0,_k.default)(bk.default.element.isRequired,wk);var YZ=Tk;$x.default=YZ});var rr=Re((fRe,rg)=>{var JZ=mp().default;function Mk(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(Mk=function(i){return i?t:e})(n)}function ZZ(n,e){if(!e&&n&&n.__esModule)return n;if(n===null||JZ(n)!=="object"&&typeof n!="function")return{default:n};var t=Mk(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)){var s=i?Object.getOwnPropertyDescriptor(n,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=n[o]}return r.default=n,t&&t.set(n,r),r}rg.exports=ZZ;rg.exports.default=rg.exports,rg.exports.__esModule=!0});var Ek=Re(Xx=>{"use strict";var KZ=et(),QZ=rr();Object.defineProperty(Xx,"__esModule",{value:!0});Xx.default=void 0;var eK=QZ(Ae()),tK=KZ(Wx());function nK(n){var e=n.prototype,t=e===void 0?{}:e;return Boolean(t.isReactComponent)}function rK(n,e,t,r,i){var o=n[e],s=i||e;if(o==null)return null;var a;return typeof o=="function"&&!nK(o)&&(a="Did you accidentally provide a plain function component instead?"),a!==void 0?new Error("Invalid ".concat(r," `").concat(s,"` supplied to `").concat(t,"`. ")+"Expected an element type that can hold a ref. ".concat(a," ")+"For more information see https://material-ui.com/r/caveat-with-refs-guide"):null}var iK=(0,tK.default)(eK.elementType,rK);Xx.default=iK});var og=Re((mRe,ig)=>{function oK(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}ig.exports=oK;ig.exports.default=ig.exports,ig.exports.__esModule=!0});var Ck=Re(sg=>{"use strict";var Pk=et();Object.defineProperty(sg,"__esModule",{value:!0});sg.default=lK;sg.specialProperty=void 0;var sK=Pk(og()),aK=Pk(an()),Rk="exact-prop: \u200B";sg.specialProperty=Rk;function lK(n){return n}});var Ak=Re(kP=>{"use strict";Object.defineProperty(kP,"__esModule",{value:!0});kP.default=cK;function cK(n){for(var e="https://material-ui.com/production-error/?code="+n,t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified Material-UI error #"+n+"; visit "+e+" for the full message."}});var Fk=Re(nn=>{"use strict";var Yx=60103,Jx=60106,ag=60107,lg=60108,cg=60114,ug=60109,dg=60110,pg=60112,fg=60113,BP=60120,hg=60115,mg=60116,Lk=60121,Dk=60122,Nk=60117,Ik=60129,Ok=60131;typeof Symbol=="function"&&Symbol.for&&(Tr=Symbol.for,Yx=Tr("react.element"),Jx=Tr("react.portal"),ag=Tr("react.fragment"),lg=Tr("react.strict_mode"),cg=Tr("react.profiler"),ug=Tr("react.provider"),dg=Tr("react.context"),pg=Tr("react.forward_ref"),fg=Tr("react.suspense"),BP=Tr("react.suspense_list"),hg=Tr("react.memo"),mg=Tr("react.lazy"),Lk=Tr("react.block"),Dk=Tr("react.server.block"),Nk=Tr("react.fundamental"),Ik=Tr("react.debug_trace_mode"),Ok=Tr("react.legacy_hidden"));var Tr;function Go(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Yx:switch(n=n.type,n){case ag:case cg:case lg:case fg:case BP:return n;default:switch(n=n&&n.$$typeof,n){case dg:case pg:case mg:case hg:case ug:return n;default:return e}}case Jx:return e}}}var uK=ug,dK=Yx,pK=pg,fK=ag,hK=mg,mK=hg,gK=Jx,yK=cg,vK=lg,xK=fg;nn.ContextConsumer=dg;nn.ContextProvider=uK;nn.Element=dK;nn.ForwardRef=pK;nn.Fragment=fK;nn.Lazy=hK;nn.Memo=mK;nn.Portal=gK;nn.Profiler=yK;nn.StrictMode=vK;nn.Suspense=xK;nn.isAsyncMode=function(){return!1};nn.isConcurrentMode=function(){return!1};nn.isContextConsumer=function(n){return Go(n)===dg};nn.isContextProvider=function(n){return Go(n)===ug};nn.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Yx};nn.isForwardRef=function(n){return Go(n)===pg};nn.isFragment=function(n){return Go(n)===ag};nn.isLazy=function(n){return Go(n)===mg};nn.isMemo=function(n){return Go(n)===hg};nn.isPortal=function(n){return Go(n)===Jx};nn.isProfiler=function(n){return Go(n)===cg};nn.isStrictMode=function(n){return Go(n)===lg};nn.isSuspense=function(n){return Go(n)===fg};nn.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===ag||n===cg||n===Ik||n===lg||n===fg||n===BP||n===Ok||typeof n=="object"&&n!==null&&(n.$$typeof===mg||n.$$typeof===hg||n.$$typeof===ug||n.$$typeof===dg||n.$$typeof===pg||n.$$typeof===Nk||n.$$typeof===Lk||n[0]===Dk)};nn.typeOf=Go});var $i=Re((xRe,kk)=>{"use strict";kk.exports=Fk()});var Hk=Re(Zx=>{"use strict";var bK=et();Object.defineProperty(Zx,"__esModule",{value:!0});Zx.getFunctionName=zk;Zx.default=TK;var _K=bK(mp()),Bk=$i(),wK=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function zk(n){var e="".concat(n).match(wK),t=e&&e[1];return t||""}function Uk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n.displayName||n.name||zk(n)||e}function Vk(n,e,t){var r=Uk(e);return n.displayName||(r!==""?"".concat(t,"(").concat(r,")"):t)}function TK(n){if(n!=null){if(typeof n=="string")return n;if(typeof n=="function")return Uk(n,"Component");if((0,_K.default)(n)==="object")switch(n.$$typeof){case Bk.ForwardRef:return Vk(n,n.render,"ForwardRef");case Bk.Memo:return Vk(n,n.type,"memo");default:return}}}});var Wk=Re(zP=>{"use strict";Object.defineProperty(zP,"__esModule",{value:!0});zP.default=SK;function SK(n,e,t,r,i){return null;var o,s}});var Gk=Re(Kx=>{"use strict";Object.defineProperty(Kx,"__esModule",{value:!0});Kx.default=void 0;var MK=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();Kx.default=MK});var jk=Re(Qx=>{"use strict";var EK=et();Object.defineProperty(Qx,"__esModule",{value:!0});Qx.default=void 0;var UP=EK(Ae()),PK=UP.default.oneOfType([UP.default.func,UP.default.object]),RK=PK;Qx.default=RK});var st=Re(wo=>{"use strict";var _s=et();Object.defineProperty(wo,"__esModule",{value:!0});Object.defineProperty(wo,"chainPropTypes",{enumerable:!0,get:function(){return CK.default}});Object.defineProperty(wo,"deepmerge",{enumerable:!0,get:function(){return AK.default}});Object.defineProperty(wo,"elementAcceptingRef",{enumerable:!0,get:function(){return LK.default}});Object.defineProperty(wo,"elementTypeAcceptingRef",{enumerable:!0,get:function(){return DK.default}});Object.defineProperty(wo,"exactProp",{enumerable:!0,get:function(){return NK.default}});Object.defineProperty(wo,"formatMuiErrorMessage",{enumerable:!0,get:function(){return IK.default}});Object.defineProperty(wo,"getDisplayName",{enumerable:!0,get:function(){return OK.default}});Object.defineProperty(wo,"HTMLElementType",{enumerable:!0,get:function(){return FK.default}});Object.defineProperty(wo,"ponyfillGlobal",{enumerable:!0,get:function(){return kK.default}});Object.defineProperty(wo,"refType",{enumerable:!0,get:function(){return BK.default}});var CK=_s(Wx()),AK=_s(dk()),LK=_s(Sk()),DK=_s(Ek()),NK=_s(Ck()),IK=_s(Ak()),OK=_s(Hk()),FK=_s(Wk()),kK=_s(Gk()),BK=_s(jk())});var YP=Re(tb=>{"use strict";var qK=et();Object.defineProperty(tb,"__esModule",{value:!0});tb.default=void 0;var eCe=qK(Ae()),$K={},XK=$K;tb.default=XK});var JP=Re((nCe,gg)=>{function YK(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}gg.exports=YK;gg.exports.default=gg.exports,gg.exports.__esModule=!0});var rB=Re((rCe,yg)=>{var JK=JP();function ZK(n){if(Array.isArray(n))return JK(n)}yg.exports=ZK;yg.exports.default=yg.exports,yg.exports.__esModule=!0});var iB=Re((iCe,vg)=>{function KK(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}vg.exports=KK;vg.exports.default=vg.exports,vg.exports.__esModule=!0});var ZP=Re((oCe,xg)=>{var oB=JP();function QK(n,e){if(!!n){if(typeof n=="string")return oB(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oB(n,e)}}xg.exports=QK;xg.exports.default=xg.exports,xg.exports.__esModule=!0});var sB=Re((sCe,bg)=>{function eQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}bg.exports=eQ;bg.exports.default=bg.exports,bg.exports.__esModule=!0});var nb=Re((aCe,_g)=>{var tQ=rB(),nQ=iB(),rQ=ZP(),iQ=sB();function oQ(n){return tQ(n)||nQ(n)||rQ(n)||iQ()}_g.exports=oQ;_g.exports.default=_g.exports,_g.exports.__esModule=!0});var wg=Re(rb=>{"use strict";Object.defineProperty(rb,"__esModule",{value:!0});rb.default=void 0;var sQ=st();function aQ(n,e){return e?(0,sQ.deepmerge)(n,e,{clone:!1}):n}var lQ=aQ;rb.default=lQ});var ib=Re(Sg=>{"use strict";var Tg=et();Object.defineProperty(Sg,"__esModule",{value:!0});Sg.handleBreakpoints=hQ;Sg.default=void 0;var cQ=Tg(nb()),uQ=Tg(an()),dQ=Tg(mp()),cCe=Tg(Ae()),pQ=Tg(wg()),fQ={xs:0,sm:600,md:960,lg:1280,xl:1920},KP={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(fQ[e],"px)")}};function hQ(n,e,t){if(Array.isArray(e)){var r=n.theme.breakpoints||KP;return e.reduce(function(s,a,l){return s[r.up(r.keys[l])]=t(e[l]),s},{})}if((0,dQ.default)(e)==="object"){var i=n.theme.breakpoints||KP;return Object.keys(e).reduce(function(s,a){return s[i.up(a)]=t(e[a]),s},{})}var o=t(e);return o}function mQ(n){var e=function(r){var i=n(r),o=r.theme.breakpoints||KP,s=o.keys.reduce(function(a,l){return r[l]&&(a=a||{},a[o.up(l)]=n((0,uQ.default)({theme:r.theme},r[l]))),a},null);return(0,pQ.default)(i,s)};return e.propTypes={},e.filterProps=["xs","sm","md","lg","xl"].concat((0,cQ.default)(n.filterProps)),e}var gQ=mQ;Sg.default=gQ});var $o=Re(ob=>{"use strict";var aB=et();Object.defineProperty(ob,"__esModule",{value:!0});ob.default=void 0;var yQ=aB(og()),dCe=aB(YP()),vQ=ib();function lB(n,e){return!e||typeof e!="string"?null:e.split(".").reduce(function(t,r){return t&&t[r]?t[r]:null},n)}function xQ(n){var e=n.prop,t=n.cssProperty,r=t===void 0?n.prop:t,i=n.themeKey,o=n.transform,s=function(l){if(l[e]==null)return null;var c=l[e],u=l.theme,d=lB(u,i)||{},p=function(g){var y;return typeof d=="function"?y=d(g):Array.isArray(d)?y=d[g]||g:(y=lB(d,g)||g,o&&(y=o(y))),r===!1?y:(0,yQ.default)({},r,y)};return(0,vQ.handleBreakpoints)(l,c,p)};return s.propTypes={},s.filterProps=[e],s}var bQ=xQ;ob.default=bQ});var ws=Re(sb=>{"use strict";var cB=et();Object.defineProperty(sb,"__esModule",{value:!0});sb.default=void 0;var fCe=cB(an()),_Q=cB(wg());function wQ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=function(o){return e.reduce(function(s,a){var l=a(o);return l?(0,_Q.default)(s,l):s},{})};return r.propTypes={},r.filterProps=e.reduce(function(i,o){return i.concat(o.filterProps)},[]),r}var TQ=wQ;sb.default=TQ});var vB=Re(Sr=>{"use strict";var uB=et();Object.defineProperty(Sr,"__esModule",{value:!0});Sr.default=Sr.borderRadius=Sr.borderColor=Sr.borderLeft=Sr.borderBottom=Sr.borderRight=Sr.borderTop=Sr.border=void 0;var lu=uB($o()),SQ=uB(ws());function Mg(n){return typeof n!="number"?n:"".concat(n,"px solid")}var dB=(0,lu.default)({prop:"border",themeKey:"borders",transform:Mg});Sr.border=dB;var pB=(0,lu.default)({prop:"borderTop",themeKey:"borders",transform:Mg});Sr.borderTop=pB;var fB=(0,lu.default)({prop:"borderRight",themeKey:"borders",transform:Mg});Sr.borderRight=fB;var hB=(0,lu.default)({prop:"borderBottom",themeKey:"borders",transform:Mg});Sr.borderBottom=hB;var mB=(0,lu.default)({prop:"borderLeft",themeKey:"borders",transform:Mg});Sr.borderLeft=mB;var gB=(0,lu.default)({prop:"borderColor",themeKey:"palette"});Sr.borderColor=gB;var yB=(0,lu.default)({prop:"borderRadius",themeKey:"shape"});Sr.borderRadius=yB;var MQ=(0,SQ.default)(dB,pB,fB,hB,mB,gB,yB),EQ=MQ;Sr.default=EQ});var bB=Re(lb=>{"use strict";var ab=et();Object.defineProperty(lb,"__esModule",{value:!0});lb.default=void 0;var PQ=ab(nb()),xB=ab(an()),gCe=ab(Ae()),RQ=ab(wg());function CQ(n,e){var t={};return Object.keys(n).forEach(function(r){e.indexOf(r)===-1&&(t[r]=n[r])}),t}function AQ(n){var e=function(r){var i=n(r);return r.css?(0,xB.default)({},(0,RQ.default)(i,n((0,xB.default)({theme:r.theme},r.css))),CQ(r.css,[n.filterProps])):i};return e.propTypes={},e.filterProps=["css"].concat((0,PQ.default)(n.filterProps)),e}var LQ=AQ;lb.default=LQ});var RB=Re(ei=>{"use strict";var _B=et();Object.defineProperty(ei,"__esModule",{value:!0});ei.default=ei.whiteSpace=ei.visibility=ei.textOverflow=ei.overflow=ei.displayRaw=ei.displayPrint=void 0;var gp=_B($o()),DQ=_B(ws()),wB=(0,gp.default)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}});ei.displayPrint=wB;var TB=(0,gp.default)({prop:"display"});ei.displayRaw=TB;var SB=(0,gp.default)({prop:"overflow"});ei.overflow=SB;var MB=(0,gp.default)({prop:"textOverflow"});ei.textOverflow=MB;var EB=(0,gp.default)({prop:"visibility"});ei.visibility=EB;var PB=(0,gp.default)({prop:"whiteSpace"});ei.whiteSpace=PB;var NQ=(0,DQ.default)(wB,TB,SB,MB,EB,PB);ei.default=NQ});var WB=Re(Vt=>{"use strict";var CB=et();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.default=Vt.justifySelf=Vt.justifyItems=Vt.alignSelf=Vt.flexShrink=Vt.flexGrow=Vt.flex=Vt.order=Vt.alignContent=Vt.alignItems=Vt.justifyContent=Vt.flexWrap=Vt.flexDirection=Vt.flexBasis=void 0;var Xi=CB($o()),IQ=CB(ws()),AB=(0,Xi.default)({prop:"flexBasis"});Vt.flexBasis=AB;var LB=(0,Xi.default)({prop:"flexDirection"});Vt.flexDirection=LB;var DB=(0,Xi.default)({prop:"flexWrap"});Vt.flexWrap=DB;var NB=(0,Xi.default)({prop:"justifyContent"});Vt.justifyContent=NB;var IB=(0,Xi.default)({prop:"alignItems"});Vt.alignItems=IB;var OB=(0,Xi.default)({prop:"alignContent"});Vt.alignContent=OB;var FB=(0,Xi.default)({prop:"order"});Vt.order=FB;var kB=(0,Xi.default)({prop:"flex"});Vt.flex=kB;var BB=(0,Xi.default)({prop:"flexGrow"});Vt.flexGrow=BB;var zB=(0,Xi.default)({prop:"flexShrink"});Vt.flexShrink=zB;var UB=(0,Xi.default)({prop:"alignSelf"});Vt.alignSelf=UB;var VB=(0,Xi.default)({prop:"justifyItems"});Vt.justifyItems=VB;var HB=(0,Xi.default)({prop:"justifySelf"});Vt.justifySelf=HB;var OQ=(0,IQ.default)(AB,LB,DB,NB,IB,OB,FB,kB,BB,zB,UB,VB,HB),FQ=OQ;Vt.default=FQ});var rz=Re(Zt=>{"use strict";var GB=et();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=Zt.gridArea=Zt.gridTemplateAreas=Zt.gridTemplateRows=Zt.gridTemplateColumns=Zt.gridAutoRows=Zt.gridAutoColumns=Zt.gridAutoFlow=Zt.gridRow=Zt.gridColumn=Zt.gridRowGap=Zt.gridColumnGap=Zt.gridGap=void 0;var To=GB($o()),kQ=GB(ws()),jB=(0,To.default)({prop:"gridGap"});Zt.gridGap=jB;var qB=(0,To.default)({prop:"gridColumnGap"});Zt.gridColumnGap=qB;var $B=(0,To.default)({prop:"gridRowGap"});Zt.gridRowGap=$B;var XB=(0,To.default)({prop:"gridColumn"});Zt.gridColumn=XB;var YB=(0,To.default)({prop:"gridRow"});Zt.gridRow=YB;var JB=(0,To.default)({prop:"gridAutoFlow"});Zt.gridAutoFlow=JB;var ZB=(0,To.default)({prop:"gridAutoColumns"});Zt.gridAutoColumns=ZB;var KB=(0,To.default)({prop:"gridAutoRows"});Zt.gridAutoRows=KB;var QB=(0,To.default)({prop:"gridTemplateColumns"});Zt.gridTemplateColumns=QB;var ez=(0,To.default)({prop:"gridTemplateRows"});Zt.gridTemplateRows=ez;var tz=(0,To.default)({prop:"gridTemplateAreas"});Zt.gridTemplateAreas=tz;var nz=(0,To.default)({prop:"gridArea"});Zt.gridArea=nz;var BQ=(0,kQ.default)(jB,qB,$B,XB,YB,JB,ZB,KB,QB,ez,tz,nz),zQ=BQ;Zt.default=zQ});var lz=Re(vl=>{"use strict";var iz=et();Object.defineProperty(vl,"__esModule",{value:!0});vl.default=vl.bgcolor=vl.color=void 0;var oz=iz($o()),UQ=iz(ws()),sz=(0,oz.default)({prop:"color",themeKey:"palette"});vl.color=sz;var az=(0,oz.default)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"});vl.bgcolor=az;var VQ=(0,UQ.default)(sz,az),HQ=VQ;vl.default=HQ});var gz=Re(ti=>{"use strict";var cz=et();Object.defineProperty(ti,"__esModule",{value:!0});ti.default=ti.left=ti.bottom=ti.right=ti.top=ti.zIndex=ti.position=void 0;var yp=cz($o()),WQ=cz(ws()),uz=(0,yp.default)({prop:"position"});ti.position=uz;var dz=(0,yp.default)({prop:"zIndex",themeKey:"zIndex"});ti.zIndex=dz;var pz=(0,yp.default)({prop:"top"});ti.top=pz;var fz=(0,yp.default)({prop:"right"});ti.right=fz;var hz=(0,yp.default)({prop:"bottom"});ti.bottom=hz;var mz=(0,yp.default)({prop:"left"});ti.left=mz;var GQ=(0,WQ.default)(uz,dz,pz,fz,hz,mz);ti.default=GQ});var yz=Re(cb=>{"use strict";var jQ=et();Object.defineProperty(cb,"__esModule",{value:!0});cb.default=void 0;var qQ=jQ($o()),$Q=(0,qQ.default)({prop:"boxShadow",themeKey:"shadows"}),XQ=$Q;cb.default=XQ});var Ez=Re(Bn=>{"use strict";var vz=et();Object.defineProperty(Bn,"__esModule",{value:!0});Bn.default=Bn.boxSizing=Bn.sizeHeight=Bn.sizeWidth=Bn.minHeight=Bn.maxHeight=Bn.height=Bn.minWidth=Bn.maxWidth=Bn.width=void 0;var sa=vz($o()),YQ=vz(ws());function xl(n){return n<=1?"".concat(n*100,"%"):n}var xz=(0,sa.default)({prop:"width",transform:xl});Bn.width=xz;var bz=(0,sa.default)({prop:"maxWidth",transform:xl});Bn.maxWidth=bz;var _z=(0,sa.default)({prop:"minWidth",transform:xl});Bn.minWidth=_z;var wz=(0,sa.default)({prop:"height",transform:xl});Bn.height=wz;var Tz=(0,sa.default)({prop:"maxHeight",transform:xl});Bn.maxHeight=Tz;var Sz=(0,sa.default)({prop:"minHeight",transform:xl});Bn.minHeight=Sz;var JQ=(0,sa.default)({prop:"size",cssProperty:"width",transform:xl});Bn.sizeWidth=JQ;var ZQ=(0,sa.default)({prop:"size",cssProperty:"height",transform:xl});Bn.sizeHeight=ZQ;var Mz=(0,sa.default)({prop:"boxSizing"});Bn.boxSizing=Mz;var KQ=(0,YQ.default)(xz,bz,_z,wz,Tz,Sz,Mz),QQ=KQ;Bn.default=QQ});var Pz=Re((MCe,Eg)=>{function eee(n){if(Array.isArray(n))return n}Eg.exports=eee;Eg.exports.default=Eg.exports,Eg.exports.__esModule=!0});var Rz=Re((ECe,Pg)=>{function tee(n,e){var t=n&&(typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,s,a;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return r}}Pg.exports=tee;Pg.exports.default=Pg.exports,Pg.exports.__esModule=!0});var Cz=Re((PCe,Rg)=>{function nee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Rg.exports=nee;Rg.exports.default=Rg.exports,Rg.exports.__esModule=!0});var Az=Re((RCe,Cg)=>{var ree=Pz(),iee=Rz(),oee=ZP(),see=Cz();function aee(n,e){return ree(n)||iee(n,e)||oee(n,e)||see()}Cg.exports=aee;Cg.exports.default=Cg.exports,Cg.exports.__esModule=!0});var Lz=Re(QP=>{"use strict";Object.defineProperty(QP,"__esModule",{value:!0});QP.default=lee;function lee(n){var e={};return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}});var Oz=Re(Ag=>{"use strict";var ub=et();Object.defineProperty(Ag,"__esModule",{value:!0});Ag.createUnarySpacing=Iz;Ag.default=void 0;var cee=ub(Az()),ACe=ub(YP()),uee=ib(),dee=ub(wg()),pee=ub(Lz()),fee={m:"margin",p:"padding"},hee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Dz={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mee=(0,pee.default)(function(n){if(n.length>2)if(Dz[n])n=Dz[n];else return[n];var e=n.split(""),t=(0,cee.default)(e,2),r=t[0],i=t[1],o=fee[r],s=hee[i]||"";return Array.isArray(s)?s.map(function(a){return o+a}):[o+s]}),Nz=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Iz(n){var e=n.spacing||8;return typeof e=="number"?function(t){return e*t}:Array.isArray(e)?function(t){return e[t]}:typeof e=="function"?e:function(){}}function gee(n,e){if(typeof e=="string"||e==null)return e;var t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:"-".concat(r)}function yee(n,e){return function(t){return n.reduce(function(r,i){return r[i]=gee(e,t),r},{})}}function eR(n){var e=n.theme,t=Iz(e);return Object.keys(n).map(function(r){if(Nz.indexOf(r)===-1)return null;var i=mee(r),o=yee(i,t),s=n[r];return(0,uee.handleBreakpoints)(n,s,o)}).reduce(dee.default,{})}eR.propTypes={};eR.filterProps=Nz;var vee=eR;Ag.default=vee});var Gz=Re(Mr=>{"use strict";var Fz=et();Object.defineProperty(Mr,"__esModule",{value:!0});Mr.default=Mr.textAlign=Mr.lineHeight=Mr.letterSpacing=Mr.fontWeight=Mr.fontStyle=Mr.fontSize=Mr.fontFamily=void 0;var cu=Fz($o()),xee=Fz(ws()),kz=(0,cu.default)({prop:"fontFamily",themeKey:"typography"});Mr.fontFamily=kz;var Bz=(0,cu.default)({prop:"fontSize",themeKey:"typography"});Mr.fontSize=Bz;var zz=(0,cu.default)({prop:"fontStyle",themeKey:"typography"});Mr.fontStyle=zz;var Uz=(0,cu.default)({prop:"fontWeight",themeKey:"typography"});Mr.fontWeight=Uz;var Vz=(0,cu.default)({prop:"letterSpacing"});Mr.letterSpacing=Vz;var Hz=(0,cu.default)({prop:"lineHeight"});Mr.lineHeight=Hz;var Wz=(0,cu.default)({prop:"textAlign"});Mr.textAlign=Wz;var bee=(0,xee.default)(kz,Bz,zz,Uz,Vz,Hz,Wz),_ee=bee;Mr.default=_ee});var db=Re(xn=>{"use strict";var vp=et(),bl=rr();Object.defineProperty(xn,"__esModule",{value:!0});var _l={borders:!0,breakpoints:!0,compose:!0,css:!0,display:!0,flexbox:!0,grid:!0,palette:!0,positions:!0,shadows:!0,sizing:!0,spacing:!0,style:!0,typography:!0};Object.defineProperty(xn,"borders",{enumerable:!0,get:function(){return tR.default}});Object.defineProperty(xn,"breakpoints",{enumerable:!0,get:function(){return wee.default}});Object.defineProperty(xn,"compose",{enumerable:!0,get:function(){return Tee.default}});Object.defineProperty(xn,"css",{enumerable:!0,get:function(){return See.default}});Object.defineProperty(xn,"display",{enumerable:!0,get:function(){return Mee.default}});Object.defineProperty(xn,"flexbox",{enumerable:!0,get:function(){return nR.default}});Object.defineProperty(xn,"grid",{enumerable:!0,get:function(){return rR.default}});Object.defineProperty(xn,"palette",{enumerable:!0,get:function(){return iR.default}});Object.defineProperty(xn,"positions",{enumerable:!0,get:function(){return oR.default}});Object.defineProperty(xn,"shadows",{enumerable:!0,get:function(){return Eee.default}});Object.defineProperty(xn,"sizing",{enumerable:!0,get:function(){return sR.default}});Object.defineProperty(xn,"spacing",{enumerable:!0,get:function(){return aR.default}});Object.defineProperty(xn,"style",{enumerable:!0,get:function(){return Pee.default}});Object.defineProperty(xn,"typography",{enumerable:!0,get:function(){return lR.default}});var tR=bl(vB());Object.keys(tR).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(_l,n)||Object.defineProperty(xn,n,{enumerable:!0,get:function(){return tR[n]}})});var wee=vp(ib()),Tee=vp(ws()),See=vp(bB()),Mee=vp(RB()),nR=bl(WB());Object.keys(nR).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(_l,n)||Object.defineProperty(xn,n,{enumerable:!0,get:function(){return nR[n]}})});var rR=bl(rz());Object.keys(rR).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(_l,n)||Object.defineProperty(xn,n,{enumerable:!0,get:function(){return rR[n]}})});var iR=bl(lz());Object.keys(iR).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(_l,n)||Object.defineProperty(xn,n,{enumerable:!0,get:function(){return iR[n]}})});var oR=bl(gz());Object.keys(oR).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(_l,n)||Object.defineProperty(xn,n,{enumerable:!0,get:function(){return oR[n]}})});var Eee=vp(yz()),sR=bl(Ez());Object.keys(sR).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(_l,n)||Object.defineProperty(xn,n,{enumerable:!0,get:function(){return sR[n]}})});var aR=bl(Oz());Object.keys(aR).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(_l,n)||Object.defineProperty(xn,n,{enumerable:!0,get:function(){return aR[n]}})});var Pee=vp($o()),lR=bl(Gz());Object.keys(lR).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(_l,n)||Object.defineProperty(xn,n,{enumerable:!0,get:function(){return lR[n]}})})});var dR=Re(hb=>{"use strict";Object.defineProperty(hb,"__esModule",{value:!0});hb.default=void 0;var Lee=typeof Symbol=="function"&&Symbol.for,Dee=Lee?Symbol.for("mui.nested"):"__THEME_NESTED__";hb.default=Dee});var Yz=Re(pR=>{"use strict";var Nee=et();Object.defineProperty(pR,"__esModule",{value:!0});pR.default=Fee;var Iee=Nee(dR()),Oee=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Fee(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.disableGlobal,t=e===void 0?!1:e,r=n.productionPrefix,i=r===void 0?"jss":r,o=n.seed,s=o===void 0?"":o,a=s===""?"":"".concat(s,"-"),l=0,c=function(){return l+=1,l};return function(u,d){var p=d.options.name;if(p&&p.indexOf("Mui")===0&&!d.options.link&&!t){if(Oee.indexOf(u.key)!==-1)return"Mui-".concat(u.key);var f="".concat(a).concat(p,"-").concat(u.key);return!d.options.theme[Iee.default]||s!==""?f:"".concat(f,"-").concat(c())}return"".concat(a).concat(i).concat(c());var g}}});var mb=Re(fR=>{"use strict";var kee=et();Object.defineProperty(fR,"__esModule",{value:!0});Object.defineProperty(fR,"default",{enumerable:!0,get:function(){return Bee.default}});var Bee=kee(Yz())});var Jz=Re(hR=>{"use strict";Object.defineProperty(hR,"__esModule",{value:!0});hR.default=zee;function zee(n){return n}});var Zz=Re(mR=>{"use strict";var Uee=et();Object.defineProperty(mR,"__esModule",{value:!0});Object.defineProperty(mR,"default",{enumerable:!0,get:function(){return Vee.default}});var Vee=Uee(Jz())});var Kz=Re(gR=>{"use strict";Object.defineProperty(gR,"__esModule",{value:!0});gR.default=Hee;function Hee(n){var e=n.theme,t=n.name,r=n.props;if(!e||!e.props||!e.props[t])return r;var i=e.props[t],o;for(o in i)r[o]===void 0&&(r[o]=i[o]);return r}});var vR=Re(yR=>{"use strict";var Wee=et();Object.defineProperty(yR,"__esModule",{value:!0});Object.defineProperty(yR,"default",{enumerable:!0,get:function(){return Gee.default}});var Gee=Wee(Kz())});var gb=Re((sAe,Qz)=>{"use strict";var jee=!0;function qee(n,e){if(!jee){if(n)return;var t="Warning: "+e;typeof console!="undefined"&&console.warn(t);try{throw Error(t)}catch(r){}}}Qz.exports=qee});var xR=Re(yb=>{"use strict";Object.defineProperty(yb,"__esModule",{value:!0});var eU=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$ee=yb.isBrowser=(typeof window=="undefined"?"undefined":eU(window))==="object"&&(typeof document=="undefined"?"undefined":eU(document))==="object"&&document.nodeType===9;yb.default=$ee});var bR=Re((lAe,Lg)=>{function tU(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Xee(n,e,t){return e&&tU(n.prototype,e),t&&tU(n,t),n}Lg.exports=Xee;Lg.exports.default=Lg.exports,Lg.exports.__esModule=!0});var nU=Re((cAe,aa)=>{function _R(n,e){return aa.exports=_R=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},aa.exports.default=aa.exports,aa.exports.__esModule=!0,_R(n,e)}aa.exports=_R;aa.exports.default=aa.exports,aa.exports.__esModule=!0});var rU=Re((uAe,Dg)=>{var Yee=nU();function Jee(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Yee(n,e)}Dg.exports=Jee;Dg.exports.default=Dg.exports,Dg.exports.__esModule=!0});var iU=Re((dAe,Ng)=>{function Zee(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}Ng.exports=Zee;Ng.exports.default=Ng.exports,Ng.exports.__esModule=!0});var wR=Re((pAe,Ig)=>{function Kee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}Ig.exports=Kee;Ig.exports.default=Ig.exports,Ig.exports.__esModule=!0});var wl=Re(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});var Qee=an(),ete=xR(),tte=gb(),nte=bR(),rte=rU(),ite=iU(),ote=wR();function uu(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var Ts=uu(Qee),ste=uu(ete),oU=uu(tte),TR=uu(nte),sU=uu(rte),aU=uu(ite),ate=uu(ote),lte={}.constructor;function SR(n){if(n==null||typeof n!="object")return n;if(Array.isArray(n))return n.map(SR);if(n.constructor!==lte)return n;var e={};for(var t in n)e[t]=SR(n[t]);return e}function MR(n,e,t){n===void 0&&(n="unnamed");var r=t.jss,i=SR(e),o=r.plugins.onCreateRule(n,i,t);return o||(n[0]==="@",null)}var lU=function(e,t){for(var r="",i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=t),r+=e[i];return r},xp=function(e,t){if(t===void 0&&(t=!1),!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var i=0;i<e.length&&e[i]!=="!important";i++)r&&(r+=", "),r+=lU(e[i]," ");else r=lU(e,", ");return!t&&e[e.length-1]==="!important"&&(r+=" !important"),r};function Og(n,e){for(var t="",r=0;r<e;r++)t+="  ";return t+n}function Fg(n,e,t){t===void 0&&(t={});var r="";if(!e)return r;var i=t,o=i.indent,s=o===void 0?0:o,a=e.fallbacks;if(n&&s++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var c=a[l];for(var u in c){var d=c[u];d!=null&&(r&&(r+=`
`),r+=""+Og(u+": "+xp(d)+";",s))}}else for(var p in a){var f=a[p];f!=null&&(r&&(r+=`
`),r+=""+Og(p+": "+xp(f)+";",s))}for(var g in e){var y=e[g];y!=null&&g!=="fallbacks"&&(r&&(r+=`
`),r+=""+Og(g+": "+xp(y)+";",s))}return!r&&!t.allowEmpty||!n?r:(s--,r&&(r=`
`+r+`
`),Og(n+" {"+r,s)+Og("}",s))}var cte=/([[\].#*$><+~=|^:(),"'`\s])/g,cU=typeof CSS!="undefined"&&CSS.escape,ER=function(n){return cU?cU(n):n.replace(cte,"\\$1")},uU=function(){function n(t,r,i){this.type="style",this.key=void 0,this.isProcessed=!1,this.style=void 0,this.renderer=void 0,this.renderable=void 0,this.options=void 0;var o=i.sheet,s=i.Renderer;this.key=t,this.options=i,this.style=r,o?this.renderer=o.renderer:s&&(this.renderer=new s)}var e=n.prototype;return e.prop=function(r,i,o){if(i===void 0)return this.style[r];var s=o?o.force:!1;if(!s&&this.style[r]===i)return this;var a=i;(!o||o.process!==!1)&&(a=this.options.jss.plugins.onChangeValue(i,r,this));var l=a==null||a===!1,c=r in this.style;if(l&&!c&&!s)return this;var u=l&&c;if(u?delete this.style[r]:this.style[r]=a,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,r):this.renderer.setProperty(this.renderable,r,a),this;var d=this.options.sheet;return d&&d.attached,this},n}(),PR=function(n){sU.default(e,n);function e(r,i,o){var s;s=n.call(this,r,i,o)||this,s.selectorText=void 0,s.id=void 0,s.renderable=void 0;var a=o.selector,l=o.scoped,c=o.sheet,u=o.generateId;return a?s.selectorText=a:l!==!1&&(s.id=u(aU.default(aU.default(s)),c),s.selectorText="."+ER(s.id)),s}var t=e.prototype;return t.applyTo=function(i){var o=this.renderer;if(o){var s=this.toJSON();for(var a in s)o.setProperty(i,a,s[a])}return this},t.toJSON=function(){var i={};for(var o in this.style){var s=this.style[o];typeof s!="object"?i[o]=s:Array.isArray(s)&&(i[o]=xp(s))}return i},t.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?Ts.default({},i,{allowEmpty:!0}):i;return Fg(this.selectorText,this.style,a)},TR.default(e,[{key:"selector",set:function(i){if(i!==this.selectorText){this.selectorText=i;var o=this.renderer,s=this.renderable;if(!(!s||!o)){var a=o.setSelector(s,i);a||o.replaceRule(s,this)}}},get:function(){return this.selectorText}}]),e}(uU),ute={onCreateRule:function(e,t,r){return e[0]==="@"||r.parent&&r.parent.type==="keyframes"?null:new PR(e,t,r)}},RR={indent:1,children:!0},dte=/@([\w-]+)/,pte=function(){function n(t,r,i){this.type="conditional",this.at=void 0,this.key=void 0,this.query=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t;var o=t.match(dte);this.at=o?o[1]:"unknown",this.query=i.name||"@"+this.at,this.options=i,this.rules=new vb(Ts.default({},i,{parent:this}));for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.indexOf=function(r){return this.rules.indexOf(r)},e.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s?(this.options.jss.plugins.onProcessRule(s),s):null},e.toString=function(r){if(r===void 0&&(r=RR),r.indent==null&&(r.indent=RR.indent),r.children==null&&(r.children=RR.children),r.children===!1)return this.query+" {}";var i=this.rules.toString(r);return i?this.query+` {
`+i+`
}`:""},n}(),fte=/@media|@supports\s+/,hte={onCreateRule:function(e,t,r){return fte.test(e)?new pte(e,t,r):null}},CR={indent:1,children:!0},mte=/@keyframes\s+([\w-]+)/,AR=function(){function n(t,r,i){this.type="keyframes",this.at="@keyframes",this.key=void 0,this.name=void 0,this.id=void 0,this.rules=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0;var o=t.match(mte);o&&o[1]?this.name=o[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=i;var s=i.scoped,a=i.sheet,l=i.generateId;this.id=s===!1?this.name:ER(l(this,a)),this.rules=new vb(Ts.default({},i,{parent:this}));for(var c in r)this.rules.add(c,r[c],Ts.default({},i,{parent:this}));this.rules.process()}var e=n.prototype;return e.toString=function(r){if(r===void 0&&(r=CR),r.indent==null&&(r.indent=CR.indent),r.children==null&&(r.children=CR.children),r.children===!1)return this.at+" "+this.id+" {}";var i=this.rules.toString(r);return i&&(i=`
`+i+`
`),this.at+" "+this.id+" {"+i+"}"},n}(),gte=/@keyframes\s+/,yte=/\$([\w-]+)/g,LR=function(e,t){return typeof e=="string"?e.replace(yte,function(r,i){return i in t?t[i]:r}):e},dU=function(e,t,r){var i=e[t],o=LR(i,r);o!==i&&(e[t]=o)},vte={onCreateRule:function(e,t,r){return typeof e=="string"&&gte.test(e)?new AR(e,t,r):null},onProcessStyle:function(e,t,r){return t.type!=="style"||!r||("animation-name"in e&&dU(e,"animation-name",r.keyframes),"animation"in e&&dU(e,"animation",r.keyframes)),e},onChangeValue:function(e,t,r){var i=r.options.sheet;if(!i)return e;switch(t){case"animation":return LR(e,i.keyframes);case"animation-name":return LR(e,i.keyframes);default:return e}}},xte=function(n){sU.default(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.renderable=void 0,r}var t=e.prototype;return t.toString=function(i){var o=this.options.sheet,s=o?o.options.link:!1,a=s?Ts.default({},i,{allowEmpty:!0}):i;return Fg(this.key,this.style,a)},e}(uU),bte={onCreateRule:function(e,t,r){return r.parent&&r.parent.type==="keyframes"?new xte(e,t,r):null}},_te=function(){function n(t,r,i){this.type="font-face",this.at="@font-face",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){if(Array.isArray(this.style)){for(var i="",o=0;o<this.style.length;o++)i+=Fg(this.at,this.style[o]),this.style[o+1]&&(i+=`
`);return i}return Fg(this.at,this.style,r)},n}(),wte=/@font-face/,Tte={onCreateRule:function(e,t,r){return wte.test(e)?new _te(e,t,r):null}},Ste=function(){function n(t,r,i){this.type="viewport",this.at="@viewport",this.key=void 0,this.style=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.style=r,this.options=i}var e=n.prototype;return e.toString=function(r){return Fg(this.key,this.style,r)},n}(),Mte={onCreateRule:function(e,t,r){return e==="@viewport"||e==="@-ms-viewport"?new Ste(e,t,r):null}},Ete=function(){function n(t,r,i){this.type="simple",this.key=void 0,this.value=void 0,this.options=void 0,this.isProcessed=!1,this.renderable=void 0,this.key=t,this.value=r,this.options=i}var e=n.prototype;return e.toString=function(r){if(Array.isArray(this.value)){for(var i="",o=0;o<this.value.length;o++)i+=this.key+" "+this.value[o]+";",this.value[o+1]&&(i+=`
`);return i}return this.key+" "+this.value+";"},n}(),Pte={"@charset":!0,"@import":!0,"@namespace":!0},Rte={onCreateRule:function(e,t,r){return e in Pte?new Ete(e,t,r):null}},pU=[ute,hte,vte,bte,Tte,Mte,Rte],Cte={process:!0},fU={force:!0,process:!0},vb=function(){function n(t){this.map={},this.raw={},this.index=[],this.counter=0,this.options=void 0,this.classes=void 0,this.keyframes=void 0,this.options=t,this.classes=t.classes,this.keyframes=t.keyframes}var e=n.prototype;return e.add=function(r,i,o){var s=this.options,a=s.parent,l=s.sheet,c=s.jss,u=s.Renderer,d=s.generateId,p=s.scoped,f=Ts.default({classes:this.classes,parent:a,sheet:l,jss:c,Renderer:u,generateId:d,scoped:p,name:r,keyframes:this.keyframes,selector:void 0},o),g=r;r in this.raw&&(g=r+"-d"+this.counter++),this.raw[g]=i,g in this.classes&&(f.selector="."+ER(this.classes[g]));var y=MR(g,i,f);if(!y)return null;this.register(y);var v=f.index===void 0?this.index.length:f.index;return this.index.splice(v,0,y),y},e.get=function(r){return this.map[r]},e.remove=function(r){this.unregister(r),delete this.raw[r.key],this.index.splice(this.index.indexOf(r),1)},e.indexOf=function(r){return this.index.indexOf(r)},e.process=function(){var r=this.options.jss.plugins;this.index.slice(0).forEach(r.onProcessRule,r)},e.register=function(r){this.map[r.key]=r,r instanceof PR?(this.map[r.selector]=r,r.id&&(this.classes[r.key]=r.id)):r instanceof AR&&this.keyframes&&(this.keyframes[r.name]=r.id)},e.unregister=function(r){delete this.map[r.key],r instanceof PR?(delete this.map[r.selector],delete this.classes[r.key]):r instanceof AR&&delete this.keyframes[r.name]},e.update=function(){var r,i,o;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(r=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]):(i=arguments.length<=0?void 0:arguments[0],o=arguments.length<=1?void 0:arguments[1],r=null),r)this.updateOne(this.map[r],i,o);else for(var s=0;s<this.index.length;s++)this.updateOne(this.index[s],i,o)},e.updateOne=function(r,i,o){o===void 0&&(o=Cte);var s=this.options,a=s.jss.plugins,l=s.sheet;if(r.rules instanceof n){r.rules.update(i,o);return}var c=r,u=c.style;if(a.onUpdate(i,r,l,o),o.process&&u&&u!==c.style){a.onProcessStyle(c.style,c,l);for(var d in c.style){var p=c.style[d],f=u[d];p!==f&&c.prop(d,p,fU)}for(var g in u){var y=c.style[g],v=u[g];y==null&&y!==v&&c.prop(g,null,fU)}}},e.toString=function(r){for(var i="",o=this.options.sheet,s=o?o.options.link:!1,a=0;a<this.index.length;a++){var l=this.index[a],c=l.toString(r);!c&&!s||(i&&(i+=`
`),i+=c)}return i},n}(),hU=function(){function n(t,r){this.options=void 0,this.deployed=void 0,this.attached=void 0,this.rules=void 0,this.renderer=void 0,this.classes=void 0,this.keyframes=void 0,this.queue=void 0,this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Ts.default({},r,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),r.Renderer&&(this.renderer=new r.Renderer(this)),this.rules=new vb(this.options);for(var i in t)this.rules.add(i,t[i]);this.rules.process()}var e=n.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(r,i,o){var s=this.queue;this.attached&&!s&&(this.queue=[]);var a=this.rules.add(r,i,o);return a?(this.options.jss.plugins.onProcessRule(a),this.attached?(this.deployed&&(s?s.push(a):(this.insertRule(a),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),a):(this.deployed=!1,a)):null},e.insertRule=function(r){this.renderer&&this.renderer.insertRule(r)},e.addRules=function(r,i){var o=[];for(var s in r){var a=this.addRule(s,r[s],i);a&&o.push(a)}return o},e.getRule=function(r){return this.rules.get(r)},e.deleteRule=function(r){var i=typeof r=="object"?r:this.rules.get(r);return!i||this.attached&&!i.renderable?!1:(this.rules.remove(i),this.attached&&i.renderable&&this.renderer?this.renderer.deleteRule(i.renderable):!0)},e.indexOf=function(r){return this.rules.indexOf(r)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var r;return(r=this.rules).update.apply(r,arguments),this},e.updateOne=function(r,i,o){return this.rules.updateOne(r,i,o),this},e.toString=function(r){return this.rules.toString(r)},n}(),Ate=function(){function n(){this.plugins={internal:[],external:[]},this.registry=void 0}var e=n.prototype;return e.onCreateRule=function(r,i,o){for(var s=0;s<this.registry.onCreateRule.length;s++){var a=this.registry.onCreateRule[s](r,i,o);if(a)return a}return null},e.onProcessRule=function(r){if(!r.isProcessed){for(var i=r.options.sheet,o=0;o<this.registry.onProcessRule.length;o++)this.registry.onProcessRule[o](r,i);r.style&&this.onProcessStyle(r.style,r,i),r.isProcessed=!0}},e.onProcessStyle=function(r,i,o){for(var s=0;s<this.registry.onProcessStyle.length;s++)i.style=this.registry.onProcessStyle[s](i.style,i,o)},e.onProcessSheet=function(r){for(var i=0;i<this.registry.onProcessSheet.length;i++)this.registry.onProcessSheet[i](r)},e.onUpdate=function(r,i,o,s){for(var a=0;a<this.registry.onUpdate.length;a++)this.registry.onUpdate[a](r,i,o,s)},e.onChangeValue=function(r,i,o){for(var s=r,a=0;a<this.registry.onChangeValue.length;a++)s=this.registry.onChangeValue[a](s,i,o);return s},e.use=function(r,i){i===void 0&&(i={queue:"external"});var o=this.plugins[i.queue];o.indexOf(r)===-1&&(o.push(r),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(s,a){for(var l in a)l in s&&s[l].push(a[l]);return s},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},n}(),mU=function(){function n(){this.registry=[]}var e=n.prototype;return e.add=function(r){var i=this.registry,o=r.options.index;if(i.indexOf(r)===-1){if(i.length===0||o>=this.index){i.push(r);return}for(var s=0;s<i.length;s++)if(i[s].options.index>o){i.splice(s,0,r);return}}},e.reset=function(){this.registry=[]},e.remove=function(r){var i=this.registry.indexOf(r);this.registry.splice(i,1)},e.toString=function(r){for(var i=r===void 0?{}:r,o=i.attached,s=ate.default(i,["attached"]),a="",l=0;l<this.registry.length;l++){var c=this.registry[l];o!=null&&c.attached!==o||(a&&(a+=`
`),a+=c.toString(s))}return a},TR.default(n,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),n}(),bp=new mU,DR=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"&&window.Math===Math?window:typeof self!="undefined"&&self.Math===Math?self:Function("return this")(),NR="2f1acc6c3a606b082e5eef5e54414ffb";DR[NR]==null&&(DR[NR]=0);var gU=DR[NR]++,Lte=1e10,IR=function(e){e===void 0&&(e={});var t=0;return function(r,i){t+=1,t>Lte;var o="",s="";return i&&(i.options.classNamePrefix&&(s=i.options.classNamePrefix),i.options.jss.id!=null&&(o=String(i.options.jss.id))),e.minify?""+(s||"c")+gU+o+t:s+r.key+"-"+gU+(o?"-"+o:"")+"-"+t}},yU=function(e){var t;return function(){return t||(t=e()),t}},Dte=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(r){return""}},Nte=function(e,t,r){try{var i=r;if(Array.isArray(r)&&(i=xp(r,!0),r[r.length-1]==="!important"))return e.style.setProperty(t,i,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,i):e.style.setProperty(t,i)}catch(o){return!1}return!0},Ite=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(r){}},Ote=function(e,t){return e.selectorText=t,e.selectorText===t},vU=yU(function(){return document.querySelector("head")});function Fte(n,e){for(var t=0;t<n.length;t++){var r=n[t];if(r.attached&&r.options.index>e.index&&r.options.insertionPoint===e.insertionPoint)return r}return null}function kte(n,e){for(var t=n.length-1;t>=0;t--){var r=n[t];if(r.attached&&r.options.insertionPoint===e.insertionPoint)return r}return null}function Bte(n){for(var e=vU(),t=0;t<e.childNodes.length;t++){var r=e.childNodes[t];if(r.nodeType===8&&r.nodeValue.trim()===n)return r}return null}function zte(n){var e=bp.registry;if(e.length>0){var t=Fte(e,n);if(t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element};if(t=kte(e,n),t&&t.renderer)return{parent:t.renderer.element.parentNode,node:t.renderer.element.nextSibling}}var r=n.insertionPoint;if(r&&typeof r=="string"){var i=Bte(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}function Ute(n,e){var t=e.insertionPoint,r=zte(e);if(r!==!1&&r.parent){r.parent.insertBefore(n,r.node);return}if(t&&typeof t.nodeType=="number"){var i=t,o=i.parentNode;o&&o.insertBefore(n,i.nextSibling);return}vU().appendChild(n)}var Vte=yU(function(){var n=document.querySelector('meta[property="csp-nonce"]');return n?n.getAttribute("content"):null}),xU=function(e,t,r){try{if("insertRule"in e){var i=e;i.insertRule(t,r)}else if("appendRule"in e){var o=e;o.appendRule(t)}}catch(s){return!1}return e.cssRules[r]},bU=function(e,t){var r=e.cssRules.length;return t===void 0||t>r?r:t},Hte=function(){var e=document.createElement("style");return e.textContent=`
`,e},Wte=function(){function n(t){this.getPropertyValue=Dte,this.setProperty=Nte,this.removeProperty=Ite,this.setSelector=Ote,this.element=void 0,this.sheet=void 0,this.hasInsertedRules=!1,this.cssRules=[],t&&bp.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},i=r.media,o=r.meta,s=r.element;this.element=s||Hte(),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),o&&this.element.setAttribute("data-meta",o);var a=Vte();a&&this.element.setAttribute("nonce",a)}var e=n.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){Ute(this.element,this.sheet.options);var r=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&r&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(!!this.sheet){var r=this.element.parentNode;r&&r.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var r=this.sheet;if(!!r){if(r.options.link){this.insertRules(r.rules);return}this.element.textContent=`
`+r.toString()+`
`}},e.insertRules=function(r,i){for(var o=0;o<r.index.length;o++)this.insertRule(r.index[o],o,i)},e.insertRule=function(r,i,o){if(o===void 0&&(o=this.element.sheet),r.rules){var s=r,a=o;if(r.type==="conditional"||r.type==="keyframes"){var l=bU(o,i);if(a=xU(o,s.toString({children:!1}),l),a===!1)return!1;this.refCssRule(r,l,a)}return this.insertRules(s.rules,a),a}var c=r.toString();if(!c)return!1;var u=bU(o,i),d=xU(o,c,u);return d===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(r,u,d),d)},e.refCssRule=function(r,i,o){r.renderable=o,r.options.parent instanceof hU&&(this.cssRules[i]=o)},e.deleteRule=function(r){var i=this.element.sheet,o=this.indexOf(r);return o===-1?!1:(i.deleteRule(o),this.cssRules.splice(o,1),!0)},e.indexOf=function(r){return this.cssRules.indexOf(r)},e.replaceRule=function(r,i){var o=this.indexOf(r);return o===-1?!1:(this.element.sheet.deleteRule(o),this.cssRules.splice(o,1),this.insertRule(i,o))},e.getRules=function(){return this.element.sheet.cssRules},n}(),Gte=0,jte=function(){function n(t){this.id=Gte++,this.version="10.6.0",this.plugins=new Ate,this.options={id:{minify:!1},createGenerateId:IR,Renderer:ste.default?Wte:null,plugins:[]},this.generateId=IR({minify:!1});for(var r=0;r<pU.length;r++)this.plugins.use(pU[r],{queue:"internal"});this.setup(t)}var e=n.prototype;return e.setup=function(r){return r===void 0&&(r={}),r.createGenerateId&&(this.options.createGenerateId=r.createGenerateId),r.id&&(this.options.id=Ts.default({},this.options.id,r.id)),(r.createGenerateId||r.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),r.insertionPoint!=null&&(this.options.insertionPoint=r.insertionPoint),"Renderer"in r&&(this.options.Renderer=r.Renderer),r.plugins&&this.use.apply(this,r.plugins),this},e.createStyleSheet=function(r,i){i===void 0&&(i={});var o=i,s=o.index;typeof s!="number"&&(s=bp.index===0?0:bp.index+1);var a=new hU(r,Ts.default({},i,{jss:this,generateId:i.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:s}));return this.plugins.onProcessSheet(a),a},e.removeStyleSheet=function(r){return r.detach(),bp.remove(r),this},e.createRule=function(r,i,o){if(i===void 0&&(i={}),o===void 0&&(o={}),typeof r=="object")return this.createRule(void 0,r,i);var s=Ts.default({},o,{name:r,jss:this,Renderer:this.options.Renderer});s.generateId||(s.generateId=this.generateId),s.classes||(s.classes={}),s.keyframes||(s.keyframes={});var a=MR(r,i,s);return a&&this.plugins.onProcessRule(a),a},e.use=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.forEach(function(a){r.plugins.use(a)}),this},n}();function _U(n){var e=null;for(var t in n){var r=n[t],i=typeof r;if(i==="function")e||(e={}),e[t]=r;else if(i==="object"&&r!==null&&!Array.isArray(r)){var o=_U(r);o&&(e||(e={}),e[t]=o)}}return e}var qte=function(){function n(){this.length=0,this.sheets=new WeakMap}var e=n.prototype;return e.get=function(r){var i=this.sheets.get(r);return i&&i.sheet},e.add=function(r,i){this.sheets.has(r)||(this.length++,this.sheets.set(r,{sheet:i,refs:0}))},e.manage=function(r){var i=this.sheets.get(r);if(i)return i.refs===0&&i.sheet.attach(),i.refs++,i.sheet;oU.default(!1,"[JSS] SheetsManager: can't find sheet to manage")},e.unmanage=function(r){var i=this.sheets.get(r);i?i.refs>0&&(i.refs--,i.refs===0&&i.sheet.detach()):oU.default(!1,"SheetsManager: can't find sheet to unmanage")},TR.default(n,[{key:"size",get:function(){return this.length}}]),n}();var $te=typeof CSS=="object"&&CSS!=null&&"number"in CSS,wU=function(e){return new jte(e)},Xte=wU();Yi.RuleList=vb;Yi.SheetsManager=qte;Yi.SheetsRegistry=mU;Yi.create=wU;Yi.createGenerateId=IR;Yi.createRule=MR;Yi.default=Xte;Yi.getDynamicStyles=_U;Yi.hasCSSTOMSupport=$te;Yi.sheets=bp;Yi.toCssValue=xp});var SU=Re(kR=>{"use strict";Object.defineProperty(kR,"__esModule",{value:!0});var Yte=gb(),Jte=wl();function Zte(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var hAe=Zte(Yte),TU=Date.now(),OR="fnValues"+TU,FR="fnStyle"+ ++TU,Kte=function(){return{onCreateRule:function(t,r,i){if(typeof r!="function")return null;var o=Jte.createRule(t,{},i);return o[FR]=r,o},onProcessStyle:function(t,r){if(OR in r||FR in r)return t;var i={};for(var o in t){var s=t[o];typeof s=="function"&&(delete t[o],i[o]=s)}return r[OR]=i,t},onUpdate:function(t,r,i,o){var s=r,a=s[FR];if(a&&(s.style=a(t)||{},!1))for(var l in s.style);var c=s[OR];if(c)for(var u in c)s.prop(u,c[u](t),o)}}};kR.default=Kte});var EU=Re(zR=>{"use strict";Object.defineProperty(zR,"__esModule",{value:!0});var Qte=an(),ene=wl();function tne(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var xb=tne(Qte),Tl="@global",BR="@global ",nne=function(){function n(t,r,i){this.type="global",this.at=Tl,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=t,this.options=i,this.rules=new ene.RuleList(xb.default({},i,{parent:this}));for(var o in r)this.rules.add(o,r[o]);this.rules.process()}var e=n.prototype;return e.getRule=function(r){return this.rules.get(r)},e.addRule=function(r,i,o){var s=this.rules.add(r,i,o);return s&&this.options.jss.plugins.onProcessRule(s),s},e.indexOf=function(r){return this.rules.indexOf(r)},e.toString=function(){return this.rules.toString()},n}(),rne=function(){function n(t,r,i){this.type="global",this.at=Tl,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.key=t,this.options=i;var o=t.substr(BR.length);this.rule=i.jss.createRule(o,r,xb.default({},i,{parent:this}))}var e=n.prototype;return e.toString=function(r){return this.rule?this.rule.toString(r):""},n}(),ine=/\s*,\s*/g;function MU(n,e){for(var t=n.split(ine),r="",i=0;i<t.length;i++)r+=e+" "+t[i].trim(),t[i+1]&&(r+=", ");return r}function one(n,e){var t=n.options,r=n.style,i=r?r[Tl]:null;if(!!i){for(var o in i)e.addRule(o,i[o],xb.default({},t,{selector:MU(o,n.selector)}));delete r[Tl]}}function sne(n,e){var t=n.options,r=n.style;for(var i in r)if(!(i[0]!=="@"||i.substr(0,Tl.length)!==Tl)){var o=MU(i.substr(Tl.length),n.selector);e.addRule(o,r[i],xb.default({},t,{selector:o})),delete r[i]}}function ane(){function n(t,r,i){if(!t)return null;if(t===Tl)return new nne(t,r,i);if(t[0]==="@"&&t.substr(0,BR.length)===BR)return new rne(t,r,i);var o=i.parent;return o&&(o.type==="global"||o.options.parent&&o.options.parent.type==="global")&&(i.scoped=!1),i.scoped===!1&&(i.selector=t),null}function e(t,r){t.type!=="style"||!r||(one(t,r),sne(t,r))}return{onCreateRule:n,onProcessRule:e}}zR.default=ane});var CU=Re(VR=>{"use strict";Object.defineProperty(VR,"__esModule",{value:!0});var lne=an(),cne=gb();function PU(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var UR=PU(lne),yAe=PU(cne),RU=/\s*,\s*/g,une=/&/g,dne=/\$([\w-]+)/g;function pne(){function n(i,o){return function(s,a){var l=i.getRule(a)||o&&o.getRule(a);return l?(l=l,l.selector):a}}function e(i,o){for(var s=o.split(RU),a=i.split(RU),l="",c=0;c<s.length;c++)for(var u=s[c],d=0;d<a.length;d++){var p=a[d];l&&(l+=", "),l+=p.indexOf("&")!==-1?p.replace(une,u):u+" "+p}return l}function t(i,o,s){if(s)return UR.default({},s,{index:s.index+1});var a=i.options.nestingLevel;a=a===void 0?1:a+1;var l=UR.default({},i.options,{nestingLevel:a,index:o.indexOf(i)+1});return delete l.name,l}function r(i,o,s){if(o.type!=="style")return i;var a=o,l=a.options.parent,c,u;for(var d in i){var p=d.indexOf("&")!==-1,f=d[0]==="@";if(!(!p&&!f)){if(c=t(a,l,c),p){var g=e(d,a.selector);u||(u=n(l,s)),g=g.replace(dne,u),l.addRule(g,i[d],UR.default({},c,{selector:g}))}else f&&l.addRule(d,{},c).addRule(a.key,i[d],{selector:a.selector});delete i[d]}}return i}return{onProcessStyle:r}}VR.default=pne});var LU=Re((xAe,AU)=>{"use strict";var fne=/[A-Z]/g,hne=/^ms-/,HR={};function mne(n){return"-"+n.toLowerCase()}function gne(n){if(HR.hasOwnProperty(n))return HR[n];var e=n.replace(fne,mne);return HR[n]=hne.test(e)?"-"+e:e}AU.exports=gne});var NU=Re(WR=>{"use strict";Object.defineProperty(WR,"__esModule",{value:!0});var yne=LU();function vne(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var DU=vne(yne);function bb(n){var e={};for(var t in n){var r=t.indexOf("--")===0?t:DU.default(t);e[r]=n[t]}return n.fallbacks&&(Array.isArray(n.fallbacks)?e.fallbacks=n.fallbacks.map(bb):e.fallbacks=bb(n.fallbacks)),e}function xne(){function n(t){if(Array.isArray(t)){for(var r=0;r<t.length;r++)t[r]=bb(t[r]);return t}return bb(t)}function e(t,r,i){if(r.indexOf("--")===0)return t;var o=DU.default(r);return r===o?t:(i.prop(o,t),null)}return{onProcessStyle:n,onChangeValue:e}}WR.default=xne});var OU=Re(jR=>{"use strict";Object.defineProperty(jR,"__esModule",{value:!0});var GR=wl(),Ie=GR.hasCSSTOMSupport&&CSS?CSS.px:"px",_b=GR.hasCSSTOMSupport&&CSS?CSS.ms:"ms",_p=GR.hasCSSTOMSupport&&CSS?CSS.percent:"%",bne={"animation-delay":_b,"animation-duration":_b,"background-position":Ie,"background-position-x":Ie,"background-position-y":Ie,"background-size":Ie,border:Ie,"border-bottom":Ie,"border-bottom-left-radius":Ie,"border-bottom-right-radius":Ie,"border-bottom-width":Ie,"border-left":Ie,"border-left-width":Ie,"border-radius":Ie,"border-right":Ie,"border-right-width":Ie,"border-top":Ie,"border-top-left-radius":Ie,"border-top-right-radius":Ie,"border-top-width":Ie,"border-width":Ie,"border-block":Ie,"border-block-end":Ie,"border-block-end-width":Ie,"border-block-start":Ie,"border-block-start-width":Ie,"border-block-width":Ie,"border-inline":Ie,"border-inline-end":Ie,"border-inline-end-width":Ie,"border-inline-start":Ie,"border-inline-start-width":Ie,"border-inline-width":Ie,"border-start-start-radius":Ie,"border-start-end-radius":Ie,"border-end-start-radius":Ie,"border-end-end-radius":Ie,margin:Ie,"margin-bottom":Ie,"margin-left":Ie,"margin-right":Ie,"margin-top":Ie,"margin-block":Ie,"margin-block-end":Ie,"margin-block-start":Ie,"margin-inline":Ie,"margin-inline-end":Ie,"margin-inline-start":Ie,padding:Ie,"padding-bottom":Ie,"padding-left":Ie,"padding-right":Ie,"padding-top":Ie,"padding-block":Ie,"padding-block-end":Ie,"padding-block-start":Ie,"padding-inline":Ie,"padding-inline-end":Ie,"padding-inline-start":Ie,"mask-position-x":Ie,"mask-position-y":Ie,"mask-size":Ie,height:Ie,width:Ie,"min-height":Ie,"max-height":Ie,"min-width":Ie,"max-width":Ie,bottom:Ie,left:Ie,top:Ie,right:Ie,inset:Ie,"inset-block":Ie,"inset-block-end":Ie,"inset-block-start":Ie,"inset-inline":Ie,"inset-inline-end":Ie,"inset-inline-start":Ie,"box-shadow":Ie,"text-shadow":Ie,"column-gap":Ie,"column-rule":Ie,"column-rule-width":Ie,"column-width":Ie,"font-size":Ie,"font-size-delta":Ie,"letter-spacing":Ie,"text-decoration-thickness":Ie,"text-indent":Ie,"text-stroke":Ie,"text-stroke-width":Ie,"word-spacing":Ie,motion:Ie,"motion-offset":Ie,outline:Ie,"outline-offset":Ie,"outline-width":Ie,perspective:Ie,"perspective-origin-x":_p,"perspective-origin-y":_p,"transform-origin":_p,"transform-origin-x":_p,"transform-origin-y":_p,"transform-origin-z":_p,"transition-delay":_b,"transition-duration":_b,"vertical-align":Ie,"flex-basis":Ie,"shape-margin":Ie,size:Ie,gap:Ie,grid:Ie,"grid-gap":Ie,"row-gap":Ie,"grid-row-gap":Ie,"grid-column-gap":Ie,"grid-template-rows":Ie,"grid-template-columns":Ie,"grid-auto-rows":Ie,"grid-auto-columns":Ie,"box-shadow-x":Ie,"box-shadow-y":Ie,"box-shadow-blur":Ie,"box-shadow-spread":Ie,"font-line-height":Ie,"text-shadow-x":Ie,"text-shadow-y":Ie,"text-shadow-blur":Ie};function IU(n){var e=/(-[a-z])/g,t=function(s){return s[1].toUpperCase()},r={};for(var i in n)r[i]=n[i],r[i.replace(e,t)]=n[i];return r}var _ne=IU(bne);function kg(n,e,t){if(e==null)return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=kg(n,e[r],t);else if(typeof e=="object")if(n==="fallbacks")for(var i in e)e[i]=kg(i,e[i],t);else for(var o in e)e[o]=kg(n+"-"+o,e[o],t);else if(typeof e=="number"&&isNaN(e)===!1){var s=t[n]||_ne[n];return s&&!(e===0&&s===Ie)?typeof s=="function"?s(e).toString():""+e+s:e.toString()}return e}function wne(n){n===void 0&&(n={});var e=IU(n);function t(i,o){if(o.type!=="style")return i;for(var s in i)i[s]=kg(s,i[s],e);return i}function r(i,o){return kg(o,i,e)}return{onProcessStyle:t,onChangeValue:r}}jR.default=wne});var GU=Re(Tp=>{"use strict";Object.defineProperty(Tp,"__esModule",{value:!0});function FU(n){return n&&typeof n=="object"&&"default"in n?n.default:n}var wb=FU(xR()),Tne=FU(nb()),Bg="",qR="",kU="",BU="",Sne=wb&&"ontouchstart"in document.documentElement;if(wb){Tb={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},zU=document.createElement("p"),Sb=zU.style,UU="Transform";for(Mb in Tb)if(Mb+UU in Sb){Bg=Mb,qR=Tb[Mb];break}Bg==="Webkit"&&"msHyphens"in Sb&&(Bg="ms",qR=Tb.ms,BU="edge"),Bg==="Webkit"&&"-apple-trailing-word"in Sb&&(kU="apple")}var Tb,zU,Sb,UU,Mb,_t={js:Bg,css:qR,vendor:kU,browser:BU,isTouch:Sne};function Mne(n){return n[1]==="-"||_t.js==="ms"?n:"@"+_t.css+"keyframes"+n.substr(10)}var Ene={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:_t.js==="ms"?"-webkit-"+e:_t.css+e}},Pne={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:_t.js==="Webkit"?_t.css+"print-"+e:e}},Rne=/[-\s]+(.)?/g;function Cne(n,e){return e?e.toUpperCase():""}function $R(n){return n.replace(Rne,Cne)}function Sl(n){return $R("-"+n)}var Ane={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if(_t.js==="Webkit"){var r="mask-image";if($R(r)in t)return e;if(_t.js+Sl(r)in t)return _t.css+e}return e}},Lne={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:_t.vendor==="apple"&&!_t.isTouch?_t.css+e:e}},Dne={noPrefill:["transform"],supportedProperty:function(e,t,r){return e!=="transform"?!1:r.transform?e:_t.css+e}},Nne={noPrefill:["transition"],supportedProperty:function(e,t,r){return e!=="transition"?!1:r.transition?e:_t.css+e}},Ine={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:_t.js==="Webkit"||_t.js==="ms"&&_t.browser!=="edge"?_t.css+e:e}},One={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:_t.js==="Moz"||_t.js==="ms"||_t.vendor==="apple"?_t.css+e:e}},Fne={supportedProperty:function(e,t){if(!/^break-/.test(e))return!1;if(_t.js==="Webkit"){var r="WebkitColumn"+Sl(e);return r in t?_t.css+"column-"+e:!1}if(_t.js==="Moz"){var i="page"+Sl(e);return i in t?"page-"+e:!1}return!1}},kne={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(_t.js==="Moz")return e;var r=e.replace("-inline","");return _t.js+Sl(r)in t?_t.css+r:!1}},Bne={supportedProperty:function(e,t){return $R(e)in t?e:!1}},zne={supportedProperty:function(e,t){var r=Sl(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:_t.js+r in t?_t.css+e:_t.js!=="Webkit"&&"Webkit"+r in t?"-webkit-"+e:!1}},Une={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:_t.js==="ms"?""+_t.css+e:e}},Vne={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:_t.js==="ms"?_t.css+"scroll-chaining":e}},Hne={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Wne={supportedProperty:function(e,t){var r=Hne[e];return r&&_t.js+Sl(r)in t?_t.css+r:!1}},VU={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Gne=Object.keys(VU),jne=function(e){return _t.css+e},qne={supportedProperty:function(e,t,r){var i=r.multiple;if(Gne.indexOf(e)>-1){var o=VU[e];if(!Array.isArray(o))return _t.js+Sl(o)in t?_t.css+o:!1;if(!i)return!1;for(var s=0;s<o.length;s++)if(!(_t.js+Sl(o[0])in t))return!1;return o.map(jne)}return!1}},HU=[Ene,Pne,Ane,Lne,Dne,Nne,Ine,One,Fne,kne,Bne,zne,Une,Vne,Wne,qne],WU=HU.filter(function(n){return n.supportedProperty}).map(function(n){return n.supportedProperty}),$ne=HU.filter(function(n){return n.noPrefill}).reduce(function(n,e){return n.push.apply(n,Tne(e.noPrefill)),n},[]),zg,du={};if(wb){zg=document.createElement("p"),Eb=window.getComputedStyle(document.documentElement,"");for(Pb in Eb)isNaN(Pb)||(du[Eb[Pb]]=Eb[Pb]);$ne.forEach(function(n){return delete du[n]})}var Eb,Pb;function XR(n,e){if(e===void 0&&(e={}),!zg)return n;if(du[n]!=null)return du[n];(n==="transition"||n==="transform")&&(e[n]=n in zg.style);for(var t=0;t<WU.length&&(du[n]=WU[t](n,zg.style,e),!du[n]);t++);try{zg.style[n]=""}catch(r){return!1}return du[n]}var wp={},Xne={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yne=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Ml;function Jne(n,e,t){if(e==="var")return"var";if(e==="all")return"all";if(t==="all")return", all";var r=e?XR(e):", "+XR(t);return r||e||t}wb&&(Ml=document.createElement("p"));function Zne(n,e){var t=e;if(!Ml||n==="content")return e;if(typeof t!="string"||!isNaN(parseInt(t,10)))return t;var r=n+t;if(wp[r]!=null)return wp[r];try{Ml.style[n]=t}catch(i){return wp[r]=!1,!1}if(Xne[n])t=t.replace(Yne,Jne);else if(Ml.style[n]===""&&(t=_t.css+t,t==="-ms-flex"&&(Ml.style[n]="-ms-flexbox"),Ml.style[n]=t,Ml.style[n]===""))return wp[r]=!1,!1;return Ml.style[n]="",wp[r]=t,wp[r]}Tp.prefix=_t;Tp.supportedKeyframes=Mne;Tp.supportedProperty=XR;Tp.supportedValue=Zne});var qU=Re(YR=>{"use strict";Object.defineProperty(YR,"__esModule",{value:!0});var Rb=GU(),jU=wl();function Kne(){function n(i){if(i.type==="keyframes"){var o=i;o.at=Rb.supportedKeyframes(o.at)}}function e(i){for(var o in i){var s=i[o];if(o==="fallbacks"&&Array.isArray(s)){i[o]=s.map(e);continue}var a=!1,l=Rb.supportedProperty(o);l&&l!==o&&(a=!0);var c=!1,u=Rb.supportedValue(l,jU.toCssValue(s));u&&u!==s&&(c=!0),(a||c)&&(a&&delete i[o],i[l||o]=u||s)}return i}function t(i,o){return o.type!=="style"?i:e(i)}function r(i,o){return Rb.supportedValue(o,jU.toCssValue(i))||i}return{onProcessRule:n,onProcessStyle:t,onChangeValue:r}}YR.default=Kne});var $U=Re(JR=>{"use strict";Object.defineProperty(JR,"__esModule",{value:!0});function Qne(){var n=function(t,r){return t.length===r.length?t>r?1:-1:t.length-r.length};return{onProcessStyle:function(t,r){if(r.type!=="style")return t;for(var i={},o=Object.keys(t).sort(n),s=0;s<o.length;s++)i[o[s]]=t[o[s]];return i}}}JR.default=Qne});var XU=Re(ZR=>{"use strict";var pu=et();Object.defineProperty(ZR,"__esModule",{value:!0});ZR.default=are;var ere=pu(SU()),tre=pu(EU()),nre=pu(CU()),rre=pu(NU()),ire=pu(OU()),ore=pu(qU()),sre=pu($U());function are(){return{plugins:[(0,ere.default)(),(0,tre.default)(),(0,nre.default)(),(0,rre.default)(),(0,ire.default)(),typeof window=="undefined"?null:(0,ore.default)(),(0,sre.default)()]}}});var QR=Re(KR=>{"use strict";var lre=et();Object.defineProperty(KR,"__esModule",{value:!0});Object.defineProperty(KR,"default",{enumerable:!0,get:function(){return cre.default}});var cre=lre(XU())});var So=Re((PAe,Ug)=>{var ure=wR();function dre(n,e){if(n==null)return{};var t=ure(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}Ug.exports=dre;Ug.exports.default=Ug.exports,Ug.exports.__esModule=!0});var YU=Re(eC=>{"use strict";var pre=et();Object.defineProperty(eC,"__esModule",{value:!0});eC.default=hre;var fre=pre(an()),RAe=st();function hre(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.baseClasses,t=n.newClasses,r=n.Component;if(!t)return e;var i=(0,fre.default)({},e);return Object.keys(t).forEach(function(o){t[o]&&(i[o]="".concat(e[o]," ").concat(t[o]))}),i}});var nC=Re(tC=>{"use strict";var mre=et();Object.defineProperty(tC,"__esModule",{value:!0});Object.defineProperty(tC,"default",{enumerable:!0,get:function(){return gre.default}});var gre=mre(YU())});var JU=Re(Cb=>{"use strict";Object.defineProperty(Cb,"__esModule",{value:!0});Cb.default=void 0;var yre={set:function(e,t,r,i){var o=e.get(t);o||(o=new Map,e.set(t,o)),o.set(r,i)},get:function(e,t,r){var i=e.get(t);return i?i.get(r):void 0},delete:function(e,t,r){var i=e.get(t);i.delete(r)}},vre=yre;Cb.default=vre});var rC=Re(Ab=>{"use strict";var xre=et();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.default=void 0;var bre=xre(we()),_re=bre.default.createContext(null),wre=_re;Ab.default=wre});var KU=Re(iC=>{"use strict";var ZU=et();Object.defineProperty(iC,"__esModule",{value:!0});iC.default=Mre;var Tre=ZU(we()),Sre=ZU(rC());function Mre(){var n=Tre.default.useContext(Sre.default);return n}});var Sp=Re(oC=>{"use strict";var Ere=et();Object.defineProperty(oC,"__esModule",{value:!0});Object.defineProperty(oC,"default",{enumerable:!0,get:function(){return Pre.default}});var Pre=Ere(KU())});var n4=Re(fu=>{"use strict";var Mp=et();Object.defineProperty(fu,"__esModule",{value:!0});fu.default=Ire;fu.StylesContext=fu.sheetsManager=void 0;var Rre=Mp(an()),Cre=Mp(So()),sC=Mp(we()),OAe=Mp(Ae()),FAe=st(),Are=Mp(mb()),QU=wl(),e4=Mp(QR()),Lre=(0,QU.create)((0,e4.default)()),Dre=(0,Are.default)(),t4=new Map;fu.sheetsManager=t4;var Nre={disableGeneration:!1,generateClassName:Dre,jss:Lre,sheetsCache:null,sheetsManager:t4,sheetsRegistry:null},aC=sC.default.createContext(Nre);fu.StylesContext=aC;var Lb;function Ire(n){var e=n.children,t=n.injectFirst,r=t===void 0?!1:t,i=n.disableGeneration,o=i===void 0?!1:i,s=(0,Cre.default)(n,["children","injectFirst","disableGeneration"]),a=sC.default.useContext(aC),l=(0,Rre.default)({},a,{disableGeneration:o},s);if(!l.jss.options.insertionPoint&&r&&typeof window!="undefined"){if(!Lb){var c=document.head;Lb=document.createComment("mui-inject-first"),c.insertBefore(Lb,c.firstChild)}l.jss=(0,QU.create)({plugins:(0,e4.default)().plugins,insertionPoint:Lb})}return sC.default.createElement(aC.Provider,{value:l},e)}});var Nb=Re(Db=>{"use strict";var Ore=rr();Object.defineProperty(Db,"__esModule",{value:!0});var Fre={};Object.defineProperty(Db,"default",{enumerable:!0,get:function(){return lC.default}});var lC=Ore(n4());Object.keys(lC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Fre,n)||Object.defineProperty(Db,n,{enumerable:!0,get:function(){return lC[n]}})})});var i4=Re(cC=>{"use strict";Object.defineProperty(cC,"__esModule",{value:!0});cC.increment=kre;var r4=-1e9;function kre(){return r4+=1,r4}});var uC=Re(Ib=>{"use strict";Object.defineProperty(Ib,"__esModule",{value:!0});Ib.default=void 0;var Bre={},zre=Bre;Ib.default=zre});var o4=Re(pC=>{"use strict";var dC=et();Object.defineProperty(pC,"__esModule",{value:!0});pC.default=Hre;var Ure=dC(an()),VAe=dC(mp()),Vre=st(),HAe=dC(uC());function Hre(n){var e=typeof n=="function";return{create:function(r,i){var o;try{o=e?n(r):n}catch(l){throw l}if(!i||!r.overrides||!r.overrides[i])return o;var s=r.overrides[i],a=(0,Ure.default)({},o);return Object.keys(s).forEach(function(l){a[l]=(0,Vre.deepmerge)(a[l],s[l])}),a},options:{}}}});var s4=Re(fC=>{"use strict";var Wre=et();Object.defineProperty(fC,"__esModule",{value:!0});Object.defineProperty(fC,"default",{enumerable:!0,get:function(){return Gre.default}});var Gre=Wre(o4())});var l4=Re(hC=>{"use strict";var El=et();Object.defineProperty(hC,"__esModule",{value:!0});hC.default=rie;var jre=El(So()),Ob=El(an()),hu=El(we()),qre=wl(),a4=El(nC()),Ep=El(JU()),$re=El(Sp()),Xre=Nb(),Yre=i4(),Jre=El(s4()),Zre=El(uC());function Kre(n,e,t){var r=n.state,i=n.stylesOptions;if(i.disableGeneration)return e||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var o=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,o=!0),e!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=e,o=!0),o&&(r.cacheClasses.value=(0,a4.default)({baseClasses:r.cacheClasses.lastJSS,newClasses:e,Component:t})),r.cacheClasses.value}function Qre(n,e){var t=n.state,r=n.theme,i=n.stylesOptions,o=n.stylesCreator,s=n.name;if(!i.disableGeneration){var a=Ep.default.get(i.sheetsManager,o,r);a||(a={refs:0,staticSheet:null,dynamicStyles:null},Ep.default.set(i.sheetsManager,o,r,a));var l=(0,Ob.default)({},o.options,i,{theme:r,flip:typeof i.flip=="boolean"?i.flip:r.direction==="rtl"});l.generateId=l.serverGenerateClassName||l.generateClassName;var c=i.sheetsRegistry;if(a.refs===0){var u;i.sheetsCache&&(u=Ep.default.get(i.sheetsCache,o,r));var d=o.create(r,s);u||(u=i.jss.createStyleSheet(d,(0,Ob.default)({link:!1},l)),u.attach(),i.sheetsCache&&Ep.default.set(i.sheetsCache,o,r,u)),c&&c.add(u),a.staticSheet=u,a.dynamicStyles=(0,qre.getDynamicStyles)(d)}if(a.dynamicStyles){var p=i.jss.createStyleSheet(a.dynamicStyles,(0,Ob.default)({link:!0},l));p.update(e),p.attach(),t.dynamicSheet=p,t.classes=(0,a4.default)({baseClasses:a.staticSheet.classes,newClasses:p.classes}),c&&c.add(p)}else t.classes=a.staticSheet.classes;a.refs+=1}}function eie(n,e){var t=n.state;t.dynamicSheet&&t.dynamicSheet.update(e)}function tie(n){var e=n.state,t=n.theme,r=n.stylesOptions,i=n.stylesCreator;if(!r.disableGeneration){var o=Ep.default.get(r.sheetsManager,i,t);o.refs-=1;var s=r.sheetsRegistry;o.refs===0&&(Ep.default.delete(r.sheetsManager,i,t),r.jss.removeStyleSheet(o.staticSheet),s&&s.remove(o.staticSheet)),e.dynamicSheet&&(r.jss.removeStyleSheet(e.dynamicSheet),s&&s.remove(e.dynamicSheet))}}function nie(n,e){var t=hu.default.useRef([]),r,i=hu.default.useMemo(function(){return{}},e);t.current!==i&&(t.current=i,r=n()),hu.default.useEffect(function(){return function(){r&&r()}},[i])}function rie(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.name,r=e.classNamePrefix,i=e.Component,o=e.defaultTheme,s=o===void 0?Zre.default:o,a=(0,jre.default)(e,["name","classNamePrefix","Component","defaultTheme"]),l=(0,Jre.default)(n),c=t||r||"makeStyles";l.options={index:(0,Yre.increment)(),name:t,meta:c,classNamePrefix:c};var u=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=(0,$re.default)()||s,g=(0,Ob.default)({},hu.default.useContext(Xre.StylesContext),a),y=hu.default.useRef(),v=hu.default.useRef();nie(function(){var h={name:t,state:{},stylesCreator:l,stylesOptions:g,theme:f};return Qre(h,p),v.current=!1,y.current=h,function(){tie(h)}},[f,l]),hu.default.useEffect(function(){v.current&&eie(y.current,p),v.current=!0});var m=Kre(y.current,p.classes,i);return m};return u}});var Fb=Re(mC=>{"use strict";var iie=et();Object.defineProperty(mC,"__esModule",{value:!0});Object.defineProperty(mC,"default",{enumerable:!0,get:function(){return oie.default}});var oie=iie(l4())});var c4=Re(($Ae,Vg)=>{function sie(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Vg.exports=sie;Vg.exports.default=Vg.exports,Vg.exports.__esModule=!0});var p4=Re(kb=>{"use strict";var Pp=et();Object.defineProperty(kb,"__esModule",{value:!0});kb.default=void 0;var u4=Pp(an()),aie=Pp(c4()),lie=Pp(bR()),d4=Pp(we()),cie=wl(),uie=Pp(Nb()),die=Pp(mb()),pie=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,aie.default)(this,n),this.options=e}return(0,lie.default)(n,[{key:"collect",value:function(t){var r=new Map;this.sheetsRegistry=new cie.SheetsRegistry;var i=(0,die.default)();return d4.default.createElement(uie.default,(0,u4.default)({sheetsManager:r,serverGenerateClassName:i,sheetsRegistry:this.sheetsRegistry},this.options),t)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(t){return d4.default.createElement("style",(0,u4.default)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},t))}}]),n}();kb.default=pie});var f4=Re(gC=>{"use strict";var fie=et();Object.defineProperty(gC,"__esModule",{value:!0});Object.defineProperty(gC,"default",{enumerable:!0,get:function(){return hie.default}});var hie=fie(p4())});var Be=Re((JAe,m4)=>{function h4(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=h4(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}m4.exports=function(){for(var n=0,e,t,r="";n<arguments.length;)(e=arguments[n++])&&(t=h4(e))&&(r&&(r+=" "),r+=t);return r}});var y4=Re(qt=>{"use strict";var Er=typeof Symbol=="function"&&Symbol.for,yC=Er?Symbol.for("react.element"):60103,vC=Er?Symbol.for("react.portal"):60106,Bb=Er?Symbol.for("react.fragment"):60107,zb=Er?Symbol.for("react.strict_mode"):60108,Ub=Er?Symbol.for("react.profiler"):60114,Vb=Er?Symbol.for("react.provider"):60109,Hb=Er?Symbol.for("react.context"):60110,xC=Er?Symbol.for("react.async_mode"):60111,Wb=Er?Symbol.for("react.concurrent_mode"):60111,Gb=Er?Symbol.for("react.forward_ref"):60112,jb=Er?Symbol.for("react.suspense"):60113,mie=Er?Symbol.for("react.suspense_list"):60120,qb=Er?Symbol.for("react.memo"):60115,$b=Er?Symbol.for("react.lazy"):60116,gie=Er?Symbol.for("react.block"):60121,yie=Er?Symbol.for("react.fundamental"):60117,vie=Er?Symbol.for("react.responder"):60118,xie=Er?Symbol.for("react.scope"):60119;function Ji(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case yC:switch(n=n.type,n){case xC:case Wb:case Bb:case Ub:case zb:case jb:return n;default:switch(n=n&&n.$$typeof,n){case Hb:case Gb:case $b:case qb:case Vb:return n;default:return e}}case vC:return e}}}function g4(n){return Ji(n)===Wb}qt.AsyncMode=xC;qt.ConcurrentMode=Wb;qt.ContextConsumer=Hb;qt.ContextProvider=Vb;qt.Element=yC;qt.ForwardRef=Gb;qt.Fragment=Bb;qt.Lazy=$b;qt.Memo=qb;qt.Portal=vC;qt.Profiler=Ub;qt.StrictMode=zb;qt.Suspense=jb;qt.isAsyncMode=function(n){return g4(n)||Ji(n)===xC};qt.isConcurrentMode=g4;qt.isContextConsumer=function(n){return Ji(n)===Hb};qt.isContextProvider=function(n){return Ji(n)===Vb};qt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===yC};qt.isForwardRef=function(n){return Ji(n)===Gb};qt.isFragment=function(n){return Ji(n)===Bb};qt.isLazy=function(n){return Ji(n)===$b};qt.isMemo=function(n){return Ji(n)===qb};qt.isPortal=function(n){return Ji(n)===vC};qt.isProfiler=function(n){return Ji(n)===Ub};qt.isStrictMode=function(n){return Ji(n)===zb};qt.isSuspense=function(n){return Ji(n)===jb};qt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Bb||n===Wb||n===Ub||n===zb||n===jb||n===mie||typeof n=="object"&&n!==null&&(n.$$typeof===$b||n.$$typeof===qb||n.$$typeof===Vb||n.$$typeof===Hb||n.$$typeof===Gb||n.$$typeof===yie||n.$$typeof===vie||n.$$typeof===xie||n.$$typeof===gie)};qt.typeOf=Ji});var x4=Re((KAe,v4)=>{"use strict";v4.exports=y4()});var Hg=Re((QAe,M4)=>{"use strict";var bC=x4(),bie={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_ie={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wie={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_C={};_C[bC.ForwardRef]=wie;_C[bC.Memo]=b4;function _4(n){return bC.isMemo(n)?b4:_C[n.$$typeof]||bie}var Tie=Object.defineProperty,Sie=Object.getOwnPropertyNames,w4=Object.getOwnPropertySymbols,Mie=Object.getOwnPropertyDescriptor,Eie=Object.getPrototypeOf,T4=Object.prototype;function S4(n,e,t){if(typeof e!="string"){if(T4){var r=Eie(e);r&&r!==T4&&S4(n,r,t)}var i=Sie(e);w4&&(i=i.concat(w4(e)));for(var o=_4(n),s=_4(e),a=0;a<i.length;++a){var l=i[a];if(!_ie[l]&&!(t&&t[l])&&!(s&&s[l])&&!(o&&o[l])){var c=Mie(e,l);try{Tie(n,l,c)}catch(u){}}}}return n}M4.exports=S4});var R4=Re(TC=>{"use strict";var mu=et();Object.defineProperty(TC,"__esModule",{value:!0});TC.default=Aie;var Wg=mu(an()),E4=mu(So()),wC=mu(we()),P4=mu(Be()),e2e=mu(Ae()),t2e=st(),Pie=mu(Hg()),Rie=mu(Fb());function Cie(n,e){var t={};return Object.keys(n).forEach(function(r){e.indexOf(r)===-1&&(t[r]=n[r])}),t}function Aie(n){var e=function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.name,s=(0,E4.default)(i,["name"]),a=o;if(!1&&!o)var l;var c=typeof r=="function"?function(g){return{root:function(v){return r((0,Wg.default)({theme:g},v))}}}:{root:r},u=(0,Rie.default)(c,(0,Wg.default)({Component:n,name:o||n.displayName,classNamePrefix:a},s)),d,p={};r.filterProps&&(d=r.filterProps,delete r.filterProps),r.propTypes&&(p=r.propTypes,delete r.propTypes);var f=wC.default.forwardRef(function(y,v){var m=y.children,h=y.className,b=y.clone,x=y.component,_=(0,E4.default)(y,["children","className","clone","component"]),S=u(y),M=(0,P4.default)(S.root,h),E=_;if(d&&(E=Cie(E,d)),b)return wC.default.cloneElement(m,(0,Wg.default)({className:(0,P4.default)(m.props.className,M)},E));if(typeof m=="function")return m((0,Wg.default)({className:M},E));var L=x||n;return wC.default.createElement(L,(0,Wg.default)({ref:v,className:M},E),m)});return(0,Pie.default)(f,n),f};return e}});var C4=Re(SC=>{"use strict";var Lie=et();Object.defineProperty(SC,"__esModule",{value:!0});Object.defineProperty(SC,"default",{enumerable:!0,get:function(){return Die.default}});var Die=Lie(R4())});var L4=Re(Xb=>{"use strict";var Rp=et();Object.defineProperty(Xb,"__esModule",{value:!0});Xb.default=void 0;var Nie=Rp(an()),A4=Rp(we()),i2e=Rp(Ae()),o2e=st(),Iie=Rp(rC()),Oie=Rp(Sp()),Fie=Rp(dR());function kie(n,e){if(typeof e=="function"){var t=e(n);return t}return(0,Nie.default)({},n,e)}function Bie(n){var e=n.children,t=n.theme,r=(0,Oie.default)(),i=A4.default.useMemo(function(){var o=r===null?t:kie(r,t);return o!=null&&(o[Fie.default]=r!==null),o},[t,r]);return A4.default.createElement(Iie.default.Provider,{value:i},e)}var zie=Bie;Xb.default=zie});var D4=Re(MC=>{"use strict";var Uie=et();Object.defineProperty(MC,"__esModule",{value:!0});Object.defineProperty(MC,"default",{enumerable:!0,get:function(){return Vie.default}});var Vie=Uie(L4())});var O4=Re(Yb=>{"use strict";var Pl=et();Object.defineProperty(Yb,"__esModule",{value:!0});Yb.default=void 0;var EC=Pl(an()),N4=Pl(So()),I4=Pl(we()),l2e=Pl(Ae()),Hie=Pl(Hg()),c2e=st(),Wie=Pl(Fb()),Gie=Pl(vR()),jie=Pl(Sp()),qie=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){var i=t.defaultTheme,o=t.withTheme,s=o===void 0?!1:o,a=t.name,l=(0,N4.default)(t,["defaultTheme","withTheme","name"]),c=a;if(!1&&!a)var u;var d=(0,Wie.default)(e,(0,EC.default)({defaultTheme:i,Component:r,name:a||r.displayName,classNamePrefix:c},l)),p=I4.default.forwardRef(function(g,y){var v=g.classes,m=g.innerRef,h=(0,N4.default)(g,["classes","innerRef"]),b=d((0,EC.default)({},r.defaultProps,g)),x,_=h;return(typeof a=="string"||s)&&(x=(0,jie.default)()||i,a&&(_=(0,Gie.default)({theme:x,name:a,props:h})),s&&!_.theme&&(_.theme=x)),I4.default.createElement(r,(0,EC.default)({ref:m||y,classes:b},_))});return(0,Hie.default)(p,r),p}},$ie=qie;Yb.default=$ie});var F4=Re(PC=>{"use strict";var Xie=et();Object.defineProperty(PC,"__esModule",{value:!0});Object.defineProperty(PC,"default",{enumerable:!0,get:function(){return Yie.default}});var Yie=Xie(O4())});var z4=Re(Gg=>{"use strict";var Cp=et();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.withThemeCreator=B4;Gg.default=void 0;var Jie=Cp(an()),Zie=Cp(So()),k4=Cp(we()),p2e=Cp(Ae()),Kie=Cp(Hg()),f2e=st(),Qie=Cp(Sp());function B4(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.defaultTheme,t=function(i){var o=k4.default.forwardRef(function(a,l){var c=a.innerRef,u=(0,Zie.default)(a,["innerRef"]),d=(0,Qie.default)()||e;return k4.default.createElement(i,(0,Jie.default)({theme:d,ref:c||l},u))});return(0,Kie.default)(o,i),o};return t}var eoe=B4(),toe=eoe;Gg.default=toe});var U4=Re(Jb=>{"use strict";var noe=rr();Object.defineProperty(Jb,"__esModule",{value:!0});var roe={};Object.defineProperty(Jb,"default",{enumerable:!0,get:function(){return RC.default}});var RC=noe(z4());Object.keys(RC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(roe,n)||Object.defineProperty(Jb,n,{enumerable:!0,get:function(){return RC[n]}})})});var ni=Re(Kt=>{"use strict";var Zi=rr();Object.defineProperty(Kt,"__esModule",{value:!0});var Ki={createGenerateClassName:!0,createStyles:!0,getThemeProps:!0,jssPreset:!0,makeStyles:!0,mergeClasses:!0,ServerStyleSheets:!0,styled:!0,StylesProvider:!0,ThemeProvider:!0,useTheme:!0,withStyles:!0,withTheme:!0};Object.defineProperty(Kt,"createGenerateClassName",{enumerable:!0,get:function(){return CC.default}});Object.defineProperty(Kt,"createStyles",{enumerable:!0,get:function(){return AC.default}});Object.defineProperty(Kt,"getThemeProps",{enumerable:!0,get:function(){return LC.default}});Object.defineProperty(Kt,"jssPreset",{enumerable:!0,get:function(){return DC.default}});Object.defineProperty(Kt,"makeStyles",{enumerable:!0,get:function(){return NC.default}});Object.defineProperty(Kt,"mergeClasses",{enumerable:!0,get:function(){return IC.default}});Object.defineProperty(Kt,"ServerStyleSheets",{enumerable:!0,get:function(){return OC.default}});Object.defineProperty(Kt,"styled",{enumerable:!0,get:function(){return FC.default}});Object.defineProperty(Kt,"StylesProvider",{enumerable:!0,get:function(){return kC.default}});Object.defineProperty(Kt,"ThemeProvider",{enumerable:!0,get:function(){return BC.default}});Object.defineProperty(Kt,"useTheme",{enumerable:!0,get:function(){return zC.default}});Object.defineProperty(Kt,"withStyles",{enumerable:!0,get:function(){return UC.default}});Object.defineProperty(Kt,"withTheme",{enumerable:!0,get:function(){return VC.default}});var g2e=st(),CC=Zi(mb());Object.keys(CC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return CC[n]}})});var AC=Zi(Zz());Object.keys(AC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return AC[n]}})});var LC=Zi(vR());Object.keys(LC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return LC[n]}})});var DC=Zi(QR());Object.keys(DC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return DC[n]}})});var NC=Zi(Fb());Object.keys(NC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return NC[n]}})});var IC=Zi(nC());Object.keys(IC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return IC[n]}})});var OC=Zi(f4());Object.keys(OC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return OC[n]}})});var FC=Zi(C4());Object.keys(FC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return FC[n]}})});var kC=Zi(Nb());Object.keys(kC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return kC[n]}})});var BC=Zi(D4());Object.keys(BC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return BC[n]}})});var zC=Zi(Sp());Object.keys(zC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return zC[n]}})});var UC=Zi(F4());Object.keys(UC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return UC[n]}})});var VC=Zi(U4());Object.keys(VC).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(Ki,n)||Object.defineProperty(Kt,n,{enumerable:!0,get:function(){return VC[n]}})})});var o2=Re(i2=>{"use strict";Object.defineProperty(i2,"__esModule",{value:!0});i2.default=rpe;var npe=st();function rpe(n){if(typeof n!="string")throw new Error((0,npe.formatMuiErrorMessage)(7));return n.charAt(0).toUpperCase()+n.slice(1)}});var r6=Re(s2=>{"use strict";Object.defineProperty(s2,"__esModule",{value:!0});s2.default=ipe;function ipe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.reduce(function(r,i){return i==null?r:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];r.apply(this,a),i.apply(this,a)}},function(){})}});var o6=Re(Oy=>{"use strict";var i6=et();Object.defineProperty(Oy,"__esModule",{value:!0});Oy.default=ape;Oy.keys=void 0;var ope=i6(an()),spe=i6(So()),ya=["xs","sm","md","lg","xl"];Oy.keys=ya;function ape(n){var e=n.values,t=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=n.unit,i=r===void 0?"px":r,o=n.step,s=o===void 0?5:o,a=(0,spe.default)(n,["values","unit","step"]);function l(f){var g=typeof t[f]=="number"?t[f]:f;return"@media (min-width:".concat(g).concat(i,")")}function c(f){var g=ya.indexOf(f)+1,y=t[ya[g]];if(g===ya.length)return l("xs");var v=typeof y=="number"&&g>0?y:f;return"@media (max-width:".concat(v-s/100).concat(i,")")}function u(f,g){var y=ya.indexOf(g);return y===ya.length-1?l(f):"@media (min-width:".concat(typeof t[f]=="number"?t[f]:f).concat(i,") and ")+"(max-width:".concat((y!==-1&&typeof t[ya[y+1]]=="number"?t[ya[y+1]]:g)-s/100).concat(i,")")}function d(f){return u(f,f)}function p(f){return t[f]}return(0,ope.default)({keys:ya,values:t,up:l,down:c,between:u,only:d,width:p},a)}});var a6=Re(c2=>{"use strict";var s6=et();Object.defineProperty(c2,"__esModule",{value:!0});c2.default=lpe;var a2=s6(og()),l2=s6(an());function lpe(n,e,t){var r;return(0,l2.default)({gutters:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,l2.default)({paddingLeft:e(2),paddingRight:e(2)},o,(0,a2.default)({},n.up("sm"),(0,l2.default)({paddingLeft:e(3),paddingRight:e(3)},o[n.up("sm")])))},toolbar:(r={minHeight:56},(0,a2.default)(r,"".concat(n.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,a2.default)(r,n.up("sm"),{minHeight:64}),r)},t)}});var l6=Re(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.default=void 0;var cpe={black:"#000",white:"#fff"},upe=cpe;Vw.default=upe});var c6=Re(Hw=>{"use strict";Object.defineProperty(Hw,"__esModule",{value:!0});Hw.default=void 0;var dpe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},ppe=dpe;Hw.default=ppe});var u6=Re(Ww=>{"use strict";Object.defineProperty(Ww,"__esModule",{value:!0});Ww.default=void 0;var fpe={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},hpe=fpe;Ww.default=hpe});var d6=Re(Gw=>{"use strict";Object.defineProperty(Gw,"__esModule",{value:!0});Gw.default=void 0;var mpe={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},gpe=mpe;Gw.default=gpe});var p6=Re(jw=>{"use strict";Object.defineProperty(jw,"__esModule",{value:!0});jw.default=void 0;var ype={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},vpe=ype;jw.default=vpe});var f6=Re(qw=>{"use strict";Object.defineProperty(qw,"__esModule",{value:!0});qw.default=void 0;var xpe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},bpe=xpe;qw.default=bpe});var h6=Re($w=>{"use strict";Object.defineProperty($w,"__esModule",{value:!0});$w.default=void 0;var _pe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},wpe=_pe;$w.default=wpe});var m6=Re(Xw=>{"use strict";Object.defineProperty(Xw,"__esModule",{value:!0});Xw.default=void 0;var Tpe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Spe=Tpe;Xw.default=Spe});var b6=Re(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.hexToRgb=g6;ro.rgbToHex=Ppe;ro.hslToRgb=y6;ro.decomposeColor=va;ro.recomposeColor=Fy;ro.getContrastRatio=Rpe;ro.getLuminance=Yw;ro.emphasize=Cpe;ro.fade=Ape;ro.darken=v6;ro.lighten=x6;var Mpe=st();function u2(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),t)}function g6(n){n=n.substr(1);var e=new RegExp(".{1,".concat(n.length>=6?2:1,"}"),"g"),t=n.match(e);return t&&t[0].length===1&&(t=t.map(function(r){return r+r})),t?"rgb".concat(t.length===4?"a":"","(").concat(t.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function Epe(n){var e=n.toString(16);return e.length===1?"0".concat(e):e}function Ppe(n){if(n.indexOf("#")===0)return n;var e=va(n),t=e.values;return"#".concat(t.map(function(r){return Epe(r)}).join(""))}function y6(n){n=va(n);var e=n,t=e.values,r=t[0],i=t[1]/100,o=t[2]/100,s=i*Math.min(o,1-o),a=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(d+r/30)%12;return o-s*Math.max(Math.min(p-3,9-p,1),-1)},l="rgb",c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(l+="a",c.push(t[3])),Fy({type:l,values:c})}function va(n){if(n.type)return n;if(n.charAt(0)==="#")return va(g6(n));var e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(t)===-1)throw new Error((0,Mpe.formatMuiErrorMessage)(3,n));var r=n.substring(e+1,n.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:t,values:r}}function Fy(n){var e=n.type,t=n.values;return e.indexOf("rgb")!==-1?t=t.map(function(r,i){return i<3?parseInt(r,10):r}):e.indexOf("hsl")!==-1&&(t[1]="".concat(t[1],"%"),t[2]="".concat(t[2],"%")),"".concat(e,"(").concat(t.join(", "),")")}function Rpe(n,e){var t=Yw(n),r=Yw(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function Yw(n){n=va(n);var e=n.type==="hsl"?va(y6(n)).values:n.values;return e=e.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Cpe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.15;return Yw(n)>.5?v6(n,e):x6(n,e)}function Ape(n,e){return n=va(n),e=u2(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.values[3]=e,Fy(n)}function v6(n,e){if(n=va(n),e=u2(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)n.values[t]*=1-e;return Fy(n)}function x6(n,e){if(n=va(n),e=u2(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;return Fy(n)}});var S6=Re(Ou=>{"use strict";var Bs=et();Object.defineProperty(Ou,"__esModule",{value:!0});Ou.default=Dpe;Ou.dark=Ou.light=void 0;var _6=Bs(an()),Lpe=Bs(So()),w6=st(),Jw=Bs(l6()),d2=Bs(c6()),p2=Bs(u6()),f2=Bs(d6()),h2=Bs(p6()),m2=Bs(f6()),g2=Bs(h6()),y2=Bs(m6()),v2=b6(),x2={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jw.default.white,default:d2.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}};Ou.light=x2;var Zw={text:{primary:Jw.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d2.default[800],default:"#303030"},action:{active:Jw.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};Ou.dark=Zw;function T6(n,e,t,r){var i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=(0,v2.lighten)(n.main,i):e==="dark"&&(n.dark=(0,v2.darken)(n.main,o)))}function Dpe(n){var e=n.primary,t=e===void 0?{light:p2.default[300],main:p2.default[500],dark:p2.default[700]}:e,r=n.secondary,i=r===void 0?{light:f2.default.A200,main:f2.default.A400,dark:f2.default.A700}:r,o=n.error,s=o===void 0?{light:h2.default[300],main:h2.default[500],dark:h2.default[700]}:o,a=n.warning,l=a===void 0?{light:m2.default[300],main:m2.default[500],dark:m2.default[700]}:a,c=n.info,u=c===void 0?{light:g2.default[300],main:g2.default[500],dark:g2.default[700]}:c,d=n.success,p=d===void 0?{light:y2.default[300],main:y2.default[500],dark:y2.default[700]}:d,f=n.type,g=f===void 0?"light":f,y=n.contrastThreshold,v=y===void 0?3:y,m=n.tonalOffset,h=m===void 0?.2:m,b=(0,Lpe.default)(n,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(E){var L=(0,v2.getContrastRatio)(E,Zw.text.primary)>=v?Zw.text.primary:x2.text.primary;if(!1)var I;return L}var _=function(L){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(L=(0,_6.default)({},L),!L.main&&L[I]&&(L.main=L[I]),!L.main)throw new Error((0,w6.formatMuiErrorMessage)(4,I));if(typeof L.main!="string")throw new Error(_formatMuiErrorMessage(5,JSON.stringify(L.main)));return T6(L,"light",T,h),T6(L,"dark",A,h),L.contrastText||(L.contrastText=x(L.main)),L},S={dark:Zw,light:x2},M=(0,w6.deepmerge)((0,_6.default)({common:Jw.default,type:g,primary:_(t),secondary:_(i,"A400","A200","A700"),error:_(s),warning:_(l),info:_(u),success:_(p),grey:d2.default,contrastThreshold:v,getContrastText:x,augmentColor:_,tonalOffset:h},S[g]),b);return M}});var A6=Re(b2=>{"use strict";var M6=et();Object.defineProperty(b2,"__esModule",{value:!0});b2.default=Ope;var E6=M6(an()),Npe=M6(So()),Ipe=st();function P6(n){return Math.round(n*1e5)/1e5}var R6={textTransform:"uppercase"},C6='"Roboto", "Helvetica", "Arial", sans-serif';function Ope(n,e){var t=typeof e=="function"?e(n):e,r=t.fontFamily,i=r===void 0?C6:r,o=t.fontSize,s=o===void 0?14:o,a=t.fontWeightLight,l=a===void 0?300:a,c=t.fontWeightRegular,u=c===void 0?400:c,d=t.fontWeightMedium,p=d===void 0?500:d,f=t.fontWeightBold,g=f===void 0?700:f,y=t.htmlFontSize,v=y===void 0?16:y,m=t.allVariants,h=t.pxToRem,b=(0,Npe.default)(t,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),x=s/14,_=h||function(E){return"".concat(E/v*x,"rem")},S=function(L,I,T,A,k){return(0,E6.default)({fontFamily:i,fontWeight:L,fontSize:_(I),lineHeight:T},i===C6?{letterSpacing:"".concat(P6(A/I),"em")}:{},k,m)},M={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(u,48,1.167,0),h4:S(u,34,1.235,.25),h5:S(u,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(u,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(u,16,1.5,.15),body2:S(u,14,1.43,.15),button:S(p,14,1.75,.4,R6),caption:S(u,12,1.66,.4),overline:S(u,12,2.66,1,R6)};return(0,Ipe.deepmerge)((0,E6.default)({htmlFontSize:v,pxToRem:_,round:P6,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:p,fontWeightBold:g},M),b,{clone:!1})}});var L6=Re(Kw=>{"use strict";Object.defineProperty(Kw,"__esModule",{value:!0});Kw.default=void 0;var Fpe=.2,kpe=.14,Bpe=.12;function Tn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(Fpe,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(kpe,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(Bpe,")")].join(",")}var zpe=["none",Tn(0,2,1,-1,0,1,1,0,0,1,3,0),Tn(0,3,1,-2,0,2,2,0,0,1,5,0),Tn(0,3,3,-2,0,3,4,0,0,1,8,0),Tn(0,2,4,-1,0,4,5,0,0,1,10,0),Tn(0,3,5,-1,0,5,8,0,0,1,14,0),Tn(0,3,5,-1,0,6,10,0,0,1,18,0),Tn(0,4,5,-2,0,7,10,1,0,2,16,1),Tn(0,5,5,-3,0,8,10,1,0,3,14,2),Tn(0,5,6,-3,0,9,12,1,0,3,16,2),Tn(0,6,6,-3,0,10,14,1,0,4,18,3),Tn(0,6,7,-4,0,11,15,1,0,4,20,3),Tn(0,7,8,-4,0,12,17,2,0,5,22,4),Tn(0,7,8,-4,0,13,19,2,0,5,24,4),Tn(0,7,9,-4,0,14,21,2,0,5,26,4),Tn(0,8,9,-5,0,15,22,2,0,6,28,5),Tn(0,8,10,-5,0,16,24,2,0,6,30,5),Tn(0,8,11,-5,0,17,26,2,0,6,32,5),Tn(0,9,11,-5,0,18,28,2,0,7,34,6),Tn(0,9,12,-6,0,19,29,2,0,7,36,6),Tn(0,10,13,-6,0,20,31,3,0,8,38,7),Tn(0,10,13,-6,0,21,33,3,0,8,40,7),Tn(0,10,14,-6,0,22,35,3,0,8,42,7),Tn(0,11,14,-7,0,23,36,3,0,9,44,8),Tn(0,11,15,-7,0,24,38,3,0,9,46,8)],Upe=zpe;Kw.default=Upe});var D6=Re(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});Qw.default=void 0;var Vpe={borderRadius:4},Hpe=Vpe;Qw.default=Hpe});var N6=Re(_2=>{"use strict";Object.defineProperty(_2,"__esModule",{value:!0});_2.default=Gpe;var Wpe=db();function Gpe(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(n.mui)return n;var e=(0,Wpe.createUnarySpacing)({spacing:n}),t=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.length===0?e(1):o.length===1?e(o[0]):o.map(function(a){if(typeof a=="string")return a;var l=e(a);return typeof l=="number"?"".concat(l,"px"):l}).join(" ")};return Object.defineProperty(t,"unit",{get:function(){return n}}),t.mui=!0,t}});var O6=Re(Kl=>{"use strict";var jpe=et();Object.defineProperty(Kl,"__esModule",{value:!0});Kl.default=Kl.duration=Kl.easing=void 0;var qpe=jpe(So()),w2={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"};Kl.easing=w2;var T2={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};Kl.duration=T2;function I6(n){return"".concat(Math.round(n),"ms")}var $pe={easing:w2,duration:T2,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.duration,i=r===void 0?T2.standard:r,o=t.easing,s=o===void 0?w2.easeInOut:o,a=t.delay,l=a===void 0?0:a,c=(0,qpe.default)(t,["duration","easing","delay"]);if(!1)var u,d;return(Array.isArray(e)?e:[e]).map(function(p){return"".concat(p," ").concat(typeof i=="string"?i:I6(i)," ").concat(s," ").concat(typeof l=="string"?l:I6(l))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round((4+15*Math.pow(t,.25)+t/5)*10)}};Kl.default=$pe});var F6=Re(eT=>{"use strict";Object.defineProperty(eT,"__esModule",{value:!0});eT.default=void 0;var Xpe={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ype=Xpe;eT.default=Ype});var B6=Re(tT=>{"use strict";var Ko=et();Object.defineProperty(tT,"__esModule",{value:!0});tT.default=void 0;var Cst=Ko(og()),Jpe=Ko(So()),k6=st(),Zpe=Ko(o6()),Kpe=Ko(a6()),Qpe=Ko(S6()),efe=Ko(A6()),tfe=Ko(L6()),nfe=Ko(D6()),rfe=Ko(N6()),ife=Ko(O6()),ofe=Ko(F6());function sfe(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.breakpoints,t=e===void 0?{}:e,r=n.mixins,i=r===void 0?{}:r,o=n.palette,s=o===void 0?{}:o,a=n.spacing,l=n.typography,c=l===void 0?{}:l,u=(0,Jpe.default)(n,["breakpoints","mixins","palette","spacing","typography"]),d=(0,Qpe.default)(s),p=(0,Zpe.default)(t),f=(0,rfe.default)(a),g=(0,k6.deepmerge)({breakpoints:p,direction:"ltr",mixins:(0,Kpe.default)(p,f,i),overrides:{},palette:d,props:{},shadows:tfe.default,typography:(0,efe.default)(d,c),spacing:f,shape:nfe.default,transitions:ife.default,zIndex:ofe.default},u),y=arguments.length,v=new Array(y>1?y-1:0),m=1;m<y;m++)v[m-1]=arguments[m];if(g=v.reduce(function(x,_){return(0,k6.deepmerge)(x,_)},g),!1)var h,b;return g}var afe=sfe;tT.default=afe});var S2=Re(nT=>{"use strict";var lfe=et();Object.defineProperty(nT,"__esModule",{value:!0});nT.default=void 0;var cfe=lfe(B6()),ufe=(0,cfe.default)(),dfe=ufe;nT.default=dfe});var U6=Re(rT=>{"use strict";var z6=et();Object.defineProperty(rT,"__esModule",{value:!0});rT.default=void 0;var pfe=z6(an()),ffe=ni(),hfe=z6(S2());function mfe(n,e){return(0,ffe.withStyles)(n,(0,pfe.default)({defaultTheme:hfe.default},e))}var gfe=mfe;rT.default=gfe});var G6=Re(hf=>{"use strict";var yfe=rr(),ff=et();Object.defineProperty(hf,"__esModule",{value:!0});hf.default=hf.styles=void 0;var vfe=ff(an()),xfe=ff(So()),M2=yfe(we()),Nst=ff(Ae()),bfe=ff(Be()),_fe=ff(U6()),V6=ff(o2()),H6=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}};hf.styles=H6;var W6=M2.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.color,a=s===void 0?"inherit":s,l=e.component,c=l===void 0?"svg":l,u=e.fontSize,d=u===void 0?"default":u,p=e.htmlColor,f=e.titleAccess,g=e.viewBox,y=g===void 0?"0 0 24 24":g,v=(0,xfe.default)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return M2.createElement(c,(0,vfe.default)({className:(0,bfe.default)(i.root,o,a!=="inherit"&&i["color".concat((0,V6.default)(a))],d!=="default"&&i["fontSize".concat((0,V6.default)(d))]),focusable:"false",viewBox:y,color:p,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:t},v),r,f?M2.createElement("title",null,f):null)});W6.muiName="SvgIcon";var wfe=(0,_fe.default)(H6,{name:"MuiSvgIcon"})(W6);hf.default=wfe});var j6=Re(E2=>{"use strict";var Tfe=et();Object.defineProperty(E2,"__esModule",{value:!0});Object.defineProperty(E2,"default",{enumerable:!0,get:function(){return Sfe.default}});var Sfe=Tfe(G6())});var $6=Re(C2=>{"use strict";var P2=et();Object.defineProperty(C2,"__esModule",{value:!0});C2.default=Efe;var Mfe=P2(an()),R2=P2(we()),q6=P2(j6());function Efe(n,e){var t=function(i,o){return R2.default.createElement(q6.default,(0,Mfe.default)({ref:o},i),n)};return t.muiName=q6.default.muiName,R2.default.memo(R2.default.forwardRef(t))}});var X6=Re(A2=>{"use strict";Object.defineProperty(A2,"__esModule",{value:!0});A2.default=Pfe;function Pfe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,t;function r(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=this,l=function(){n.apply(a,o)};clearTimeout(t),t=setTimeout(l,e)}return r.clear=function(){clearTimeout(t)},r}});var Y6=Re(L2=>{"use strict";Object.defineProperty(L2,"__esModule",{value:!0});L2.default=Rfe;function Rfe(n,e){return function(){return null}}});var J6=Re(D2=>{"use strict";var Cfe=rr();Object.defineProperty(D2,"__esModule",{value:!0});D2.default=Lfe;var Afe=Cfe(we());function Lfe(n,e){return Afe.isValidElement(n)&&e.indexOf(n.type.muiName)!==-1}});var I2=Re(N2=>{"use strict";Object.defineProperty(N2,"__esModule",{value:!0});N2.default=Dfe;function Dfe(n){return n&&n.ownerDocument||document}});var Z6=Re(O2=>{"use strict";var Nfe=et();Object.defineProperty(O2,"__esModule",{value:!0});O2.default=Ofe;var Ife=Nfe(I2());function Ofe(n){var e=(0,Ife.default)(n);return e.defaultView||window}});var K6=Re(F2=>{"use strict";Object.defineProperty(F2,"__esModule",{value:!0});F2.default=Ffe;function Ffe(n){return function(){return null};var e}});var B2=Re(k2=>{"use strict";Object.defineProperty(k2,"__esModule",{value:!0});k2.default=kfe;function kfe(n,e){typeof n=="function"?n(e):n&&(n.current=e)}});var Q6=Re(z2=>{"use strict";Object.defineProperty(z2,"__esModule",{value:!0});z2.default=Bfe;function Bfe(n,e,t,r,i){return null;var o}});var e8=Re(V2=>{"use strict";var zfe=rr();Object.defineProperty(V2,"__esModule",{value:!0});V2.default=Ufe;var U2=zfe(we());function Ufe(n){var e=n.controlled,t=n.default,r=n.name,i=n.state,o=i===void 0?"value":i,s=U2.useRef(e!==void 0),a=s.current,l=U2.useState(t),c=l[0],u=l[1],d=a?e:c;if(!1)var p,f;var g=U2.useCallback(function(y){a||u(y)},[]);return[d,g]}});var t8=Re(H2=>{"use strict";var Vfe=rr();Object.defineProperty(H2,"__esModule",{value:!0});H2.default=Wfe;var iT=Vfe(we()),Hfe=typeof window!="undefined"?iT.useLayoutEffect:iT.useEffect;function Wfe(n){var e=iT.useRef(n);return Hfe(function(){e.current=n}),iT.useCallback(function(){return e.current.apply(void 0,arguments)},[])}});var r8=Re(W2=>{"use strict";var Gfe=et(),jfe=rr();Object.defineProperty(W2,"__esModule",{value:!0});W2.default=$fe;var qfe=jfe(we()),n8=Gfe(B2());function $fe(n,e){return qfe.useMemo(function(){return n==null&&e==null?null:function(t){(0,n8.default)(n,t),(0,n8.default)(e,t)}},[n,e])}});var o8=Re(G2=>{"use strict";var Xfe=rr();Object.defineProperty(G2,"__esModule",{value:!0});G2.default=Yfe;var i8=Xfe(we());function Yfe(n){var e=i8.useState(n),t=e[0],r=e[1],i=n||t;return i8.useEffect(function(){t==null&&r("mui-".concat(Math.round(Math.random()*1e5)))},[t]),i}});var u8=Re(sT=>{"use strict";var s8=rr();Object.defineProperty(sT,"__esModule",{value:!0});sT.teardown=the;sT.default=ihe;var Jfe=s8(we()),Zfe=s8(fr()),oT=!0,j2=!1,a8=null,Kfe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Qfe(n){var e=n.type,t=n.tagName;return!!(t==="INPUT"&&Kfe[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function l8(n){n.metaKey||n.altKey||n.ctrlKey||(oT=!0)}function mf(){oT=!1}function c8(){this.visibilityState==="hidden"&&j2&&(oT=!0)}function ehe(n){n.addEventListener("keydown",l8,!0),n.addEventListener("mousedown",mf,!0),n.addEventListener("pointerdown",mf,!0),n.addEventListener("touchstart",mf,!0),n.addEventListener("visibilitychange",c8,!0)}function the(n){n.removeEventListener("keydown",l8,!0),n.removeEventListener("mousedown",mf,!0),n.removeEventListener("pointerdown",mf,!0),n.removeEventListener("touchstart",mf,!0),n.removeEventListener("visibilitychange",c8,!0)}function nhe(n){var e=n.target;try{return e.matches(":focus-visible")}catch(t){}return oT||Qfe(e)}function rhe(){j2=!0,window.clearTimeout(a8),a8=window.setTimeout(function(){j2=!1},100)}function ihe(){var n=Jfe.useCallback(function(e){var t=Zfe.findDOMNode(e);t!=null&&ehe(t.ownerDocument)},[]);return{isFocusVisible:nhe,onBlurVisible:rhe,ref:n}}});var d8=Re(Pr=>{"use strict";var ci=et();Object.defineProperty(Pr,"__esModule",{value:!0});Object.defineProperty(Pr,"capitalize",{enumerable:!0,get:function(){return ohe.default}});Object.defineProperty(Pr,"createChainedFunction",{enumerable:!0,get:function(){return she.default}});Object.defineProperty(Pr,"createSvgIcon",{enumerable:!0,get:function(){return ahe.default}});Object.defineProperty(Pr,"debounce",{enumerable:!0,get:function(){return lhe.default}});Object.defineProperty(Pr,"deprecatedPropType",{enumerable:!0,get:function(){return che.default}});Object.defineProperty(Pr,"isMuiElement",{enumerable:!0,get:function(){return uhe.default}});Object.defineProperty(Pr,"ownerDocument",{enumerable:!0,get:function(){return dhe.default}});Object.defineProperty(Pr,"ownerWindow",{enumerable:!0,get:function(){return phe.default}});Object.defineProperty(Pr,"requirePropFactory",{enumerable:!0,get:function(){return fhe.default}});Object.defineProperty(Pr,"setRef",{enumerable:!0,get:function(){return hhe.default}});Object.defineProperty(Pr,"unsupportedProp",{enumerable:!0,get:function(){return mhe.default}});Object.defineProperty(Pr,"useControlled",{enumerable:!0,get:function(){return ghe.default}});Object.defineProperty(Pr,"useEventCallback",{enumerable:!0,get:function(){return yhe.default}});Object.defineProperty(Pr,"useForkRef",{enumerable:!0,get:function(){return vhe.default}});Object.defineProperty(Pr,"unstable_useId",{enumerable:!0,get:function(){return xhe.default}});Object.defineProperty(Pr,"useIsFocusVisible",{enumerable:!0,get:function(){return bhe.default}});var ohe=ci(o2()),she=ci(r6()),ahe=ci($6()),lhe=ci(X6()),che=ci(Y6()),uhe=ci(J6()),dhe=ci(I2()),phe=ci(Z6()),fhe=ci(K6()),hhe=ci(B2()),mhe=ci(Q6()),ghe=ci(e8()),yhe=ci(t8()),vhe=ci(r8()),xhe=ci(o8()),bhe=ci(u8())});var Ql=Re(q2=>{"use strict";Object.defineProperty(q2,"__esModule",{value:!0});Object.defineProperty(q2,"default",{enumerable:!0,get:function(){return _he.createSvgIcon}});var _he=d8()});var p8=Re(aT=>{"use strict";var whe=et(),The=rr();Object.defineProperty(aT,"__esModule",{value:!0});aT.default=void 0;var She=The(we()),Mhe=whe(Ql()),Ehe=(0,Mhe.default)(She.createElement("path",{d:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"}),"Shuffle");aT.default=Ehe});var f8=Re(lT=>{"use strict";var Phe=et(),Rhe=rr();Object.defineProperty(lT,"__esModule",{value:!0});lT.default=void 0;var Che=Rhe(we()),Ahe=Phe(Ql()),Lhe=(0,Ahe.default)(Che.createElement("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"}),"Restore");lT.default=Lhe});var h8=Re(cT=>{"use strict";var Dhe=et(),Nhe=rr();Object.defineProperty(cT,"__esModule",{value:!0});cT.default=void 0;var Ihe=Nhe(we()),Ohe=Dhe(Ql()),Fhe=(0,Ohe.default)(Ihe.createElement("path",{d:"M7 11H1v2h6v-2zm2.17-3.24L7.05 5.64 5.64 7.05l2.12 2.12 1.41-1.41zM13 1h-2v6h2V1zm5.36 6.05l-1.41-1.41-2.12 2.12 1.41 1.41 2.12-2.12zM17 11v2h6v-2h-6zm-5-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3zm2.83 7.24l2.12 2.12 1.41-1.41-2.12-2.12-1.41 1.41zm-9.19.71l1.41 1.41 2.12-2.12-1.41-1.41-2.12 2.12zM11 23h2v-6h-2v6z"}),"Flare");cT.default=Fhe});var m8=Re(uT=>{"use strict";var khe=et(),Bhe=rr();Object.defineProperty(uT,"__esModule",{value:!0});uT.default=void 0;var zhe=Bhe(we()),Uhe=khe(Ql()),Vhe=(0,Uhe.default)(zhe.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");uT.default=Vhe});var X2=Re((b8,fT)=>{(function(){var n,e,t,r,i,o,s,a,l,c,u,d,p,f,g,y,v,m,h,b,x,_,S,M,E,L,I,T,A,k,U,F,N;[h,m,f,i,v,n]=[0,1,2,3,4,5],[I,S,E,x,l,u,s,p]=[0,1,2,3,4,5,6,7],[L,_,M,b,d,a,c,o,y,g,e,t]=[0,1,2,3,4,5,6,7,8,9,10,11],[A,U,N]=function(){var j,Y,pe,$,W,J;return J=function(oe){return oe-1},W=function(oe){return J(9)+oe},pe=function(oe){return W(9)+oe},Y=function(oe){return pe(9)+oe},$=function(oe){return Y(9)+oe},j=function(oe){return $(9)+oe},[[4,13,22,31,40,49],[[J(9),W(1),pe(3)],[J(7),pe(1),$(3)],[J(1),$(1),j(3)],[J(3),j(1),W(3)],[Y(3),pe(9),W(7)],[Y(1),$(9),pe(7)],[Y(7),j(9),$(7)],[Y(9),W(9),j(7)]],[[J(6),W(2)],[J(8),pe(2)],[J(4),$(2)],[J(2),j(2)],[Y(6),W(8)],[Y(2),pe(8)],[Y(4),$(8)],[Y(8),j(8)],[pe(6),W(4)],[pe(4),$(6)],[j(6),$(4)],[j(4),W(6)]]]}(),T=["U","R","F","D","L","B"],k=[["U","R","F"],["U","F","L"],["U","L","B"],["U","B","R"],["D","F","R"],["D","L","F"],["D","B","L"],["D","R","B"]],F=[["U","R"],["U","F"],["U","L"],["U","B"],["D","R"],["D","F"],["D","L"],["D","B"],["F","R"],["F","L"],["B","L"],["B","R"]],r=function(){var j,Y,pe;class ${constructor(J){var oe;J!=null?this.init(J):this.identity(),this.newCenter=function(){var re,D;for(D=[],oe=re=0;re<=5;oe=++re)D.push(0);return D}(),this.newCp=function(){var re,D;for(D=[],oe=re=0;re<=7;oe=++re)D.push(0);return D}(),this.newEp=function(){var re,D;for(D=[],oe=re=0;re<=11;oe=++re)D.push(0);return D}(),this.newCo=function(){var re,D;for(D=[],oe=re=0;re<=7;oe=++re)D.push(0);return D}(),this.newEo=function(){var re,D;for(D=[],oe=re=0;re<=11;oe=++re)D.push(0);return D}()}init(J){return this.center=J.center.slice(0),this.co=J.co.slice(0),this.ep=J.ep.slice(0),this.cp=J.cp.slice(0),this.eo=J.eo.slice(0)}identity(){var J;return this.center=[0,1,2,3,4,5],this.cp=[0,1,2,3,4,5,6,7],this.co=function(){var oe,re;for(re=[],J=oe=0;oe<=7;J=++oe)re.push(0);return re}(),this.ep=[0,1,2,3,4,5,6,7,8,9,10,11],this.eo=function(){var oe,re;for(re=[],J=oe=0;oe<=11;J=++oe)re.push(0);return re}()}toJSON(){return{center:this.center,cp:this.cp,co:this.co,ep:this.ep,eo:this.eo}}asString(){var J,oe,re,D,Te,de,Me,me,Pe,_e,q;for(q=[],re=D=0;D<=5;re=++D)q[9*re+4]=T[this.center[re]];for(re=Te=0;Te<=7;re=++Te)for(J=this.cp[re],Pe=this.co[re],Me=de=0;de<=2;Me=++de)q[U[re][(Me+Pe)%3]]=k[J][Me];for(re=me=0;me<=11;re=++me)for(oe=this.ep[re],Pe=this.eo[re],Me=_e=0;_e<=1;Me=++_e)q[N[re][(Me+Pe)%2]]=F[oe][Me];return q.join("")}static fromString(J){var oe,re,D,Te,de,Me,me,Pe,_e,q,ce,se,Se,be;for(D=new $,Te=Me=0;Me<=5;Te=++Me)for(de=me=0;me<=5;de=++me)J[9*Te+4]===T[de]&&(D.center[Te]=de);for(Te=Pe=0;Pe<=7;Te=++Pe){for(q=_e=0;_e<=2&&!((be=J[U[Te][q]])==="U"||be==="D");q=++_e);for(oe=J[U[Te][(q+1)%3]],re=J[U[Te][(q+2)%3]],de=ce=0;ce<=7;de=++ce)oe===k[de][1]&&re===k[de][2]&&(D.cp[Te]=de,D.co[Te]=q%3)}for(Te=se=0;se<=11;Te=++se)for(de=Se=0;Se<=11;de=++Se){if(J[N[Te][0]]===F[de][0]&&J[N[Te][1]]===F[de][1]){D.ep[Te]=de,D.eo[Te]=0;break}if(J[N[Te][0]]===F[de][1]&&J[N[Te][1]]===F[de][0]){D.ep[Te]=de,D.eo[Te]=1;break}}return D}clone(){return new $(this.toJSON())}static random(){return new $().randomize()}isSolved(){var J,oe,re,D,Te,de,Me;for(re=this.clone(),re.move(re.upright()),oe=Te=0;Te<=5;oe=++Te)if(re.center[oe]!==oe)return!1;for(J=de=0;de<=7;J=++de)if(re.cp[J]!==J||re.co[J]!==0)return!1;for(D=Me=0;Me<=11;D=++Me)if(re.ep[D]!==D||re.eo[D]!==0)return!1;return!0}centerMultiply(J){var oe,re,D;for(D=re=0;re<=5;D=++re)oe=J.center[D],this.newCenter[D]=this.center[oe];return[this.center,this.newCenter]=[this.newCenter,this.center],this}cornerMultiply(J){var oe,re,D;for(D=re=0;re<=7;D=++re)oe=J.cp[D],this.newCp[D]=this.cp[oe],this.newCo[D]=(this.co[oe]+J.co[D])%3;return[this.cp,this.newCp]=[this.newCp,this.cp],[this.co,this.newCo]=[this.newCo,this.co],this}edgeMultiply(J){var oe,re,D;for(D=re=0;re<=11;D=++re)oe=J.ep[D],this.newEp[D]=this.ep[oe],this.newEo[D]=(this.eo[oe]+J.eo[D])%2;return[this.ep,this.newEp]=[this.newEp,this.ep],[this.eo,this.newEo]=[this.newEo,this.eo],this}multiply(J){return this.centerMultiply(J),this.cornerMultiply(J),this.edgeMultiply(J),this}move(J){var oe,re,D,Te,de,Me,me,Pe,_e;for(me=pe(J),re=0,Te=me.length;re<Te;re++)for(de=me[re],oe=de/3|0,Me=de%3,_e=D=0,Pe=Me;0<=Pe?D<=Pe:D>=Pe;_e=0<=Pe?++D:--D)this.multiply($.moves[oe]);return this}upright(){var J,oe,re,D,Te,de;for(J=this.clone(),de=[],oe=D=0;D<=5&&J.center[oe]!==f;oe=++D);switch(oe){case i:de.push("x");break;case h:de.push("x'");break;case n:de.push("x2");break;case m:de.push("y");break;case v:de.push("y'")}for(de.length&&J.move(de[0]),re=Te=0;Te<=5&&J.center[re]!==h;re=++Te);switch(re){case v:de.push("z");break;case m:de.push("z'");break;case i:de.push("z2")}return de.join(" ")}static inverse(J){var oe,re,D,Te,de,Me,me;if(Me=function(){var Pe,_e,q,ce;for(q=pe(J),ce=[],Pe=0,_e=q.length;Pe<_e;Pe++)Te=q[Pe],oe=Te/3|0,de=Te%3,ce.push(oe*3+-(de-1)+1);return ce}(),Me.reverse(),typeof J=="string"){for(me="",re=0,D=Me.length;re<D;re++)Te=Me[re],oe=Te/3|0,de=Te%3,me+=j[oe],de===1?me+="2":de===2&&(me+="'"),me+=" ";return me.substring(0,me.length-1)}else return J.length!=null?Me:Me[0]}}return $.prototype.randomize=function(){var W,J,oe,re,D,Te,de,Me,me;return Te=function(Pe,_e){return Pe+Math.floor(Math.random()*(_e-Pe+1))},me=function(Pe){var _e,q,ce;for(_e=Pe.length;_e!==0;)q=Te(0,_e-1),_e-=1,ce=Pe[_e],[Pe[_e],Pe[q]]=[Pe[q],Pe[_e]]},re=function(Pe){var _e,q,ce,se,Se,be,Ce,Le;for(Se=0,Ce=function(){var Ne,Ge,Ue;for(Ue=[],Le=Ne=0,Ge=Pe.length-1;0<=Ge?Ne<=Ge:Ne>=Ge;Le=0<=Ge?++Ne:--Ne)Ue.push(!1);return Ue}();;){for(_e=-1,ce=se=0,be=Pe.length-1;0<=be?se<=be:se>=be;ce=0<=be?++se:--se)if(!Ce[ce]){_e=ce;break}if(_e===-1)break;for(q=0;!Ce[_e];)Ce[_e]=!0,q++,_e=Pe[_e];Se+=q+1}return Se},W=function(Pe,_e){var q;return q=re(_e)+re(Pe),q%2==0},oe=function(Pe,_e){for(me(_e),me(Pe);!W(Pe,_e);)me(_e),me(Pe)},de=function(Pe,_e){var q,ce,se,Se;for(se=0,q=ce=0,Se=Pe.length-1;0<=Se?ce<=Se:ce>=Se;q=0<=Se?++ce:--ce)se+=Pe[q]=Te(0,_e-1)},D=function(Pe,_e){return Pe.reduce(function(q,ce){return q+ce})%_e==0},J=function(Pe,_e){for(de(Pe,3);!D(Pe,3);)de(Pe,3);for(de(_e,2);!D(_e,2);)de(_e,2)},Me=function(){return oe(this.cp,this.ep),J(this.co,this.eo),this},Me}(),$.moves=[{center:[0,1,2,3,4,5],cp:[x,I,S,E,l,u,s,p],co:[0,0,0,0,0,0,0,0],ep:[b,L,_,M,d,a,c,o,y,g,e,t],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[l,S,E,I,p,u,s,x],co:[2,0,0,1,1,0,0,2],ep:[y,_,M,b,t,a,c,o,d,g,e,L],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[S,u,E,x,I,l,s,p],co:[1,2,0,0,2,1,0,0],ep:[L,g,M,b,d,y,c,o,_,a,e,t],eo:[0,1,0,0,0,1,0,0,1,1,0,0]},{center:[0,1,2,3,4,5],cp:[I,S,E,x,u,s,p,l],co:[0,0,0,0,0,0,0,0],ep:[L,_,M,b,a,c,o,d,y,g,e,t],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[I,E,s,x,l,S,u,p],co:[0,1,2,0,0,2,1,0],ep:[L,_,e,b,d,a,g,o,y,M,c,t],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[I,S,x,p,l,u,E,s],co:[0,0,1,2,0,0,2,1],ep:[L,_,M,t,d,a,c,e,y,g,b,o],eo:[0,0,0,1,0,0,0,1,0,0,1,1]},{center:[h,f,v,i,n,m],cp:[I,S,E,x,l,u,s,p],co:[0,0,0,0,0,0,0,0],ep:[L,_,M,b,d,a,c,o,g,e,t,y],eo:[0,0,0,0,0,0,0,0,1,1,1,1]},{center:[n,m,h,f,v,i],cp:[I,S,E,x,l,u,s,p],co:[0,0,0,0,0,0,0,0],ep:[L,b,M,o,d,_,c,a,y,g,e,t],eo:[0,1,0,1,0,1,0,1,0,0,0,0]},{center:[v,h,f,m,i,n],cp:[I,S,E,x,l,u,s,p],co:[0,0,0,0,0,0,0,0],ep:[M,_,c,b,L,a,d,o,y,g,e,t],eo:[1,0,1,0,1,0,1,0,0,0,0,0]}],Y={U:0,R:1,F:2,D:3,L:4,B:5,E:6,M:7,S:8,x:9,y:10,z:11,u:12,r:13,f:14,d:15,l:16,b:17},j={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B",6:"E",7:"M",8:"S",9:"x",10:"y",11:"z",12:"u",13:"r",14:"f",15:"d",16:"l",17:"b"},pe=function(W){var J,oe,re,D,Te,de,Me;if(typeof W=="string"){for(de=W.split(/\s+/),Me=[],J=0,oe=de.length;J<oe;J++)if(D=de[J],D.length!==0){if(D.length>2)throw new Error(`Invalid move: ${D}`);if(re=Y[D[0]],re===void 0)throw new Error(`Invalid move: ${D}`);if(D.length===1)Te=0;else if(D[1]==="2")Te=1;else if(D[1]==="'")Te=2;else throw new Error(`Invalid move: ${D}`);Me.push(re*3+Te)}return Me}else return W.length!=null?W:[W]},$.moves.push(new $().move("R M' L'").toJSON()),$.moves.push(new $().move("U E' D'").toJSON()),$.moves.push(new $().move("F S B'").toJSON()),$.moves.push(new $().move("U E'").toJSON()),$.moves.push(new $().move("R M'").toJSON()),$.moves.push(new $().move("F S").toJSON()),$.moves.push(new $().move("D E").toJSON()),$.moves.push(new $().move("L M").toJSON()),$.moves.push(new $().move("B S'").toJSON()),$}.call(this),typeof fT!="undefined"&&fT!==null?fT.exports=r:this.Cube=r}).call(b8)});var w8=Re(_8=>{(function(){var n,e,t,r,i,o,s,a,l,c,u,d,p,f,g,y,v,m,h,b,x,_,S,M,E,L,I,T,A,k,U,F,N,j,Y,pe,$,W,J,oe,re,D,Te,de,Me,me,Pe,_e,q,ce,se,Se,be,Ce,Le,Ne,Ge,Ue,C=[].indexOf;i=this.Cube||X2(),[U,k,g,o,h,n]=[0,1,2,3,4,5],[J,Y,$,N,c,d,a,f]=[0,1,2,3,4,5,6,7],[W,j,pe,F,p,l,u,s,v,y,e,t]=[0,1,2,3,4,5,6,7,8,9,10,11],r=function(w,H){var ee,ue,G;if(w<H)return 0;for(H>w/2&&(H=w-H),G=1,ee=w,ue=1;ee!==w-H;)G*=ee,G/=ue,ee--,ue++;return G},me=function(w){var H,ee,ue,G;for(H=1,ee=ue=2,G=w;2<=G?ue<=G:ue>=G;ee=2<=G?++ue:--ue)H*=ee;return H},_e=function(w,H){return w>H?w:H},Ne=function(w,H,ee){var ue,G,ge,fe,le;for(le=w[H],ue=G=ge=H,fe=ee-1;ge<=fe?G<=fe:G>=fe;ue=ge<=fe?++G:--G)w[ue]=w[ue+1];return w[ee]=le},Ge=function(w,H,ee){var ue,G,ge,fe,le;for(le=w[ee],ue=G=ge=ee,fe=H+1;ge<=fe?G<=fe:G>=fe;ue=ge<=fe?++G:--G)w[ue]=w[ue-1];return w[H]=le},be=function(w,H,ee,ue=!1){var G,ge,fe,le,ve,De;return le=ee-H,fe=me(le+1),w==="corners"?(ge=7,De="cp"):(ge=11,De="ep"),ve=function(){var z,xe,ne;for(ne=[],G=z=0,xe=le;0<=xe?z<=xe:z>=xe;G=0<=xe?++z:--z)ne.push(0);return ne}(),function(z){var xe,ne,he,V,Ee,Oe,We,nt,Xe,bt,yt,un,zo,zt,Rt,Dt,Je,ht,P,X,te,K,ae,He,ke,qe,je;if(z!=null){for(G=Oe=0,yt=le;0<=yt?Oe<=yt:Oe>=yt;G=0<=yt?++Oe:--Oe)ve[G]=G+H;for(ne=z%fe,xe=z/fe|0,Xe=this[De],G=We=0,un=ge;0<=un?We<=un:We>=un;G=0<=un?++We:--We)Xe[G]=-1;for(V=nt=1,zt=le;1<=zt?nt<=zt:nt>=zt;V=1<=zt?++nt:--nt)for(Ee=ne%(V+1),ne=ne/(V+1)|0;Ee>0;)Ge(ve,0,V),Ee--;if(ke=le,ue)for(V=bt=0,Rt=ge;0<=Rt?bt<=Rt:bt>=Rt;V=0<=Rt?++bt:--bt)he=r(ge-V,ke+1),xe-he>=0&&(Xe[V]=ve[le-ke],xe-=he,ke--);else for(V=K=Dt=ge;Dt<=0?K<=0:K>=0;V=Dt<=0?++K:--K)he=r(V,ke+1),xe-he>=0&&(Xe[V]=ve[ke],xe-=he,ke--);return this}else{for(Xe=this[De],G=ae=0,Je=le;0<=Je?ae<=Je:ae>=Je;G=0<=Je?++ae:--ae)ve[G]=-1;if(xe=ne=ke=0,ue)for(V=He=ht=ge;ht<=0?He<=0:He>=0;V=ht<=0?++He:--He)H<=(P=Xe[V])&&P<=ee&&(xe+=r(ge-V,ke+1),ve[le-ke]=Xe[V],ke++);else for(V=qe=0,X=ge;0<=X?qe<=X:qe>=X;V=0<=X?++qe:--qe)H<=(te=Xe[V])&&te<=ee&&(xe+=r(V,ke+1),ve[ke]=Xe[V],ke++);for(V=je=zo=le;zo<=0?je<=0:je>=0;V=zo<=0?++je:--je){for(Ee=0;ve[V]!==H+V;)Ne(ve,0,V),Ee++;ne=(V+1)*ne+Ee}return xe*fe+ne}}},m={twist:function(w){var H,ee,ue,G,ge,fe;if(w!=null){for(ge=0,H=ee=6;ee>=0;H=--ee)G=w%3,w=w/3|0,this.co[H]=G,ge+=G;return this.co[7]=(3-ge%3)%3,this}else{for(fe=0,H=ue=0;ue<=6;H=++ue)fe=3*fe+this.co[H];return fe}},flip:function(w){var H,ee,ue,G,ge,fe;if(w!=null){for(ge=0,H=ee=10;ee>=0;H=--ee)G=w%2,w=w/2|0,this.eo[H]=G,ge+=G;return this.eo[11]=(2-ge%2)%2,this}else{for(fe=0,H=ue=0;ue<=10;H=++ue)fe=2*fe+this.eo[H];return fe}},cornerParity:function(){var w,H,ee,ue,G,ge,fe,le,ve;for(ve=0,w=ee=G=f,ge=J+1;G<=ge?ee<=ge:ee>=ge;w=G<=ge?++ee:--ee)for(H=ue=fe=w-1,le=J;fe<=le?ue<=le:ue>=le;H=fe<=le?++ue:--ue)this.cp[H]>this.cp[w]&&ve++;return ve%2},edgeParity:function(){var w,H,ee,ue,G,ge,fe,le,ve;for(ve=0,w=ee=G=t,ge=W+1;G<=ge?ee<=ge:ee>=ge;w=G<=ge?++ee:--ee)for(H=ue=fe=w-1,le=W;fe<=le?ue<=le:ue>=le;H=fe<=le?++ue:--ue)this.ep[H]>this.ep[w]&&ve++;return ve%2},URFtoDLF:be("corners",J,d),URtoUL:be("edges",W,pe),UBtoDF:be("edges",F,l),URtoDF:be("edges",W,l),FRtoBR:be("edges",v,t,!0)};for(Pe in m)Ue=m[Pe],i.prototype[Pe]=Ue;D=function(w,H,ee){var ue,G,ge,fe,le,ve,De,z,xe,ne,he,V;for(ue=w==="corners"?"cornerMultiply":"edgeMultiply",G=new i,V=[],ge=De=0,he=ee-1;0<=he?De<=he:De>=he;ge=0<=he?++De:--De){for(G[H](ge),fe=[],le=xe=0;xe<=5;le=++xe){for(z=i.moves[le],ve=ne=0;ne<=2;ve=++ne)G[ue](z),fe.push(G[H]());G[ue](z)}V.push(fe)}return V},q=function(){var w,H;return w=new i,H=new i,function(ee,ue){var G,ge;for(w.URtoUL(ee),H.UBtoDF(ue),G=ge=0;ge<=7;G=++ge)if(w.ep[G]!==-1){if(H.ep[G]!==-1)return-1;H.ep[G]=w.ep[G]}return H.URtoDF()}}(),E=2187,b=2048,_=2,x=11880,S=495,M=24,I=20160,T=20160,A=1320,L=1320,i.moveTables={parity:[[1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]],twist:null,flip:null,FRtoBR:null,URFtoDLF:null,URtoDF:null,URtoUL:null,UBtoDF:null,mergeURtoDF:null},ce={twist:["corners",E],flip:["edges",b],FRtoBR:["edges",x],URFtoDLF:["corners",I],URtoDF:["edges",T],URtoUL:["edges",A],UBtoDF:["edges",L],mergeURtoDF:[]},i.computeMoveTables=function(...w){var H,ee,ue,G,ge,fe;for(w.length===0&&(w=function(){var le;le=[];for(ue in ce)le.push(ue);return le}()),ee=0,H=w.length;ee<H;ee++)fe=w[ee],this.moveTables[fe]===null&&(fe==="mergeURtoDF"?this.moveTables.mergeURtoDF=function(){var le,ve,De,z;for(z=[],ve=De=0;De<=335;ve=++De)z.push(function(){var xe,ne;for(ne=[],le=xe=0;xe<=335;le=++xe)ne.push(q(ve,le));return ne}());return z}():([G,ge]=ce[fe],this.moveTables[fe]=D(G,fe,ge)));return this},oe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],se=function(){var w,H,ee,ue,G,ge,fe,le;for(le=[],H=ee=0;ee<=5;H=++ee){for(ue=[],w=G=0;G<=5;w=++G)if(w!==H&&w!==H-3)for(fe=ge=0;ge<=2;fe=++ge)ue.push(w*3+fe);le.push(ue)}return le}(),re=[0,1,2,4,7,9,10,11,13,16],Se=function(){var w,H,ee,ue,G,ge,fe,le,ve,De;for(De=[],H=ue=0;ue<=5;H=++ue){for(G=[],w=ge=0;ge<=5;w=++ge)if(w!==H&&w!==H-3)for(ve=w===0||w===3?[0,1,2]:[1],fe=0,ee=ve.length;fe<ee;fe++)le=ve[fe],G.push(w*3+le);De.push(G)}return De}(),Ce=function(w,H,ee){var ue,G,ge;return ue=H%8,ge=H>>3,G=ue<<2,ee!=null?(w[ge]&=~(15<<G),w[ge]|=ee<<G,ee):(w[ge]&15<<G)>>>G},Te=function(w,H,ee,ue){var G,ge,fe,le,ve,De,z,xe,ne,he,V,Ee,Oe;for(Ee=function(){var We,nt,Xe;for(Xe=[],Oe=We=0,nt=Math.ceil(H/8)-1;0<=nt?We<=nt:We>=nt;Oe=0<=nt?++We:--We)Xe.push(4294967295);return Xe}(),w===1?xe=oe:xe=re,ge=0,Ce(Ee,0,ge),fe=1;fe!==H;){for(le=De=0,V=H-1;0<=V?De<=V:De>=V;le=0<=V?++De:--De)if(Ce(Ee,le)===ge)for(G=ee(le),he=0,ve=xe.length;he<ve;he++)z=xe[he],ne=ue(G,z),Ce(Ee,ne)===15&&(Ce(Ee,ne,ge+1),fe++);ge++}return Ee},i.pruningTables={sliceTwist:null,sliceFlip:null,sliceURFtoDLFParity:null,sliceURtoDFParity:null},Le={sliceTwist:[1,S*E,function(w){return[w%S,w/S|0]},function(w,H){var ee,ue,G,ge;return[G,ge]=w,ee=i.moveTables.FRtoBR[G*24][H]/24|0,ue=i.moveTables.twist[ge][H],ue*S+ee}],sliceFlip:[1,S*b,function(w){return[w%S,w/S|0]},function(w,H){var ee,ue,G,ge;return[ge,ee]=w,G=i.moveTables.FRtoBR[ge*24][H]/24|0,ue=i.moveTables.flip[ee][H],ue*S+G}],sliceURFtoDLFParity:[2,M*I*_,function(w){return[w%2,(w/2|0)%M,(w/2|0)/M|0]},function(w,H){var ee,ue,G,ge,fe,le;return[fe,le,ee]=w,ue=i.moveTables.parity[fe][H],G=i.moveTables.FRtoBR[le][H],ge=i.moveTables.URFtoDLF[ee][H],(ge*M+G)*2+ue}],sliceURtoDFParity:[2,M*T*_,function(w){return[w%2,(w/2|0)%M,(w/2|0)/M|0]},function(w,H){var ee,ue,G,ge,fe,le;return[fe,le,ee]=w,ue=i.moveTables.parity[fe][H],G=i.moveTables.FRtoBR[le][H],ge=i.moveTables.URtoDF[ee][H],(ge*M+G)*2+ue}]},i.computePruningTables=function(...w){var H,ee,ue,G,ge;for(w.length===0&&(w=function(){var fe;fe=[];for(ue in Le)fe.push(ue);return fe}()),ee=0,H=w.length;ee<H;ee++)ge=w[ee],this.pruningTables[ge]===null&&(G=Le[ge],this.pruningTables[ge]=Te(...G));return this},i.initSolver=function(){return i.computeMoveTables(),i.computePruningTables()},i.prototype.solveUpright=function(w=22){var H,ee,ue,G,ge,fe,le,ve,De,z;return ue=function(){var xe,ne,he,V,Ee,Oe,We;for(ne=["U","R","F","D","L","B"],Oe=["","2","'"],We=[],xe=he=0;he<=5;xe=++he)for(Ee=V=0;V<=2;Ee=++V)We.push(ne[xe]+Oe[Ee]);return We}(),H=class{constructor(ne){this.parent=null,this.lastMove=null,this.depth=0,ne&&this.init(ne)}init(ne){return this.flip=ne.flip(),this.twist=ne.twist(),this.slice=ne.FRtoBR()/M|0,this.parity=ne.cornerParity(),this.URFtoDLF=ne.URFtoDLF(),this.FRtoBR=ne.FRtoBR(),this.URtoUL=ne.URtoUL(),this.UBtoDF=ne.UBtoDF(),this}solution(){return this.parent?this.parent.solution()+ue[this.lastMove]+" ":""}move(ne,he,V){return i.moveTables[ne][he][V]}pruning(ne,he){return Ce(i.pruningTables[ne],he)}moves1(){return this.lastMove!==null?se[this.lastMove/3|0]:oe}minDist1(){var ne,he;return ne=this.pruning("sliceFlip",S*this.flip+this.slice),he=this.pruning("sliceTwist",S*this.twist+this.slice),_e(ne,he)}next1(ne){var he;return he=ee.pop(),he.parent=this,he.lastMove=ne,he.depth=this.depth+1,he.flip=this.move("flip",this.flip,ne),he.twist=this.move("twist",this.twist,ne),he.slice=this.move("FRtoBR",this.slice*24,ne)/24|0,he}moves2(){return this.lastMove!==null?Se[this.lastMove/3|0]:re}minDist2(){var ne,he,V,Ee;return V=(M*this.URtoDF+this.FRtoBR)*_+this.parity,ne=this.pruning("sliceURtoDFParity",V),Ee=(M*this.URFtoDLF+this.FRtoBR)*_+this.parity,he=this.pruning("sliceURFtoDLFParity",Ee),_e(ne,he)}init2(ne=!0){if(this.parent!==null&&(this.parent.init2(!1),this.URFtoDLF=this.move("URFtoDLF",this.parent.URFtoDLF,this.lastMove),this.FRtoBR=this.move("FRtoBR",this.parent.FRtoBR,this.lastMove),this.parity=this.move("parity",this.parent.parity,this.lastMove),this.URtoUL=this.move("URtoUL",this.parent.URtoUL,this.lastMove),this.UBtoDF=this.move("UBtoDF",this.parent.UBtoDF,this.lastMove),ne))return this.URtoDF=this.move("mergeURtoDF",this.URtoUL,this.UBtoDF)}next2(ne){var he;return he=ee.pop(),he.parent=this,he.lastMove=ne,he.depth=this.depth+1,he.URFtoDLF=this.move("URFtoDLF",this.URFtoDLF,ne),he.FRtoBR=this.move("FRtoBR",this.FRtoBR,ne),he.parity=this.move("parity",this.parity,ne),he.URtoDF=this.move("URtoDF",this.URtoDF,ne),he}},ve=null,ge=function(xe){var ne,he,V,Ee;for(ne=0,Ee=[],ne=he=1,V=w;(1<=V?he<=V:he>=V)&&(G(xe,ne),ve===null);ne=1<=V?++he:--he)Ee.push(ne++);return Ee},G=function(xe,ne){var he,V,Ee,Oe,We,nt,Xe;if(ne===0){if(xe.minDist1()===0&&(xe.lastMove===null||(We=xe.lastMove,C.call(re,We)<0)))return le(xe)}else if(ne>0&&xe.minDist1()<=ne){for(nt=xe.moves1(),Xe=[],V=0,he=nt.length;V<he&&(Ee=nt[V],Oe=xe.next1(Ee),G(Oe,ne-1),ee.push(Oe),ve===null);V++)Xe.push(void 0);return Xe}},le=function(xe){var ne,he,V,Ee;for(xe.init2(),Ee=[],ne=he=1,V=w-xe.depth;(1<=V?he<=V:he>=V)&&(fe(xe,ne),ve===null);ne=1<=V?++he:--he)Ee.push(ne++);return Ee},fe=function(xe,ne){var he,V,Ee,Oe,We,nt;if(ne===0){if(xe.minDist2()===0)return ve=xe.solution()}else if(ne>0&&xe.minDist2()<=ne){for(We=xe.moves2(),nt=[],V=0,he=We.length;V<he&&(Ee=We[V],Oe=xe.next2(Ee),fe(Oe,ne-1),ee.push(Oe),ve===null);V++)nt.push(void 0);return nt}},ee=function(){var xe,ne,he;for(he=[],z=xe=0,ne=w+1;0<=ne?xe<=ne:xe>=ne;z=0<=ne?++xe:--xe)he.push(new H);return he}(),De=ee.pop().init(this),ge(De),ee.push(De),ve.length>0&&(ve=ve.substring(0,ve.length-1)),ve},Me={U:0,R:1,F:2,D:3,L:4,B:5},de={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B"},i.prototype.solve=function(w=22){var H,ee,ue,G,ge,fe,le,ve,De;for(H=this.clone(),ve=H.upright(),H.move(ve),fe=new i().move(ve).center,De=H.solveUpright(w),le=[],ge=De.split(" "),ue=0,ee=ge.length;ue<ee;ue++)G=ge[ue],le.push(de[fe[Me[G[0]]]]),G.length>1&&(le[le.length-1]+=G[1]);return le.join(" ")},i.scramble=function(){return i.inverse(i.random().solve())}}).call(_8)});var S8=Re((mat,T8)=>{T8.exports=X2();w8()});var P8=Re(hT=>{"use strict";var Whe=et(),Ghe=rr();Object.defineProperty(hT,"__esModule",{value:!0});hT.default=void 0;var jhe=Ghe(we()),qhe=Whe(Ql()),$he=(0,qhe.default)(jhe.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow");hT.default=$he});var rY=Re(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});var AS="137",Rbe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Cbe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},H9=0,LD=1,W9=2,Abe=3,Lbe=0,DD=1,G9=2,ih=3,Yu=0,Zn=1,Ju=2,ND=1,Dbe=2,Da=0,oh=1,ID=2,OD=3,FD=4,j9=5,Zu=100,q9=101,$9=102,kD=103,BD=104,X9=200,Y9=201,J9=202,Z9=203,zD=204,UD=205,K9=206,Q9=207,e$=208,t$=209,n$=210,r$=0,i$=1,o$=2,LS=3,s$=4,a$=5,l$=6,c$=7,Dv=0,u$=1,d$=2,Na=0,p$=1,f$=2,h$=3,m$=4,g$=5,DS=300,Ku=301,Qu=302,Nv=303,Iv=304,sh=306,Ov=307,Fv=1e3,jr=1001,kv=1002,Kn=1003,NS=1004,Nbe=1004,IS=1005,Ibe=1005,In=1006,VD=1007,Obe=1007,ed=1008,Fbe=1008,Ia=1009,y$=1010,v$=1011,ah=1012,x$=1013,Bv=1014,Oa=1015,td=1016,b$=1017,_$=1018,nd=1020,w$=1021,qr=1023,T$=1024,S$=1025,wc=1026,rd=1027,M$=1028,E$=1029,P$=1030,R$=1031,C$=1033,OS=33776,FS=33777,kS=33778,BS=33779,HD=35840,WD=35841,GD=35842,jD=35843,A$=36196,qD=37492,$D=37496,XD=37808,YD=37809,JD=37810,ZD=37811,KD=37812,QD=37813,eN=37814,tN=37815,nN=37816,rN=37817,iN=37818,oN=37819,sN=37820,aN=37821,lN=36492,L$=2200,D$=2201,N$=2202,zv=2300,Uv=2301,zS=2302,id=2400,od=2401,Vv=2402,US=2500,cN=2501,I$=0,kbe=1,Bbe=2,Fa=3e3,mn=3001,O$=3200,F$=3201,sd=0,k$=1,zbe=0,VS=7680,Ube=7681,Vbe=7682,Hbe=7683,Wbe=34055,Gbe=34056,jbe=5386,qbe=512,$be=513,Xbe=514,Ybe=515,Jbe=516,Zbe=517,Kbe=518,B$=519,lh=35044,ch=35048,Qbe=35040,e_e=35045,t_e=35049,n_e=35041,r_e=35046,i_e=35050,o_e=35042,s_e="100",uN="300 es",HS=1035,ka=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let r=this._listeners[e.type];if(r!==void 0){e.target=this;let i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}},$r=[];for(let n=0;n<256;n++)$r[n]=(n<16?"0":"")+n.toString(16);var WS=1234567,ad=Math.PI/180,Hv=180/Math.PI;function uo(){let n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return($r[n&255]+$r[n>>8&255]+$r[n>>16&255]+$r[n>>24&255]+"-"+$r[e&255]+$r[e>>8&255]+"-"+$r[e>>16&15|64]+$r[e>>24&255]+"-"+$r[t&63|128]+$r[t>>8&255]+"-"+$r[t>>16&255]+$r[t>>24&255]+$r[r&255]+$r[r>>8&255]+$r[r>>16&255]+$r[r>>24&255]).toUpperCase()}function Xr(n,e,t){return Math.max(e,Math.min(t,n))}function dN(n,e){return(n%e+e)%e}function a_e(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function l_e(n,e,t){return n!==e?(t-n)/(e-n):0}function Wv(n,e,t){return(1-t)*n+t*e}function c_e(n,e,t,r){return Wv(n,e,1-Math.exp(-t*r))}function u_e(n,e=1){return e-Math.abs(dN(n,e*2)-e)}function d_e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function p_e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function f_e(n,e){return n+Math.floor(Math.random()*(e-n+1))}function h_e(n,e){return n+Math.random()*(e-n)}function m_e(n){return n*(.5-Math.random())}function g_e(n){return n!==void 0&&(WS=n%2147483647),WS=WS*16807%2147483647,(WS-1)/2147483646}function y_e(n){return n*ad}function v_e(n){return n*Hv}function pN(n){return(n&n-1)==0&&n!==0}function z$(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function U$(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function x_e(n,e,t,r,i){let o=Math.cos,s=Math.sin,a=o(t/2),l=s(t/2),c=o((e+r)/2),u=s((e+r)/2),d=o((e-r)/2),p=s((e-r)/2),f=o((r-e)/2),g=s((r-e)/2);switch(i){case"XYX":n.set(a*u,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*f,a*c);break;case"YXY":n.set(l*f,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*f,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var V$=Object.freeze({__proto__:null,DEG2RAD:ad,RAD2DEG:Hv,generateUUID:uo,clamp:Xr,euclideanModulo:dN,mapLinear:a_e,inverseLerp:l_e,lerp:Wv,damp:c_e,pingpong:u_e,smoothstep:d_e,smootherstep:p_e,randInt:f_e,randFloat:h_e,randFloatSpread:m_e,seededRandom:g_e,degToRad:y_e,radToDeg:v_e,isPowerOfTwo:pN,ceilPowerOfTwo:z$,floorPowerOfTwo:U$,setQuaternionFromProperEuler:x_e}),ze=class{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};ze.prototype.isVector2=!0;var cr=class{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,c){let u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],p=r[2],f=r[5],g=r[8],y=i[0],v=i[3],m=i[6],h=i[1],b=i[4],x=i[7],_=i[2],S=i[5],M=i[8];return o[0]=s*y+a*h+l*_,o[3]=s*v+a*b+l*S,o[6]=s*m+a*x+l*M,o[1]=c*y+u*h+d*_,o[4]=c*v+u*b+d*S,o[7]=c*m+u*x+d*M,o[2]=p*y+f*h+g*_,o[5]=p*v+f*b+g*S,o[8]=p*m+f*x+g*M,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,p=a*l-u*o,f=c*o-s*l,g=t*d+r*p+i*f;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);let y=1/g;return e[0]=d*y,e[1]=(i*c-u*r)*y,e[2]=(a*r-i*s)*y,e[3]=p*y,e[4]=(u*t-i*l)*y,e[5]=(i*o-a*t)*y,e[6]=f*y,e[7]=(r*l-c*t)*y,e[8]=(s*t-r*o)*y,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){let l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+t,0,0,1),this}scale(e,t){let r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*o+r*l,i[3]=t*s+r*c,i[6]=t*a+r*u,i[1]=-r*o+t*l,i[4]=-r*s+t*c,i[7]=-r*a+t*u,this}translate(e,t){let r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};cr.prototype.isMatrix3=!0;function H$(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}var b_e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function uh(n,e){return new b_e[n](e)}function Gv(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}var W$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},is={h:0,s:0,l:0},GS={h:0,s:0,l:0};function fN(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function dh(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function hN(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}var Ke=class{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=dN(e,1),t=Xr(t,0,1),r=Xr(r,0,1),t===0)this.r=this.g=this.b=r;else{let i=r<=.5?r*(1+t):r+t-r*t,o=2*r-i;this.r=fN(o,i,e+1/3),this.g=fN(o,i,e),this.b=fN(o,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i,o=r[1],s=r[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){let a=parseFloat(i[1])/360,l=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(a,l,c)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=r[1],o=i.length;if(o===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){let t=W$[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=dh(e.r),this.g=dh(e.g),this.b=dh(e.b),this}copyLinearToSRGB(e){return this.r=hN(e.r),this.g=hN(e.g),this.b=hN(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){let t=this.r,r=this.g,i=this.b,o=Math.max(t,r,i),s=Math.min(t,r,i),a,l,c=(s+o)/2;if(s===o)a=0,l=0;else{let u=o-s;switch(l=c<=.5?u/(o+s):u/(2-o-s),o){case t:a=(r-i)/u+(r<i?6:0);break;case r:a=(i-t)/u+2;break;case i:a=(t-r)/u+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,r){return this.getHSL(is),is.h+=e,is.s+=t,is.l+=r,this.setHSL(is.h,is.s,is.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(is),e.getHSL(GS);let r=Wv(is.h,GS.h,t),i=Wv(is.s,GS.s,t),o=Wv(is.l,GS.l,t);return this.setHSL(r,i,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}};Ke.NAMES=W$;Ke.prototype.isColor=!0;Ke.prototype.r=1;Ke.prototype.g=1;Ke.prototype.b=1;var ph,Ba=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ph===void 0&&(ph=Gv("canvas")),ph.width=e.width,ph.height=e.height;let r=ph.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=ph}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){let t=Gv("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=dh(o[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){let t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(dh(t[r]/255)*255):t[r]=dh(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},__e=0,Qn=class extends ka{constructor(e=Qn.DEFAULT_IMAGE,t=Qn.DEFAULT_MAPPING,r=jr,i=jr,o=In,s=ed,a=qr,l=Ia,c=1,u=Fa){super();Object.defineProperty(this,"id",{value:__e++}),this.uuid=uo(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){let i=this.image;if(i.uuid===void 0&&(i.uuid=uo()),!t&&e.images[i.uuid]===void 0){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(mN(i[s].image)):o.push(mN(i[s]))}else o=mN(i);e.images[i.uuid]={uuid:i.uuid,url:o}}r.image=i.uuid}return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==DS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Fv:e.x=e.x-Math.floor(e.x);break;case jr:e.x=e.x<0?0:1;break;case kv:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Fv:e.y=e.y-Math.floor(e.y);break;case jr:e.y=e.y<0?0:1;break;case kv:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}};Qn.DEFAULT_IMAGE=void 0;Qn.DEFAULT_MAPPING=DS;Qn.prototype.isTexture=!0;function mN(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?Ba.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var jt=class{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o,s=.01,a=.1,l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],f=l[5],g=l[9],y=l[2],v=l[6],m=l[10];if(Math.abs(u-p)<s&&Math.abs(d-y)<s&&Math.abs(g-v)<s){if(Math.abs(u+p)<a&&Math.abs(d+y)<a&&Math.abs(g+v)<a&&Math.abs(c+f+m-3)<a)return this.set(1,0,0,0),this;t=Math.PI;let b=(c+1)/2,x=(f+1)/2,_=(m+1)/2,S=(u+p)/4,M=(d+y)/4,E=(g+v)/4;return b>x&&b>_?b<s?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=S/r,o=M/r):x>_?x<s?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(x),r=S/i,o=E/i):_<s?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(_),r=M/o,i=E/o),this.set(r,i,o,t),this}let h=Math.sqrt((v-g)*(v-g)+(d-y)*(d-y)+(p-u)*(p-u));return Math.abs(h)<.001&&(h=1),this.x=(v-g)/h,this.y=(d-y)/h,this.z=(p-u)/h,this.w=Math.acos((c+f+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}};jt.prototype.isVector4=!0;var Ui=class extends ka{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new jt(0,0,e,t),this.scissorTest=!1,this.viewport=new jt(0,0,e,t),this.texture=new Qn(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:In,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}};Ui.prototype.isWebGLRenderTarget=!0;var gN=class extends Ui{constructor(e,t,r){super(e,t);let i=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=i.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}};gN.prototype.isWebGLMultipleRenderTargets=!0;var jv=class extends Ui{constructor(e,t,r={}){super(e,t,r);this.samples=4,this.ignoreDepthForMultisampleCopy=r.ignoreDepth!==void 0?r.ignoreDepth:!0,this.useRenderToTexture=r.useRenderToTexture!==void 0?r.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}};jv.prototype.isWebGLMultisampleRenderTarget=!0;var Dr=class{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3],p=o[s+0],f=o[s+1],g=o[s+2],y=o[s+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=f,e[t+2]=g,e[t+3]=y;return}if(d!==y||l!==p||c!==f||u!==g){let v=1-a,m=l*p+c*f+u*g+d*y,h=m>=0?1:-1,b=1-m*m;if(b>Number.EPSILON){let _=Math.sqrt(b),S=Math.atan2(_,m*h);v=Math.sin(v*S)/_,a=Math.sin(a*S)/_}let x=a*h;if(l=l*v+p*x,c=c*v+f*x,u=u*v+g*x,d=d*v+y*x,v===1-a){let _=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=_,c*=_,u*=_,d*=_}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,o,s){let a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],p=o[s+1],f=o[s+2],g=o[s+3];return e[t]=a*g+u*d+l*f-c*p,e[t+1]=l*g+u*p+c*d-a*f,e[t+2]=c*g+u*f+a*p-l*d,e[t+3]=u*g-a*d-l*p-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");let r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),p=l(r/2),f=l(i/2),g=l(o/2);switch(s){case"XYZ":this._x=p*u*d+c*f*g,this._y=c*f*d-p*u*g,this._z=c*u*g+p*f*d,this._w=c*u*d-p*f*g;break;case"YXZ":this._x=p*u*d+c*f*g,this._y=c*f*d-p*u*g,this._z=c*u*g-p*f*d,this._w=c*u*d+p*f*g;break;case"ZXY":this._x=p*u*d-c*f*g,this._y=c*f*d+p*u*g,this._z=c*u*g+p*f*d,this._w=c*u*d-p*f*g;break;case"ZYX":this._x=p*u*d-c*f*g,this._y=c*f*d+p*u*g,this._z=c*u*g-p*f*d,this._w=c*u*d+p*f*g;break;case"YZX":this._x=p*u*d+c*f*g,this._y=c*f*d+p*u*g,this._z=c*u*g-p*f*d,this._w=c*u*d-p*f*g;break;case"XZY":this._x=p*u*d-c*f*g,this._y=c*f*d-p*u*g,this._z=c*u*g+p*f*d,this._w=c*u*d+p*f*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],p=r+a+d;if(p>0){let f=.5/Math.sqrt(p+1);this._w=.25/f,this._x=(u-l)*f,this._y=(o-c)*f,this._z=(s-i)*f}else if(r>a&&r>d){let f=2*Math.sqrt(1+r-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(i+s)/f,this._z=(o+c)/f}else if(a>d){let f=2*Math.sqrt(1+a-r-d);this._w=(o-c)/f,this._x=(i+s)/f,this._y=.25*f,this._z=(l+u)/f}else{let f=2*Math.sqrt(1+d-r-a);this._w=(s-i)/f,this._x=(o+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xr(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(r===0)return this;let i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let r=this._x,i=this._y,o=this._z,s=this._w,a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;let l=1-a*a;if(l<=Number.EPSILON){let f=1-t;return this._w=f*s+t*this._w,this._x=f*r+t*this._x,this._y=f*i+t*this._y,this._z=f*o+t*this._z,this.normalize(),this._onChangeCallback(),this}let c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=s*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=o*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){let e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};Dr.prototype.isQuaternion=!0;var Q=class{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(G$.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(G$.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){let t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=l*t+s*i-a*r,u=l*r+a*t-o*i,d=l*i+o*r-s*t,p=-o*t-s*r-a*i;return this.x=c*l+p*-o+u*-a-d*-s,this.y=u*l+p*-s+d*-o-c*-a,this.z=d*l+p*-a+c*-s-u*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){let r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return yN.copy(this).projectOnVector(e),this.sub(yN)}reflect(e){return this.sub(yN.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let r=this.dot(e)/t;return Math.acos(Xr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){let i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};Q.prototype.isVector3=!0;var yN=new Q,G$=new Dr,Vi=class{constructor(e=new Q(Infinity,Infinity,Infinity),t=new Q(-Infinity,-Infinity,-Infinity)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=Infinity,r=Infinity,i=Infinity,o=-Infinity,s=-Infinity,a=-Infinity;for(let l=0,c=e.length;l<c;l+=3){let u=e[l],d=e[l+1],p=e[l+2];u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>o&&(o=u),d>s&&(s=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=Infinity,r=Infinity,i=Infinity,o=-Infinity,s=-Infinity,a=-Infinity;for(let l=0,c=e.count;l<c;l++){let u=e.getX(l),d=e.getY(l),p=e.getZ(l);u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>o&&(o=u),d>s&&(s=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=ld.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){let o=r.attributes.position;for(let s=0,a=o.count;s<a;s++)ld.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(ld)}else r.boundingBox===null&&r.computeBoundingBox(),vN.copy(r.boundingBox),vN.applyMatrix4(e.matrixWorld),this.union(vN);let i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ld),ld.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(qv),jS.subVectors(this.max,qv),fh.subVectors(e.a,qv),hh.subVectors(e.b,qv),mh.subVectors(e.c,qv),Tc.subVectors(hh,fh),Sc.subVectors(mh,hh),cd.subVectors(fh,mh);let t=[0,-Tc.z,Tc.y,0,-Sc.z,Sc.y,0,-cd.z,cd.y,Tc.z,0,-Tc.x,Sc.z,0,-Sc.x,cd.z,0,-cd.x,-Tc.y,Tc.x,0,-Sc.y,Sc.x,0,-cd.y,cd.x,0];return!xN(t,fh,hh,mh,jS)||(t=[1,0,0,0,1,0,0,0,1],!xN(t,fh,hh,mh,jS))?!1:(qS.crossVectors(Tc,Sc),t=[qS.x,qS.y,qS.z],xN(t,fh,hh,mh,jS))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ld.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(ld).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(za[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),za[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),za[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),za[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),za[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),za[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),za[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),za[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(za),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};Vi.prototype.isBox3=!0;var za=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],ld=new Q,vN=new Vi,fh=new Q,hh=new Q,mh=new Q,Tc=new Q,Sc=new Q,cd=new Q,qv=new Q,jS=new Q,qS=new Q,ud=new Q;function xN(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){ud.fromArray(n,o);let a=i.x*Math.abs(ud.x)+i.y*Math.abs(ud.y)+i.z*Math.abs(ud.z),l=e.dot(ud),c=t.dot(ud),u=r.dot(ud);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}var w_e=new Vi,j$=new Q,$S=new Q,bN=new Q,Ua=class{constructor(e=new Q,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let r=this.center;t!==void 0?r.copy(t):w_e.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){bN.subVectors(e,this.center);let t=bN.lengthSq();if(t>this.radius*this.radius){let r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(bN.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?$S.set(0,0,1).multiplyScalar(e.radius):$S.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(j$.copy(e.center).add($S)),this.expandByPoint(j$.copy(e.center).sub($S)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},Va=new Q,_N=new Q,XS=new Q,Mc=new Q,wN=new Q,YS=new Q,TN=new Q,Ha=class{constructor(e=new Q,t=new Q(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Va)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=Va.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Va.copy(this.direction).multiplyScalar(t).add(this.origin),Va.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){_N.copy(e).add(t).multiplyScalar(.5),XS.copy(t).sub(e).normalize(),Mc.copy(this.origin).sub(_N);let o=e.distanceTo(t)*.5,s=-this.direction.dot(XS),a=Mc.dot(this.direction),l=-Mc.dot(XS),c=Mc.lengthSq(),u=Math.abs(1-s*s),d,p,f,g;if(u>0)if(d=s*l-a,p=s*a-l,g=o*u,d>=0)if(p>=-g)if(p<=g){let y=1/u;d*=y,p*=y,f=d*(d+s*p+2*a)+p*(s*d+p+2*l)+c}else p=o,d=Math.max(0,-(s*p+a)),f=-d*d+p*(p+2*l)+c;else p=-o,d=Math.max(0,-(s*p+a)),f=-d*d+p*(p+2*l)+c;else p<=-g?(d=Math.max(0,-(-s*o+a)),p=d>0?-o:Math.min(Math.max(-o,-l),o),f=-d*d+p*(p+2*l)+c):p<=g?(d=0,p=Math.min(Math.max(-o,-l),o),f=p*(p+2*l)+c):(d=Math.max(0,-(s*o+a)),p=d>0?o:Math.min(Math.max(-o,-l),o),f=-d*d+p*(p+2*l)+c);else p=s>0?-o:o,d=Math.max(0,-(s*p+a)),f=-d*d+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(XS).multiplyScalar(p).add(_N),f}intersectSphere(e,t){Va.subVectors(e.center,this.origin);let r=Va.dot(this.direction),i=Va.dot(Va)-r*r,o=e.radius*e.radius;if(i>o)return null;let s=Math.sqrt(o-i),a=r-s,l=r+s;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,l,c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(o=(e.min.y-p.y)*u,s=(e.max.y-p.y)*u):(o=(e.max.y-p.y)*u,s=(e.min.y-p.y)*u),r>s||o>i||((o>r||r!==r)&&(r=o),(s<i||i!==i)&&(i=s),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Va)!==null}intersectTriangle(e,t,r,i,o){wN.subVectors(t,e),YS.subVectors(r,e),TN.crossVectors(wN,YS);let s=this.direction.dot(TN),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;Mc.subVectors(this.origin,e);let l=a*this.direction.dot(YS.crossVectors(Mc,YS));if(l<0)return null;let c=a*this.direction.dot(wN.cross(Mc));if(c<0||l+c>s)return null;let u=-a*Mc.dot(TN);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},ct=class{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,c,u,d,p,f,g,y,v){let m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=i,m[1]=o,m[5]=s,m[9]=a,m[13]=l,m[2]=c,m[6]=u,m[10]=d,m[14]=p,m[3]=f,m[7]=g,m[11]=y,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ct().fromArray(this.elements)}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){let t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,r=e.elements,i=1/gh.setFromMatrixColumn(e,0).length(),o=1/gh.setFromMatrixColumn(e,1).length(),s=1/gh.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){let p=s*u,f=s*d,g=a*u,y=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=f+g*c,t[5]=p-y*c,t[9]=-a*l,t[2]=y-p*c,t[6]=g+f*c,t[10]=s*l}else if(e.order==="YXZ"){let p=l*u,f=l*d,g=c*u,y=c*d;t[0]=p+y*a,t[4]=g*a-f,t[8]=s*c,t[1]=s*d,t[5]=s*u,t[9]=-a,t[2]=f*a-g,t[6]=y+p*a,t[10]=s*l}else if(e.order==="ZXY"){let p=l*u,f=l*d,g=c*u,y=c*d;t[0]=p-y*a,t[4]=-s*d,t[8]=g+f*a,t[1]=f+g*a,t[5]=s*u,t[9]=y-p*a,t[2]=-s*c,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){let p=s*u,f=s*d,g=a*u,y=a*d;t[0]=l*u,t[4]=g*c-f,t[8]=p*c+y,t[1]=l*d,t[5]=y*c+p,t[9]=f*c-g,t[2]=-c,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){let p=s*l,f=s*c,g=a*l,y=a*c;t[0]=l*u,t[4]=y-p*d,t[8]=g*d+f,t[1]=d,t[5]=s*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*d+g,t[10]=p-y*d}else if(e.order==="XZY"){let p=s*l,f=s*c,g=a*l,y=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=p*d+y,t[5]=s*u,t[9]=f*d-g,t[2]=g*d-f,t[6]=a*u,t[10]=y*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(T_e,e,S_e)}lookAt(e,t,r){let i=this.elements;return po.subVectors(e,t),po.lengthSq()===0&&(po.z=1),po.normalize(),Ec.crossVectors(r,po),Ec.lengthSq()===0&&(Math.abs(r.z)===1?po.x+=1e-4:po.z+=1e-4,po.normalize(),Ec.crossVectors(r,po)),Ec.normalize(),JS.crossVectors(po,Ec),i[0]=Ec.x,i[4]=JS.x,i[8]=po.x,i[1]=Ec.y,i[5]=JS.y,i[9]=po.y,i[2]=Ec.z,i[6]=JS.z,i[10]=po.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],p=r[9],f=r[13],g=r[2],y=r[6],v=r[10],m=r[14],h=r[3],b=r[7],x=r[11],_=r[15],S=i[0],M=i[4],E=i[8],L=i[12],I=i[1],T=i[5],A=i[9],k=i[13],U=i[2],F=i[6],N=i[10],j=i[14],Y=i[3],pe=i[7],$=i[11],W=i[15];return o[0]=s*S+a*I+l*U+c*Y,o[4]=s*M+a*T+l*F+c*pe,o[8]=s*E+a*A+l*N+c*$,o[12]=s*L+a*k+l*j+c*W,o[1]=u*S+d*I+p*U+f*Y,o[5]=u*M+d*T+p*F+f*pe,o[9]=u*E+d*A+p*N+f*$,o[13]=u*L+d*k+p*j+f*W,o[2]=g*S+y*I+v*U+m*Y,o[6]=g*M+y*T+v*F+m*pe,o[10]=g*E+y*A+v*N+m*$,o[14]=g*L+y*k+v*j+m*W,o[3]=h*S+b*I+x*U+_*Y,o[7]=h*M+b*T+x*F+_*pe,o[11]=h*E+b*A+x*N+_*$,o[15]=h*L+b*k+x*j+_*W,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],f=e[14],g=e[3],y=e[7],v=e[11],m=e[15];return g*(+o*l*d-i*c*d-o*a*p+r*c*p+i*a*f-r*l*f)+y*(+t*l*f-t*c*p+o*s*p-i*s*f+i*c*u-o*l*u)+v*(+t*c*d-t*a*f-o*s*d+r*s*f+o*a*u-r*c*u)+m*(-i*a*u-t*l*d+t*a*p+i*s*d-r*s*p+r*l*u)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],f=e[11],g=e[12],y=e[13],v=e[14],m=e[15],h=d*v*c-y*p*c+y*l*f-a*v*f-d*l*m+a*p*m,b=g*p*c-u*v*c-g*l*f+s*v*f+u*l*m-s*p*m,x=u*y*c-g*d*c+g*a*f-s*y*f-u*a*m+s*d*m,_=g*d*l-u*y*l-g*a*p+s*y*p+u*a*v-s*d*v,S=t*h+r*b+i*x+o*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let M=1/S;return e[0]=h*M,e[1]=(y*p*o-d*v*o-y*i*f+r*v*f+d*i*m-r*p*m)*M,e[2]=(a*v*o-y*l*o+y*i*c-r*v*c-a*i*m+r*l*m)*M,e[3]=(d*l*o-a*p*o-d*i*c+r*p*c+a*i*f-r*l*f)*M,e[4]=b*M,e[5]=(u*v*o-g*p*o+g*i*f-t*v*f-u*i*m+t*p*m)*M,e[6]=(g*l*o-s*v*o-g*i*c+t*v*c+s*i*m-t*l*m)*M,e[7]=(s*p*o-u*l*o+u*i*c-t*p*c-s*i*f+t*l*f)*M,e[8]=x*M,e[9]=(g*d*o-u*y*o-g*r*f+t*y*f+u*r*m-t*d*m)*M,e[10]=(s*y*o-g*a*o+g*r*c-t*y*c-s*r*m+t*a*m)*M,e[11]=(u*a*o-s*d*o-u*r*c+t*d*c+s*r*f-t*a*f)*M,e[12]=_*M,e[13]=(u*y*i-g*d*i+g*r*p-t*y*p-u*r*v+t*d*v)*M,e[14]=(g*a*i-s*y*i-g*r*l+t*y*l+s*r*v-t*a*v)*M,e[15]=(s*d*i-u*a*i+u*r*l-t*d*l-s*r*p+t*a*p)*M,this}scale(e){let t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){let i=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,c=o+o,u=s+s,d=a+a,p=o*c,f=o*u,g=o*d,y=s*u,v=s*d,m=a*d,h=l*c,b=l*u,x=l*d,_=r.x,S=r.y,M=r.z;return i[0]=(1-(y+m))*_,i[1]=(f+x)*_,i[2]=(g-b)*_,i[3]=0,i[4]=(f-x)*S,i[5]=(1-(p+m))*S,i[6]=(v+h)*S,i[7]=0,i[8]=(g+b)*M,i[9]=(v-h)*M,i[10]=(1-(p+y))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){let i=this.elements,o=gh.set(i[0],i[1],i[2]).length(),s=gh.set(i[4],i[5],i[6]).length(),a=gh.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],os.copy(this);let c=1/o,u=1/s,d=1/a;return os.elements[0]*=c,os.elements[1]*=c,os.elements[2]*=c,os.elements[4]*=u,os.elements[5]*=u,os.elements[6]*=u,os.elements[8]*=d,os.elements[9]*=d,os.elements[10]*=d,t.setFromRotationMatrix(os),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");let a=this.elements,l=2*o/(t-e),c=2*o/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),p=-(s+o)/(s-o),f=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){let a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(s-o),d=(t+e)*l,p=(r+i)*c,f=(s+o)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}};ct.prototype.isMatrix4=!0;var gh=new Q,os=new ct,T_e=new Q(0,0,0),S_e=new Q(1,1,1),Ec=new Q,JS=new Q,po=new Q,q$=new ct,$$=new Dr,Pc=class{constructor(e=0,t=0,r=0,i=Pc.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],p=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin(Xr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Xr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Xr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Xr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,f),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Xr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-Xr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return q$.makeRotationFromQuaternion(e),this.setFromRotationMatrix(q$,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return $$.setFromEuler(this),this.setFromQuaternion($$,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Q(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};Pc.prototype.isEuler=!0;Pc.DefaultOrder="XYZ";Pc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var $v=class{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}},M_e=0,X$=new Q,yh=new Dr,Wa=new ct,ZS=new Q,Xv=new Q,E_e=new Q,P_e=new Dr,Y$=new Q(1,0,0),J$=new Q(0,1,0),Z$=new Q(0,0,1),R_e={type:"added"},K$={type:"removed"},St=class extends ka{constructor(){super();Object.defineProperty(this,"id",{value:M_e++}),this.uuid=uo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=St.DefaultUp.clone();let e=new Q,t=new Pc,r=new Dr,i=new Q(1,1,1);function o(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ct},normalMatrix:{value:new cr}}),this.matrix=new ct,this.matrixWorld=new ct,this.matrixAutoUpdate=St.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new $v,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return yh.setFromAxisAngle(e,t),this.quaternion.multiply(yh),this}rotateOnWorldAxis(e,t){return yh.setFromAxisAngle(e,t),this.quaternion.premultiply(yh),this}rotateX(e){return this.rotateOnAxis(Y$,e)}rotateY(e){return this.rotateOnAxis(J$,e)}rotateZ(e){return this.rotateOnAxis(Z$,e)}translateOnAxis(e,t){return X$.copy(e).applyQuaternion(this.quaternion),this.position.add(X$.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Y$,e)}translateY(e){return this.translateOnAxis(J$,e)}translateZ(e){return this.translateOnAxis(Z$,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Wa.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?ZS.copy(e):ZS.set(e,t,r);let i=this.parent;this.updateWorldMatrix(!0,!1),Xv.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wa.lookAt(Xv,ZS,this.up):Wa.lookAt(ZS,Xv,this.up),this.quaternion.setFromRotationMatrix(Wa),i&&(Wa.extractRotation(i.matrixWorld),yh.setFromRotationMatrix(Wa),this.quaternion.premultiply(yh.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(R_e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(K$)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(K$)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Wa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Wa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Wa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){let s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xv,e,E_e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xv,P_e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){let r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){let t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);let a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){let l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){let d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){let l=this.animations[a];i.animations.push(o(e.animations,l))}}if(t){let a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),p=s(e.skeletons),f=s(e.animations);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),f.length>0&&(r.animations=f)}return r.object=i,r;function s(a){let l=[];for(let c in a){let u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){let i=e.children[r];this.add(i.clone())}return this}};St.DefaultUp=new Q(0,1,0);St.DefaultMatrixAutoUpdate=!0;St.prototype.isObject3D=!0;var ss=new Q,Ga=new Q,SN=new Q,ja=new Q,vh=new Q,xh=new Q,Q$=new Q,MN=new Q,EN=new Q,PN=new Q,Hn=class{constructor(e=new Q,t=new Q,r=new Q){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ss.subVectors(e,t),i.cross(ss);let o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){ss.subVectors(i,t),Ga.subVectors(r,t),SN.subVectors(e,t);let s=ss.dot(ss),a=ss.dot(Ga),l=ss.dot(SN),c=Ga.dot(Ga),u=Ga.dot(SN),d=s*c-a*a;if(d===0)return o.set(-2,-1,-1);let p=1/d,f=(c*l-a*u)*p,g=(s*u-a*l)*p;return o.set(1-f-g,g,f)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ja),ja.x>=0&&ja.y>=0&&ja.x+ja.y<=1}static getUV(e,t,r,i,o,s,a,l){return this.getBarycoord(e,t,r,i,ja),l.set(0,0),l.addScaledVector(o,ja.x),l.addScaledVector(s,ja.y),l.addScaledVector(a,ja.z),l}static isFrontFacing(e,t,r,i){return ss.subVectors(r,t),Ga.subVectors(e,t),ss.cross(Ga).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ss.subVectors(this.c,this.b),Ga.subVectors(this.a,this.b),ss.cross(Ga).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Hn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Hn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return Hn.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return Hn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Hn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let r=this.a,i=this.b,o=this.c,s,a;vh.subVectors(i,r),xh.subVectors(o,r),MN.subVectors(e,r);let l=vh.dot(MN),c=xh.dot(MN);if(l<=0&&c<=0)return t.copy(r);EN.subVectors(e,i);let u=vh.dot(EN),d=xh.dot(EN);if(u>=0&&d<=u)return t.copy(i);let p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(r).addScaledVector(vh,s);PN.subVectors(e,o);let f=vh.dot(PN),g=xh.dot(PN);if(g>=0&&f<=g)return t.copy(o);let y=f*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(xh,a);let v=u*g-f*d;if(v<=0&&d-u>=0&&f-g>=0)return Q$.subVectors(o,i),a=(d-u)/(d-u+(f-g)),t.copy(i).addScaledVector(Q$,a);let m=1/(v+y+p);return s=y*m,a=p*m,t.copy(r).addScaledVector(vh,s).addScaledVector(xh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},C_e=0,vr=class extends ka{constructor(){super();Object.defineProperty(this,"id",{value:C_e++}),this.uuid=uo(),this.name="",this.type="Material",this.fog=!0,this.blending=oh,this.side=Yu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=zD,this.blendDst=UD,this.blendEquation=Zu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LS,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=B$,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=VS,this.stencilZFail=VS,this.stencilZPass=VS,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.alphaWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===ND;continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==oh&&(r.blending=this.blending),this.side!==Yu&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.alphaWrite=this.alphaWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(o){let s=[];for(let a in o){let l=o[a];delete l.metadata,s.push(l)}return s}if(t){let o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(t!==null){let i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.alphaWrite=e.alphaWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};vr.prototype.isMaterial=!0;var Ws=class extends vr{constructor(e){super();this.type="MeshBasicMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Dv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};Ws.prototype.isMeshBasicMaterial=!0;var cn=new Q,KS=new ze,Lt=class{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=lh,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){let t=this.array,r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new Ke),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){let t=this.array,r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new ze),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){let t=this.array,r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Q),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){let t=this.array,r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new jt),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)KS.fromBufferAttribute(this,t),KS.applyMatrix3(e),this.setXY(t,KS.x,KS.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)cn.fromBufferAttribute(this,t),cn.applyMatrix3(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)cn.x=this.getX(t),cn.y=this.getY(t),cn.z=this.getZ(t),cn.applyMatrix4(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)cn.x=this.getX(t),cn.y=this.getY(t),cn.z=this.getZ(t),cn.applyNormalMatrix(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)cn.x=this.getX(t),cn.y=this.getY(t),cn.z=this.getZ(t),cn.transformDirection(e),this.setXYZ(t,cn.x,cn.y,cn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==lh&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}};Lt.prototype.isBufferAttribute=!0;var RN=class extends Lt{constructor(e,t,r){super(new Int8Array(e),t,r)}},CN=class extends Lt{constructor(e,t,r){super(new Uint8Array(e),t,r)}},AN=class extends Lt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}},LN=class extends Lt{constructor(e,t,r){super(new Int16Array(e),t,r)}},Yv=class extends Lt{constructor(e,t,r){super(new Uint16Array(e),t,r)}},DN=class extends Lt{constructor(e,t,r){super(new Int32Array(e),t,r)}},Jv=class extends Lt{constructor(e,t,r){super(new Uint32Array(e),t,r)}},NN=class extends Lt{constructor(e,t,r){super(new Uint16Array(e),t,r)}};NN.prototype.isFloat16BufferAttribute=!0;var at=class extends Lt{constructor(e,t,r){super(new Float32Array(e),t,r)}},IN=class extends Lt{constructor(e,t,r){super(new Float64Array(e),t,r)}},A_e=0,Oo=new ct,ON=new St,bh=new Q,fo=new Vi,Zv=new Vi,Nr=new Q,mt=class extends ka{constructor(){super();Object.defineProperty(this,"id",{value:A_e++}),this.uuid=uo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(H$(e)?Jv:Yv)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let o=new cr().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Oo.makeRotationFromQuaternion(e),this.applyMatrix4(Oo),this}rotateX(e){return Oo.makeRotationX(e),this.applyMatrix4(Oo),this}rotateY(e){return Oo.makeRotationY(e),this.applyMatrix4(Oo),this}rotateZ(e){return Oo.makeRotationZ(e),this.applyMatrix4(Oo),this}translate(e,t,r){return Oo.makeTranslation(e,t,r),this.applyMatrix4(Oo),this}scale(e,t,r){return Oo.makeScale(e,t,r),this.applyMatrix4(Oo),this}lookAt(e){return ON.lookAt(e),ON.updateMatrix(),this.applyMatrix4(ON.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bh).negate(),this.translate(bh.x,bh.y,bh.z),this}setFromPoints(e){let t=[];for(let r=0,i=e.length;r<i;r++){let o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new at(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Vi);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Q(-Infinity,-Infinity,-Infinity),new Q(Infinity,Infinity,Infinity));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){let o=t[r];fo.setFromBufferAttribute(o),this.morphTargetsRelative?(Nr.addVectors(this.boundingBox.min,fo.min),this.boundingBox.expandByPoint(Nr),Nr.addVectors(this.boundingBox.max,fo.max),this.boundingBox.expandByPoint(Nr)):(this.boundingBox.expandByPoint(fo.min),this.boundingBox.expandByPoint(fo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ua);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Q,Infinity);return}if(e){let r=this.boundingSphere.center;if(fo.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){let a=t[o];Zv.setFromBufferAttribute(a),this.morphTargetsRelative?(Nr.addVectors(fo.min,Zv.min),fo.expandByPoint(Nr),Nr.addVectors(fo.max,Zv.max),fo.expandByPoint(Nr)):(fo.expandByPoint(Zv.min),fo.expandByPoint(Zv.max))}fo.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Nr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Nr));if(t)for(let o=0,s=t.length;o<s;o++){let a=t[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Nr.fromBufferAttribute(a,c),l&&(bh.fromBufferAttribute(e,c),Nr.add(bh)),i=Math.max(i,r.distanceToSquared(Nr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new Lt(new Float32Array(4*a),4));let l=t.tangent.array,c=[],u=[];for(let I=0;I<a;I++)c[I]=new Q,u[I]=new Q;let d=new Q,p=new Q,f=new Q,g=new ze,y=new ze,v=new ze,m=new Q,h=new Q;function b(I,T,A){d.fromArray(i,I*3),p.fromArray(i,T*3),f.fromArray(i,A*3),g.fromArray(s,I*2),y.fromArray(s,T*2),v.fromArray(s,A*2),p.sub(d),f.sub(d),y.sub(g),v.sub(g);let k=1/(y.x*v.y-v.x*y.y);!isFinite(k)||(m.copy(p).multiplyScalar(v.y).addScaledVector(f,-y.y).multiplyScalar(k),h.copy(f).multiplyScalar(y.x).addScaledVector(p,-v.x).multiplyScalar(k),c[I].add(m),c[T].add(m),c[A].add(m),u[I].add(h),u[T].add(h),u[A].add(h))}let x=this.groups;x.length===0&&(x=[{start:0,count:r.length}]);for(let I=0,T=x.length;I<T;++I){let A=x[I],k=A.start,U=A.count;for(let F=k,N=k+U;F<N;F+=3)b(r[F+0],r[F+1],r[F+2])}let _=new Q,S=new Q,M=new Q,E=new Q;function L(I){M.fromArray(o,I*3),E.copy(M);let T=c[I];_.copy(T),_.sub(M.multiplyScalar(M.dot(T))).normalize(),S.crossVectors(E,T);let k=S.dot(u[I])<0?-1:1;l[I*4]=_.x,l[I*4+1]=_.y,l[I*4+2]=_.z,l[I*4+3]=k}for(let I=0,T=x.length;I<T;++I){let A=x[I],k=A.start,U=A.count;for(let F=k,N=k+U;F<N;F+=3)L(r[F+0]),L(r[F+1]),L(r[F+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Lt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,f=r.count;p<f;p++)r.setXYZ(p,0,0,0);let i=new Q,o=new Q,s=new Q,a=new Q,l=new Q,c=new Q,u=new Q,d=new Q;if(e)for(let p=0,f=e.count;p<f;p+=3){let g=e.getX(p+0),y=e.getX(p+1),v=e.getX(p+2);i.fromBufferAttribute(t,g),o.fromBufferAttribute(t,y),s.fromBufferAttribute(t,v),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,v),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,f=t.count;p<f;p+=3)i.fromBufferAttribute(t,p+0),o.fromBufferAttribute(t,p+1),s.fromBufferAttribute(t,p+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));let r=this.attributes;for(let i in r){if(e.attributes[i]===void 0)continue;let s=r[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*t,u=Math.min(l.length,s.length-c);for(let d=0,p=c;d<u;d++,p++)s[p]=l[d]}return this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Nr.fromBufferAttribute(e,t),Nr.normalize(),e.setXYZ(t,Nr.x,Nr.y,Nr.z)}toNonIndexed(){function e(a,l){let c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u),f=0,g=0;for(let y=0,v=l.length;y<v;y++){a.isInterleavedBufferAttribute?f=l[y]*a.data.stride+a.offset:f=l[y]*u;for(let m=0;m<u;m++)p[g++]=c[f++]}return new Lt(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new mt,r=this.index.array,i=this.attributes;for(let a in i){let l=i[a],c=e(l,r);t.setAttribute(a,c)}let o=this.morphAttributes;for(let a in o){let l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){let p=c[u],f=e(p,r);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let a=0,l=s.length;a<l;a++){let c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let l in r){let c=r[l];e.data.attributes[l]=c.toJSON(e.data)}let i={},o=!1;for(let l in this.morphAttributes){let c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){let f=c[d];u.push(f.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));let a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(t));let i=e.attributes;for(let c in i){let u=i[c];this.setAttribute(c,u.clone(t))}let o=e.morphAttributes;for(let c in o){let u=[],d=o[c];for(let p=0,f=d.length;p<f;p++)u.push(d[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;let s=e.groups;for(let c=0,u=s.length;c<u;c++){let d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}let a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());let l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};mt.prototype.isBufferGeometry=!0;var e7=new ct,_h=new Ha,FN=new Ua,Rc=new Q,Cc=new Q,Ac=new Q,kN=new Q,BN=new Q,zN=new Q,QS=new Q,eM=new Q,tM=new Q,nM=new ze,rM=new ze,iM=new ze,UN=new Q,oM=new Q,er=class extends St{constructor(e=new mt,t=new Ws){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){let r=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),FN.copy(r.boundingSphere),FN.applyMatrix4(o),e.ray.intersectsSphere(FN)===!1)||(e7.copy(o).invert(),_h.copy(e.ray).applyMatrix4(e7),r.boundingBox!==null&&_h.intersectsBox(r.boundingBox)===!1))return;let s;if(r.isBufferGeometry){let a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,d=r.attributes.uv,p=r.attributes.uv2,f=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let y=0,v=f.length;y<v;y++){let m=f[y],h=i[m.materialIndex],b=Math.max(m.start,g.start),x=Math.min(a.count,Math.min(m.start+m.count,g.start+g.count));for(let _=b,S=x;_<S;_+=3){let M=a.getX(_),E=a.getX(_+1),L=a.getX(_+2);s=sM(this,h,e,_h,l,c,u,d,p,M,E,L),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=m.materialIndex,t.push(s))}}else{let y=Math.max(0,g.start),v=Math.min(a.count,g.start+g.count);for(let m=y,h=v;m<h;m+=3){let b=a.getX(m),x=a.getX(m+1),_=a.getX(m+2);s=sM(this,i,e,_h,l,c,u,d,p,b,x,_),s&&(s.faceIndex=Math.floor(m/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(i))for(let y=0,v=f.length;y<v;y++){let m=f[y],h=i[m.materialIndex],b=Math.max(m.start,g.start),x=Math.min(l.count,Math.min(m.start+m.count,g.start+g.count));for(let _=b,S=x;_<S;_+=3){let M=_,E=_+1,L=_+2;s=sM(this,h,e,_h,l,c,u,d,p,M,E,L),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=m.materialIndex,t.push(s))}}else{let y=Math.max(0,g.start),v=Math.min(l.count,g.start+g.count);for(let m=y,h=v;m<h;m+=3){let b=m,x=m+1,_=m+2;s=sM(this,i,e,_h,l,c,u,d,p,b,x,_),s&&(s.faceIndex=Math.floor(m/3),t.push(s))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}};er.prototype.isMesh=!0;function L_e(n,e,t,r,i,o,s,a){let l;if(e.side===Zn?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side!==Ju,a),l===null)return null;oM.copy(a),oM.applyMatrix4(n.matrixWorld);let c=t.ray.origin.distanceTo(oM);return c<t.near||c>t.far?null:{distance:c,point:oM.clone(),object:n}}function sM(n,e,t,r,i,o,s,a,l,c,u,d){Rc.fromBufferAttribute(i,c),Cc.fromBufferAttribute(i,u),Ac.fromBufferAttribute(i,d);let p=n.morphTargetInfluences;if(o&&p){QS.set(0,0,0),eM.set(0,0,0),tM.set(0,0,0);for(let g=0,y=o.length;g<y;g++){let v=p[g],m=o[g];v!==0&&(kN.fromBufferAttribute(m,c),BN.fromBufferAttribute(m,u),zN.fromBufferAttribute(m,d),s?(QS.addScaledVector(kN,v),eM.addScaledVector(BN,v),tM.addScaledVector(zN,v)):(QS.addScaledVector(kN.sub(Rc),v),eM.addScaledVector(BN.sub(Cc),v),tM.addScaledVector(zN.sub(Ac),v)))}Rc.add(QS),Cc.add(eM),Ac.add(tM)}n.isSkinnedMesh&&(n.boneTransform(c,Rc),n.boneTransform(u,Cc),n.boneTransform(d,Ac));let f=L_e(n,e,t,r,Rc,Cc,Ac,UN);if(f){a&&(nM.fromBufferAttribute(a,c),rM.fromBufferAttribute(a,u),iM.fromBufferAttribute(a,d),f.uv=Hn.getUV(UN,Rc,Cc,Ac,nM,rM,iM,new ze)),l&&(nM.fromBufferAttribute(l,c),rM.fromBufferAttribute(l,u),iM.fromBufferAttribute(l,d),f.uv2=Hn.getUV(UN,Rc,Cc,Ac,nM,rM,iM,new ze));let g={a:c,b:u,c:d,normal:new Q,materialIndex:0};Hn.getNormal(Rc,Cc,Ac,g.normal),f.face=g}return f}var Gs=class extends mt{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};let a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);let l=[],c=[],u=[],d=[],p=0,f=0;g("z","y","x",-1,-1,r,t,e,s,o,0),g("z","y","x",1,-1,r,t,-e,s,o,1),g("x","z","y",1,1,e,r,t,i,s,2),g("x","z","y",1,-1,e,r,-t,i,s,3),g("x","y","z",1,-1,e,t,r,i,o,4),g("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new at(c,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(d,2));function g(y,v,m,h,b,x,_,S,M,E,L){let I=x/M,T=_/E,A=x/2,k=_/2,U=S/2,F=M+1,N=E+1,j=0,Y=0,pe=new Q;for(let $=0;$<N;$++){let W=$*T-k;for(let J=0;J<F;J++){let oe=J*I-A;pe[y]=oe*h,pe[v]=W*b,pe[m]=U,c.push(pe.x,pe.y,pe.z),pe[y]=0,pe[v]=0,pe[m]=S>0?1:-1,u.push(pe.x,pe.y,pe.z),d.push(J/M),d.push(1-$/E),j+=1}}for(let $=0;$<E;$++)for(let W=0;W<M;W++){let J=p+W+F*$,oe=p+W+F*($+1),re=p+(W+1)+F*($+1),D=p+(W+1)+F*$;l.push(J,oe,D),l.push(oe,re,D),Y+=6}a.addGroup(f,Y,L),f+=Y,p+=j}}static fromJSON(e){return new Gs(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function wh(n){let e={};for(let t in n){e[t]={};for(let r in n[t]){let i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function mi(n){let e={};for(let t=0;t<n.length;t++){let r=wh(n[t]);for(let i in r)e[i]=r[i]}return e}var t7={clone:wh,merge:mi},D_e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,N_e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,js=class extends vr{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=D_e,this.fragmentShader=N_e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wh(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let r={};for(let i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}};js.prototype.isShaderMaterial=!0;var Th=class extends St{constructor(){super();this.type="Camera",this.matrixWorldInverse=new ct,this.projectionMatrix=new ct,this.projectionMatrixInverse=new ct}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};Th.prototype.isCamera=!0;var xr=class extends Th{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=Hv*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(ad*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Hv*2*Math.atan(Math.tan(ad*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(ad*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i,s=this.view;if(this.view!==null&&this.view.enabled){let l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}let a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};xr.prototype.isPerspectiveCamera=!0;var Sh=90,Mh=1,Kv=class extends St{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;let i=new xr(Sh,Mh,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Q(1,0,0)),this.add(i);let o=new xr(Sh,Mh,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Q(-1,0,0)),this.add(o);let s=new xr(Sh,Mh,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Q(0,1,0)),this.add(s);let a=new xr(Sh,Mh,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Q(0,-1,0)),this.add(a);let l=new xr(Sh,Mh,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Q(0,0,1)),this.add(l);let c=new xr(Sh,Mh,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Q(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();let r=this.renderTarget,[i,o,s,a,l,c]=this.children,u=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;let p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(d),e.xr.enabled=u,r.texture.needsPMREMUpdate=!0}},dd=class extends Qn{constructor(e,t,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Ku,super(e,t,r,i,o,s,a,l,c,u),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};dd.prototype.isCubeTexture=!0;var Qv=class extends Ui{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),super(e,e,t),t=t||{},this.texture=new dd(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:In}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=qr,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Gs(5,5,5),o=new js({name:"CubemapFromEquirect",uniforms:wh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Zn,blending:Da});o.uniforms.tEquirect.value=t;let s=new er(i,o),a=t.minFilter;return t.minFilter===ed&&(t.minFilter=In),new Kv(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){let o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}};Qv.prototype.isWebGLCubeRenderTarget=!0;var VN=new Q,I_e=new Q,O_e=new cr,as=class{constructor(e=new Q(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){let i=VN.subVectors(r,t).cross(I_e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let r=e.delta(VN),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let r=t||O_e.getNormalMatrix(e),i=this.coplanarPoint(VN).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};as.prototype.isPlane=!0;var Eh=new Ua,aM=new Q,Ph=class{constructor(e=new as,t=new as,r=new as,i=new as,o=new as,s=new as){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){let a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){let t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],p=r[8],f=r[9],g=r[10],y=r[11],v=r[12],m=r[13],h=r[14],b=r[15];return t[0].setComponents(a-i,d-l,y-p,b-v).normalize(),t[1].setComponents(a+i,d+l,y+p,b+v).normalize(),t[2].setComponents(a+o,d+c,y+f,b+m).normalize(),t[3].setComponents(a-o,d-c,y-f,b-m).normalize(),t[4].setComponents(a-s,d-u,y-g,b-h).normalize(),t[5].setComponents(a+s,d+u,y+g,b+h).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Eh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Eh)}intersectsSprite(e){return Eh.center.set(0,0,0),Eh.radius=.7071067811865476,Eh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Eh)}intersectsSphere(e){let t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let i=t[r];if(aM.x=i.normal.x>0?e.max.x:e.min.x,aM.y=i.normal.y>0?e.max.y:e.min.y,aM.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(aM)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function n7(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function F_e(n,e){let t=e.isWebGL2,r=new WeakMap;function i(c,u){let d=c.array,p=c.usage,f=n.createBuffer();n.bindBuffer(u,f),n.bufferData(u,d,p),c.onUploadCallback();let g=n.FLOAT;return d instanceof Float32Array?g=n.FLOAT:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?c.isFloat16BufferAttribute?t?g=n.HALF_FLOAT:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):g=n.UNSIGNED_SHORT:d instanceof Int16Array?g=n.SHORT:d instanceof Uint32Array?g=n.UNSIGNED_INT:d instanceof Int32Array?g=n.INT:d instanceof Int8Array?g=n.BYTE:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(g=n.UNSIGNED_BYTE),{buffer:f,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function o(c,u,d){let p=u.array,f=u.updateRange;n.bindBuffer(d,c),f.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,f.offset*p.BYTES_PER_ELEMENT,p,f.offset,f.count):n.bufferSubData(d,f.offset*p.BYTES_PER_ELEMENT,p.subarray(f.offset,f.offset+f.count)),f.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);let u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){let p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);let d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(o(d.buffer,c,u),d.version=c.version)}return{get:s,remove:a,update:l}}var Lc=class extends mt{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};let o=e/2,s=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,p=t/l,f=[],g=[],y=[],v=[];for(let m=0;m<u;m++){let h=m*p-s;for(let b=0;b<c;b++){let x=b*d-o;g.push(x,-h,0),y.push(0,0,1),v.push(b/a),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let h=0;h<a;h++){let b=h+c*m,x=h+c*(m+1),_=h+1+c*(m+1),S=h+1+c*m;f.push(b,x,S),f.push(x,_,S)}this.setIndex(f),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(y,3)),this.setAttribute("uv",new at(v,2))}static fromJSON(e){return new Lc(e.width,e.height,e.widthSegments,e.heightSegments)}},k_e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,B_e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,z_e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,U_e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,V_e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,H_e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,W_e="vec3 transformed = vec3( position );",G_e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,j_e=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,q_e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,$_e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,X_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Y_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,J_e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Z_e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,K_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Q_e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,ewe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,twe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,nwe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		return texture2D( envMap, uv ).rgb;
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,rwe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,iwe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,owe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,swe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,awe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,lwe="gl_FragColor = linearToOutputTexel( gl_FragColor );",cwe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,uwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,dwe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,pwe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,fwe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,hwe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,mwe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,gwe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ywe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,vwe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,xwe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,bwe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,_we=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,wwe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Twe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Swe=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Mwe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Ewe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Pwe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Rwe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Cwe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Awe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(		0, 1,		0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Lwe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Dwe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Nwe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Iwe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Owe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Fwe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,kwe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Bwe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,zwe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Uwe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Vwe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Hwe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Wwe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Gwe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,jwe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,qwe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,$we=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Xwe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ywe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Jwe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Zwe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Kwe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Qwe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,eTe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,tTe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,nTe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,rTe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,iTe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,oTe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,sTe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,aTe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lTe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cTe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,uTe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
							texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
							f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
							texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
							f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,dTe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,pTe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,fTe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,hTe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mTe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,gTe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,yTe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,vTe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,xTe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,bTe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,_Te=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(	1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,	1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,	1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,wTe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,TTe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,STe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,MTe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,ETe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,PTe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,RTe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,CTe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,ATe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,LTe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,DTe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,NTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ITe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,OTe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,FTe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,kTe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,BTe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,zTe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,UTe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,VTe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,HTe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,WTe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,GTe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jTe=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qTe=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,$Te=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,XTe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YTe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,JTe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,ZTe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,KTe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QTe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,eSe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tSe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nSe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rSe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,iSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oSe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sSe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,aSe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Mt={alphamap_fragment:k_e,alphamap_pars_fragment:B_e,alphatest_fragment:z_e,alphatest_pars_fragment:U_e,aomap_fragment:V_e,aomap_pars_fragment:H_e,begin_vertex:W_e,beginnormal_vertex:G_e,bsdfs:j_e,bumpmap_pars_fragment:q_e,clipping_planes_fragment:$_e,clipping_planes_pars_fragment:X_e,clipping_planes_pars_vertex:Y_e,clipping_planes_vertex:J_e,color_fragment:Z_e,color_pars_fragment:K_e,color_pars_vertex:Q_e,color_vertex:ewe,common:twe,cube_uv_reflection_fragment:nwe,defaultnormal_vertex:rwe,displacementmap_pars_vertex:iwe,displacementmap_vertex:owe,emissivemap_fragment:swe,emissivemap_pars_fragment:awe,encodings_fragment:lwe,encodings_pars_fragment:cwe,envmap_fragment:uwe,envmap_common_pars_fragment:dwe,envmap_pars_fragment:pwe,envmap_pars_vertex:fwe,envmap_physical_pars_fragment:Swe,envmap_vertex:hwe,fog_vertex:mwe,fog_pars_vertex:gwe,fog_fragment:ywe,fog_pars_fragment:vwe,gradientmap_pars_fragment:xwe,lightmap_fragment:bwe,lightmap_pars_fragment:_we,lights_lambert_vertex:wwe,lights_pars_begin:Twe,lights_toon_fragment:Mwe,lights_toon_pars_fragment:Ewe,lights_phong_fragment:Pwe,lights_phong_pars_fragment:Rwe,lights_physical_fragment:Cwe,lights_physical_pars_fragment:Awe,lights_fragment_begin:Lwe,lights_fragment_maps:Dwe,lights_fragment_end:Nwe,logdepthbuf_fragment:Iwe,logdepthbuf_pars_fragment:Owe,logdepthbuf_pars_vertex:Fwe,logdepthbuf_vertex:kwe,map_fragment:Bwe,map_pars_fragment:zwe,map_particle_fragment:Uwe,map_particle_pars_fragment:Vwe,metalnessmap_fragment:Hwe,metalnessmap_pars_fragment:Wwe,morphnormal_vertex:Gwe,morphtarget_pars_vertex:jwe,morphtarget_vertex:qwe,normal_fragment_begin:$we,normal_fragment_maps:Xwe,normal_pars_fragment:Ywe,normal_pars_vertex:Jwe,normal_vertex:Zwe,normalmap_pars_fragment:Kwe,clearcoat_normal_fragment_begin:Qwe,clearcoat_normal_fragment_maps:eTe,clearcoat_pars_fragment:tTe,output_fragment:nTe,packing:rTe,premultiplied_alpha_fragment:iTe,project_vertex:oTe,dithering_fragment:sTe,dithering_pars_fragment:aTe,roughnessmap_fragment:lTe,roughnessmap_pars_fragment:cTe,shadowmap_pars_fragment:uTe,shadowmap_pars_vertex:dTe,shadowmap_vertex:pTe,shadowmask_pars_fragment:fTe,skinbase_vertex:hTe,skinning_pars_vertex:mTe,skinning_vertex:gTe,skinnormal_vertex:yTe,specularmap_fragment:vTe,specularmap_pars_fragment:xTe,tonemapping_fragment:bTe,tonemapping_pars_fragment:_Te,transmission_fragment:wTe,transmission_pars_fragment:TTe,uv_pars_fragment:STe,uv_pars_vertex:MTe,uv_vertex:ETe,uv2_pars_fragment:PTe,uv2_pars_vertex:RTe,uv2_vertex:CTe,worldpos_vertex:ATe,background_vert:LTe,background_frag:DTe,cube_vert:NTe,cube_frag:ITe,depth_vert:OTe,depth_frag:FTe,distanceRGBA_vert:kTe,distanceRGBA_frag:BTe,equirect_vert:zTe,equirect_frag:UTe,linedashed_vert:VTe,linedashed_frag:HTe,meshbasic_vert:WTe,meshbasic_frag:GTe,meshlambert_vert:jTe,meshlambert_frag:qTe,meshmatcap_vert:$Te,meshmatcap_frag:XTe,meshnormal_vert:YTe,meshnormal_frag:JTe,meshphong_vert:ZTe,meshphong_frag:KTe,meshphysical_vert:QTe,meshphysical_frag:eSe,meshtoon_vert:tSe,meshtoon_frag:nSe,points_vert:rSe,points_frag:iSe,shadow_vert:oSe,shadow_frag:sSe,sprite_vert:aSe,sprite_frag:lSe},Ye={common:{diffuse:{value:new Ke(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new cr},uv2Transform:{value:new cr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new cr}},sprite:{diffuse:{value:new Ke(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new cr}}},ls={basic:{uniforms:mi([Ye.common,Ye.specularmap,Ye.envmap,Ye.aomap,Ye.lightmap,Ye.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:mi([Ye.common,Ye.specularmap,Ye.envmap,Ye.aomap,Ye.lightmap,Ye.emissivemap,Ye.fog,Ye.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:mi([Ye.common,Ye.specularmap,Ye.envmap,Ye.aomap,Ye.lightmap,Ye.emissivemap,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.fog,Ye.lights,{emissive:{value:new Ke(0)},specular:{value:new Ke(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:mi([Ye.common,Ye.envmap,Ye.aomap,Ye.lightmap,Ye.emissivemap,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.roughnessmap,Ye.metalnessmap,Ye.fog,Ye.lights,{emissive:{value:new Ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:mi([Ye.common,Ye.aomap,Ye.lightmap,Ye.emissivemap,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.gradientmap,Ye.fog,Ye.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:mi([Ye.common,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,Ye.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:mi([Ye.points,Ye.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:mi([Ye.common,Ye.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:mi([Ye.common,Ye.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:mi([Ye.common,Ye.bumpmap,Ye.normalmap,Ye.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:mi([Ye.sprite,Ye.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new cr},t2D:{value:null}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},cube:{uniforms:mi([Ye.envmap,{opacity:{value:1}}]),vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:mi([Ye.common,Ye.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:mi([Ye.lights,Ye.fog,{color:{value:new Ke(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};ls.physical={uniforms:mi([ls.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ze(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Ke(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ke(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ke(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};function cSe(n,e,t,r,i,o){let s=new Ke(0),a=i===!0?0:1,l,c,u=null,d=0,p=null;function f(y,v){let m=!1,h=v.isScene===!0?v.background:null;h&&h.isTexture&&(h=e.get(h));let b=n.xr,x=b.getSession&&b.getSession();x&&x.environmentBlendMode==="additive"&&(h=null),h===null?g(s,a):h&&h.isColor&&(g(h,1),m=!0),(n.autoClear||m)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),h&&(h.isCubeTexture||h.mapping===sh)?(c===void 0&&(c=new er(new Gs(1,1,1),new js({name:"BackgroundCubeMaterial",uniforms:wh(ls.cube.uniforms),vertexShader:ls.cube.vertexShader,fragmentShader:ls.cube.fragmentShader,side:Zn,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(_,S,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=h,c.material.uniforms.flipEnvMap.value=h.isCubeTexture&&h.isRenderTargetTexture===!1?-1:1,(u!==h||d!==h.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,u=h,d=h.version,p=n.toneMapping),y.unshift(c,c.geometry,c.material,0,0,null)):h&&h.isTexture&&(l===void 0&&(l=new er(new Lc(2,2),new js({name:"BackgroundMaterial",uniforms:wh(ls.background.uniforms),vertexShader:ls.background.vertexShader,fragmentShader:ls.background.fragmentShader,side:Yu,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=h,h.matrixAutoUpdate===!0&&h.updateMatrix(),l.material.uniforms.uvTransform.value.copy(h.matrix),(u!==h||d!==h.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,u=h,d=h.version,p=n.toneMapping),y.unshift(l,l.geometry,l.material,0,0,null))}function g(y,v){t.buffers.color.setClear(y.r,y.g,y.b,v,o)}return{getClearColor:function(){return s},setClearColor:function(y,v=1){s.set(y),a=v,g(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(y){a=y,g(s,a)},render:f}}function uSe(n,e,t,r){let i=n.getParameter(n.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,a={},l=y(null),c=l;function u(k,U,F,N,j){let Y=!1;if(s){let pe=g(N,F,U);c!==pe&&(c=pe,p(c.object)),Y=v(N,j),Y&&m(N,j)}else{let pe=U.wireframe===!0;(c.geometry!==N.id||c.program!==F.id||c.wireframe!==pe)&&(c.geometry=N.id,c.program=F.id,c.wireframe=pe,Y=!0)}k.isInstancedMesh===!0&&(Y=!0),j!==null&&t.update(j,n.ELEMENT_ARRAY_BUFFER),Y&&(M(k,U,F,N),j!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(j).buffer))}function d(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}function p(k){return r.isWebGL2?n.bindVertexArray(k):o.bindVertexArrayOES(k)}function f(k){return r.isWebGL2?n.deleteVertexArray(k):o.deleteVertexArrayOES(k)}function g(k,U,F){let N=F.wireframe===!0,j=a[k.id];j===void 0&&(j={},a[k.id]=j);let Y=j[U.id];Y===void 0&&(Y={},j[U.id]=Y);let pe=Y[N];return pe===void 0&&(pe=y(d()),Y[N]=pe),pe}function y(k){let U=[],F=[],N=[];for(let j=0;j<i;j++)U[j]=0,F[j]=0,N[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:F,attributeDivisors:N,object:k,attributes:{},index:null}}function v(k,U){let F=c.attributes,N=k.attributes,j=0;for(let Y in N){let pe=F[Y],$=N[Y];if(pe===void 0||pe.attribute!==$||pe.data!==$.data)return!0;j++}return c.attributesNum!==j||c.index!==U}function m(k,U){let F={},N=k.attributes,j=0;for(let Y in N){let pe=N[Y],$={};$.attribute=pe,pe.data&&($.data=pe.data),F[Y]=$,j++}c.attributes=F,c.attributesNum=j,c.index=U}function h(){let k=c.newAttributes;for(let U=0,F=k.length;U<F;U++)k[U]=0}function b(k){x(k,0)}function x(k,U){let F=c.newAttributes,N=c.enabledAttributes,j=c.attributeDivisors;F[k]=1,N[k]===0&&(n.enableVertexAttribArray(k),N[k]=1),j[k]!==U&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,U),j[k]=U)}function _(){let k=c.newAttributes,U=c.enabledAttributes;for(let F=0,N=U.length;F<N;F++)U[F]!==k[F]&&(n.disableVertexAttribArray(F),U[F]=0)}function S(k,U,F,N,j,Y){r.isWebGL2===!0&&(F===n.INT||F===n.UNSIGNED_INT)?n.vertexAttribIPointer(k,U,F,j,Y):n.vertexAttribPointer(k,U,F,N,j,Y)}function M(k,U,F,N){if(r.isWebGL2===!1&&(k.isInstancedMesh||N.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;h();let j=N.attributes,Y=F.getAttributes(),pe=U.defaultAttributeValues;for(let $ in Y){let W=Y[$];if(W.location>=0){let J=j[$];if(J===void 0&&($==="instanceMatrix"&&k.instanceMatrix&&(J=k.instanceMatrix),$==="instanceColor"&&k.instanceColor&&(J=k.instanceColor)),J!==void 0){let oe=J.normalized,re=J.itemSize,D=t.get(J);if(D===void 0)continue;let Te=D.buffer,de=D.type,Me=D.bytesPerElement;if(J.isInterleavedBufferAttribute){let me=J.data,Pe=me.stride,_e=J.offset;if(me&&me.isInstancedInterleavedBuffer){for(let q=0;q<W.locationSize;q++)x(W.location+q,me.meshPerAttribute);k.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let q=0;q<W.locationSize;q++)b(W.location+q);n.bindBuffer(n.ARRAY_BUFFER,Te);for(let q=0;q<W.locationSize;q++)S(W.location+q,re/W.locationSize,de,oe,Pe*Me,(_e+re/W.locationSize*q)*Me)}else{if(J.isInstancedBufferAttribute){for(let me=0;me<W.locationSize;me++)x(W.location+me,J.meshPerAttribute);k.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let me=0;me<W.locationSize;me++)b(W.location+me);n.bindBuffer(n.ARRAY_BUFFER,Te);for(let me=0;me<W.locationSize;me++)S(W.location+me,re/W.locationSize,de,oe,re*Me,re/W.locationSize*me*Me)}}else if(pe!==void 0){let oe=pe[$];if(oe!==void 0)switch(oe.length){case 2:n.vertexAttrib2fv(W.location,oe);break;case 3:n.vertexAttrib3fv(W.location,oe);break;case 4:n.vertexAttrib4fv(W.location,oe);break;default:n.vertexAttrib1fv(W.location,oe)}}}}_()}function E(){T();for(let k in a){let U=a[k];for(let F in U){let N=U[F];for(let j in N)f(N[j].object),delete N[j];delete U[F]}delete a[k]}}function L(k){if(a[k.id]===void 0)return;let U=a[k.id];for(let F in U){let N=U[F];for(let j in N)f(N[j].object),delete N[j];delete U[F]}delete a[k.id]}function I(k){for(let U in a){let F=a[U];if(F[k.id]===void 0)continue;let N=F[k.id];for(let j in N)f(N[j].object),delete N[j];delete F[k.id]}}function T(){A(),c!==l&&(c=l,p(c.object))}function A(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:T,resetDefaultState:A,dispose:E,releaseStatesOfGeometry:L,releaseStatesOfProgram:I,initAttributes:h,enableAttribute:b,disableUnusedAttributes:_}}function dSe(n,e,t,r){let i=r.isWebGL2,o;function s(c){o=c}function a(c,u){n.drawArrays(o,c,u),t.update(u,o,1)}function l(c,u,d){if(d===0)return;let p,f;if(i)p=n,f="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[f](o,c,u,d),t.update(u,o,d)}this.setMode=s,this.render=a,this.renderInstances=l}function pSe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){let M=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(M){if(M==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext,a=t.precision!==void 0?t.precision:"highp",l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);let c=s||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),v=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),m=n.getParameter(n.MAX_VARYING_VECTORS),h=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=p>0,x=s||e.has("OES_texture_float"),_=b&&x,S=s?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:f,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:h,vertexTextures:b,floatFragmentTextures:x,floatVertexTextures:_,maxSamples:S}}function fSe(n){let e=this,t=null,r=0,i=!1,o=!1,s=new as,a=new cr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p,f){let g=d.length!==0||p||r!==0||i;return i=p,t=u(d,f,0),r=d.length,g},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,c()},this.setState=function(d,p,f){let g=d.clippingPlanes,y=d.clipIntersection,v=d.clipShadows,m=n.get(d);if(!i||g===null||g.length===0||o&&!v)o?u(null):c();else{let h=o?0:r,b=h*4,x=m.clippingState||null;l.value=x,x=u(g,p,b,f);for(let _=0;_!==b;++_)x[_]=t[_];m.clippingState=x,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=h}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,p,f,g){let y=d!==null?d.length:0,v=null;if(y!==0){if(v=l.value,g!==!0||v===null){let m=f+y*4,h=p.matrixWorldInverse;a.getNormalMatrix(h),(v===null||v.length<m)&&(v=new Float32Array(m));for(let b=0,x=f;b!==y;++b,x+=4)s.copy(d[b]).applyMatrix4(h,a),s.normal.toArray(v,x),v[x+3]=s.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}}function hSe(n){let e=new WeakMap;function t(s,a){return a===Nv?s.mapping=Ku:a===Iv&&(s.mapping=Qu),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){let a=s.mapping;if(a===Nv||a===Iv)if(e.has(s)){let l=e.get(s).texture;return t(l,s.mapping)}else{let l=s.image;if(l&&l.height>0){let c=new Qv(l.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){let a=s.target;a.removeEventListener("dispose",i);let l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}var Rh=class extends Th{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,o=r-e,s=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){let c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};Rh.prototype.isOrthographicCamera=!0;var pd=class extends js{constructor(e){super(e);this.type="RawShaderMaterial"}};pd.prototype.isRawShaderMaterial=!0;var Ch=4,Dc=8,qs=Math.pow(2,Dc),r7=[.125,.215,.35,.446,.526,.582],i7=Dc-Ch+1+r7.length,Ah=20,HN=new Rh,{_lodPlanes:e0,_sizeLods:o7,_sigmas:lM}=mSe(),s7=new Ke,WN=null,fd=(1+Math.sqrt(5))/2,Lh=1/fd,a7=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,fd,Lh),new Q(0,fd,-Lh),new Q(Lh,0,fd),new Q(-Lh,0,fd),new Q(fd,Lh,0),new Q(-fd,Lh,0)],cM=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=gSe(Ah),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){WN=this._renderer.getRenderTarget();let o=this._allocateTargets();return this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=u7(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=c7(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<e0.length;e++)e0[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(WN),e.scissorTest=!1,uM(e,0,0,e.width,e.height)}_fromTexture(e,t){WN=this._renderer.getRenderTarget();let r=t||this._allocateTargets(e);return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(e){let t={magFilter:In,minFilter:In,generateMipmaps:!1,type:td,format:qr,encoding:Fa,depthBuffer:!1},r=l7(t);return r.depthBuffer=!e,this._pingPongRenderTarget===null&&(this._pingPongRenderTarget=l7(t)),r}_compileMaterial(e){let t=new er(e0[0],e);this._renderer.compile(t,HN)}_sceneToCubeUV(e,t,r,i){let o=90,s=1,a=new xr(o,s,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(s7),u.toneMapping=Na,u.autoClear=!1;let f=new Ws({name:"PMREM.Background",side:Zn,depthWrite:!1,depthTest:!1}),g=new er(new Gs,f),y=!1,v=e.background;v?v.isColor&&(f.color.copy(v),e.background=null,y=!0):(f.color.copy(s7),y=!0);for(let m=0;m<6;m++){let h=m%3;h===0?(a.up.set(0,l[m],0),a.lookAt(c[m],0,0)):h===1?(a.up.set(0,0,l[m]),a.lookAt(0,c[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,c[m])),uM(i,h*qs,m>2?qs:0,qs,qs),u.setRenderTarget(i),y&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){let r=this._renderer,i=e.mapping===Ku||e.mapping===Qu;i?(this._cubemapShader===null&&(this._cubemapShader=u7()),this._cubemapShader.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectShader===null&&(this._equirectShader=c7());let o=i?this._cubemapShader:this._equirectShader,s=new er(e0[0],o),a=o.uniforms;a.envMap.value=e,i||a.texelSize.value.set(1/e.image.width,1/e.image.height),uM(t,0,0,3*qs,2*qs),r.setRenderTarget(t),r.render(s,HN)}_applyPMREM(e){let t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<i7;i++){let o=Math.sqrt(lM[i]*lM[i]-lM[i-1]*lM[i-1]),s=a7[(i-1)%a7.length];this._blur(e,i-1,i,o,s)}t.autoClear=r}_blur(e,t,r,i,o){let s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){let l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let u=3,d=new er(e0[i],c),p=c.uniforms,f=o7[r]-1,g=isFinite(o)?Math.PI/(2*f):2*Math.PI/(2*Ah-1),y=o/g,v=isFinite(o)?1+Math.floor(u*y):Ah;v>Ah&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Ah}`);let m=[],h=0;for(let S=0;S<Ah;++S){let M=S/y,E=Math.exp(-M*M/2);m.push(E),S===0?h+=E:S<v&&(h+=2*E)}for(let S=0;S<m.length;S++)m[S]=m[S]/h;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=m,p.latitudinal.value=s==="latitudinal",a&&(p.poleAxis.value=a),p.dTheta.value=g,p.mipInt.value=Dc-r;let b=o7[i],x=3*Math.max(0,qs-2*b),_=(i===0?0:2*qs)+2*b*(i>Dc-Ch?i-Dc+Ch:0);uM(t,x,_,3*b,2*b),l.setRenderTarget(t),l.render(d,HN)}};function mSe(){let n=[],e=[],t=[],r=Dc;for(let i=0;i<i7;i++){let o=Math.pow(2,r);e.push(o);let s=1/o;i>Dc-Ch?s=r7[i-Dc+Ch-1]:i===0&&(s=0),t.push(s);let a=1/(o-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=6,p=6,f=3,g=2,y=1,v=new Float32Array(f*p*d),m=new Float32Array(g*p*d),h=new Float32Array(y*p*d);for(let x=0;x<d;x++){let _=x%3*2/3-1,S=x>2?0:-1,M=[_,S,0,_+2/3,S,0,_+2/3,S+1,0,_,S,0,_+2/3,S+1,0,_,S+1,0];v.set(M,f*p*x),m.set(u,g*p*x);let E=[x,x,x,x,x,x];h.set(E,y*p*x)}let b=new mt;b.setAttribute("position",new Lt(v,f)),b.setAttribute("uv",new Lt(m,g)),b.setAttribute("faceIndex",new Lt(h,y)),n.push(b),r>Ch&&r--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function l7(n){let e=new Ui(3*qs,3*qs,n);return e.texture.mapping=sh,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function uM(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function gSe(n){let e=new Float32Array(n),t=new Q(0,1,0);return new pd({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t}},vertexShader:GN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function c7(){let n=new ze(1,1);return new pd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n}},vertexShader:GN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = texture2D ( envMap, uv ).rgb;
				uv.x += texelSize.x;
				vec3 tr = texture2D ( envMap, uv ).rgb;
				uv.y += texelSize.y;
				vec3 br = texture2D ( envMap, uv ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = texture2D ( envMap, uv ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function u7(){return new pd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:GN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Da,depthTest:!1,depthWrite:!1})}function GN(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ySe(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){let l=a.mapping,c=l===Nv||l===Iv,u=l===Ku||l===Qu;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new cM(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{let d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new cM(n));let p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",o),p.texture}else return null}}}return a}function i(a){let l=0,c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){let l=a.target;l.removeEventListener("dispose",o);let c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function vSe(n){let e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){let i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function xSe(n,e,t,r){let i={},o=new WeakMap;function s(d){let p=d.target;p.index!==null&&e.remove(p.index);for(let g in p.attributes)e.remove(p.attributes[g]);p.removeEventListener("dispose",s),delete i[p.id];let f=o.get(p);f&&(e.remove(f),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",s),i[p.id]=!0,t.memory.geometries++),p}function l(d){let p=d.attributes;for(let g in p)e.update(p[g],n.ARRAY_BUFFER);let f=d.morphAttributes;for(let g in f){let y=f[g];for(let v=0,m=y.length;v<m;v++)e.update(y[v],n.ARRAY_BUFFER)}}function c(d){let p=[],f=d.index,g=d.attributes.position,y=0;if(f!==null){let h=f.array;y=f.version;for(let b=0,x=h.length;b<x;b+=3){let _=h[b+0],S=h[b+1],M=h[b+2];p.push(_,S,S,M,M,_)}}else{let h=g.array;y=g.version;for(let b=0,x=h.length/3-1;b<x;b+=3){let _=b+0,S=b+1,M=b+2;p.push(_,S,S,M,M,_)}}let v=new(H$(p)?Jv:Yv)(p,1);v.version=y;let m=o.get(d);m&&e.remove(m),o.set(d,v)}function u(d){let p=o.get(d);if(p){let f=d.index;f!==null&&p.version<f.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function bSe(n,e,t,r){let i=r.isWebGL2,o;function s(p){o=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,f){n.drawElements(o,f,a,p*l),t.update(f,o,1)}function d(p,f,g){if(g===0)return;let y,v;if(i)y=n,v="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](o,f,a,p*l,g),t.update(f,o,g)}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=d}function _Se(n){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=a*(o/3);break;case n.LINES:t.lines+=a*(o/2);break;case n.LINE_STRIP:t.lines+=a*(o-1);break;case n.LINE_LOOP:t.lines+=a*o;break;case n.POINTS:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}var t0=class extends Qn{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Kn,this.minFilter=Kn,this.wrapR=jr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};t0.prototype.isDataTexture2DArray=!0;function wSe(n,e){return n[0]-e[0]}function TSe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function d7(n,e){let t=1,r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function SSe(n,e,t){let r={},i=new Float32Array(8),o=new WeakMap,s=new Q,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,p){let f=c.morphTargetInfluences;if(e.isWebGL2===!0){let g=u.morphAttributes.position.length,y=o.get(u);if(y===void 0||y.count!==g){let A=function(){I.dispose(),o.delete(u),u.removeEventListener("dispose",A)};y!==void 0&&y.texture.dispose();let h=u.morphAttributes.normal!==void 0,b=u.morphAttributes.position,x=u.morphAttributes.normal||[],_=u.attributes.position.count,S=h===!0?2:1,M=_*S,E=1;M>e.maxTextureSize&&(E=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);let L=new Float32Array(M*E*4*g),I=new t0(L,M,E,g);I.format=qr,I.type=Oa,I.needsUpdate=!0;let T=S*4;for(let k=0;k<g;k++){let U=b[k],F=x[k],N=M*E*4*k;for(let j=0;j<U.count;j++){s.fromBufferAttribute(U,j),U.normalized===!0&&d7(s,U);let Y=j*T;L[N+Y+0]=s.x,L[N+Y+1]=s.y,L[N+Y+2]=s.z,L[N+Y+3]=0,h===!0&&(s.fromBufferAttribute(F,j),F.normalized===!0&&d7(s,F),L[N+Y+4]=s.x,L[N+Y+5]=s.y,L[N+Y+6]=s.z,L[N+Y+7]=0)}}y={count:g,texture:I,size:new ze(M,E)},o.set(u,y),u.addEventListener("dispose",A)}let v=0;for(let h=0;h<f.length;h++)v+=f[h];let m=u.morphTargetsRelative?1:1-v;p.getUniforms().setValue(n,"morphTargetBaseInfluence",m),p.getUniforms().setValue(n,"morphTargetInfluences",f),p.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{let g=f===void 0?0:f.length,y=r[u.id];if(y===void 0||y.length!==g){y=[];for(let x=0;x<g;x++)y[x]=[x,0];r[u.id]=y}for(let x=0;x<g;x++){let _=y[x];_[0]=x,_[1]=f[x]}y.sort(TSe);for(let x=0;x<8;x++)x<g&&y[x][1]?(a[x][0]=y[x][0],a[x][1]=y[x][1]):(a[x][0]=Number.MAX_SAFE_INTEGER,a[x][1]=0);a.sort(wSe);let v=u.morphAttributes.position,m=u.morphAttributes.normal,h=0;for(let x=0;x<8;x++){let _=a[x],S=_[0],M=_[1];S!==Number.MAX_SAFE_INTEGER&&M?(v&&u.getAttribute("morphTarget"+x)!==v[S]&&u.setAttribute("morphTarget"+x,v[S]),m&&u.getAttribute("morphNormal"+x)!==m[S]&&u.setAttribute("morphNormal"+x,m[S]),i[x]=M,h+=M):(v&&u.hasAttribute("morphTarget"+x)===!0&&u.deleteAttribute("morphTarget"+x),m&&u.hasAttribute("morphNormal"+x)===!0&&u.deleteAttribute("morphNormal"+x),i[x]=0)}let b=u.morphTargetsRelative?1:1-h;p.getUniforms().setValue(n,"morphTargetBaseInfluence",b),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function MSe(n,e,t,r){let i=new WeakMap;function o(l){let c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER)),d}function s(){i=new WeakMap}function a(l){let c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:o,dispose:s}}var dM=class extends Qn{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=Kn,this.minFilter=Kn,this.wrapR=jr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};dM.prototype.isDataTexture3D=!0;var p7=new Qn,f7=new t0,h7=new dM,m7=new dd,g7=[],y7=[],v7=new Float32Array(16),x7=new Float32Array(9),b7=new Float32Array(4);function Dh(n,e,t){let r=n[0];if(r<=0||r>0)return n;let i=e*t,o=g7[i];if(o===void 0&&(o=new Float32Array(i),g7[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Pi(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function gi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function pM(n,e){let t=y7[e];t===void 0&&(t=new Int32Array(e),y7[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function ESe(n,e){let t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function PSe(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pi(t,e))return;n.uniform2fv(this.addr,e),gi(t,e)}}function RSe(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pi(t,e))return;n.uniform3fv(this.addr,e),gi(t,e)}}function CSe(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pi(t,e))return;n.uniform4fv(this.addr,e),gi(t,e)}}function ASe(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Pi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),gi(t,e)}else{if(Pi(t,r))return;b7.set(r),n.uniformMatrix2fv(this.addr,!1,b7),gi(t,r)}}function LSe(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Pi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),gi(t,e)}else{if(Pi(t,r))return;x7.set(r),n.uniformMatrix3fv(this.addr,!1,x7),gi(t,r)}}function DSe(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Pi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),gi(t,e)}else{if(Pi(t,r))return;v7.set(r),n.uniformMatrix4fv(this.addr,!1,v7),gi(t,r)}}function NSe(n,e){let t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function ISe(n,e){let t=this.cache;Pi(t,e)||(n.uniform2iv(this.addr,e),gi(t,e))}function OSe(n,e){let t=this.cache;Pi(t,e)||(n.uniform3iv(this.addr,e),gi(t,e))}function FSe(n,e){let t=this.cache;Pi(t,e)||(n.uniform4iv(this.addr,e),gi(t,e))}function kSe(n,e){let t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function BSe(n,e){let t=this.cache;Pi(t,e)||(n.uniform2uiv(this.addr,e),gi(t,e))}function zSe(n,e){let t=this.cache;Pi(t,e)||(n.uniform3uiv(this.addr,e),gi(t,e))}function USe(n,e){let t=this.cache;Pi(t,e)||(n.uniform4uiv(this.addr,e),gi(t,e))}function VSe(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTexture2D(e||p7,i)}function HSe(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||h7,i)}function WSe(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTextureCube(e||m7,i)}function GSe(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||f7,i)}function jSe(n){switch(n){case 5126:return ESe;case 35664:return PSe;case 35665:return RSe;case 35666:return CSe;case 35674:return ASe;case 35675:return LSe;case 35676:return DSe;case 5124:case 35670:return NSe;case 35667:case 35671:return ISe;case 35668:case 35672:return OSe;case 35669:case 35673:return FSe;case 5125:return kSe;case 36294:return BSe;case 36295:return zSe;case 36296:return USe;case 35678:case 36198:case 36298:case 36306:case 35682:return VSe;case 35679:case 36299:case 36307:return HSe;case 35680:case 36300:case 36308:case 36293:return WSe;case 36289:case 36303:case 36311:case 36292:return GSe}}function qSe(n,e){n.uniform1fv(this.addr,e)}function $Se(n,e){let t=Dh(e,this.size,2);n.uniform2fv(this.addr,t)}function XSe(n,e){let t=Dh(e,this.size,3);n.uniform3fv(this.addr,t)}function YSe(n,e){let t=Dh(e,this.size,4);n.uniform4fv(this.addr,t)}function JSe(n,e){let t=Dh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function ZSe(n,e){let t=Dh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function KSe(n,e){let t=Dh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function QSe(n,e){n.uniform1iv(this.addr,e)}function eMe(n,e){n.uniform2iv(this.addr,e)}function tMe(n,e){n.uniform3iv(this.addr,e)}function nMe(n,e){n.uniform4iv(this.addr,e)}function rMe(n,e){n.uniform1uiv(this.addr,e)}function iMe(n,e){n.uniform2uiv(this.addr,e)}function oMe(n,e){n.uniform3uiv(this.addr,e)}function sMe(n,e){n.uniform4uiv(this.addr,e)}function aMe(n,e,t){let r=e.length,i=pM(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTexture2D(e[o]||p7,i[o])}function lMe(n,e,t){let r=e.length,i=pM(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture3D(e[o]||h7,i[o])}function cMe(n,e,t){let r=e.length,i=pM(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTextureCube(e[o]||m7,i[o])}function uMe(n,e,t){let r=e.length,i=pM(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||f7,i[o])}function dMe(n){switch(n){case 5126:return qSe;case 35664:return $Se;case 35665:return XSe;case 35666:return YSe;case 35674:return JSe;case 35675:return ZSe;case 35676:return KSe;case 5124:case 35670:return QSe;case 35667:case 35671:return eMe;case 35668:case 35672:return tMe;case 35669:case 35673:return nMe;case 5125:return rMe;case 36294:return iMe;case 36295:return oMe;case 36296:return sMe;case 35678:case 36198:case 36298:case 36306:case 35682:return aMe;case 35679:case 36299:case 36307:return lMe;case 35680:case 36300:case 36308:case 36293:return cMe;case 36289:case 36303:case 36311:case 36292:return uMe}}function pMe(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=jSe(e.type)}function _7(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=dMe(e.type)}_7.prototype.updateCache=function(n){let e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),gi(e,n)};function w7(n){this.id=n,this.seq=[],this.map={}}w7.prototype.setValue=function(n,e,t){let r=this.seq;for(let i=0,o=r.length;i!==o;++i){let s=r[i];s.setValue(n,e[s.id],t)}};var jN=/(\w+)(\])?(\[|\.)?/g;function T7(n,e){n.seq.push(e),n.map[e.id]=e}function fMe(n,e,t){let r=n.name,i=r.length;for(jN.lastIndex=0;;){let o=jN.exec(r),s=jN.lastIndex,a=o[1],l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){T7(t,c===void 0?new pMe(a,n,e):new _7(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new w7(a),T7(t,d)),t=d}}}function Nc(n,e){this.seq=[],this.map={};let t=n.getProgramParameter(e,n.ACTIVE_UNIFORMS);for(let r=0;r<t;++r){let i=n.getActiveUniform(e,r),o=n.getUniformLocation(e,i.name);fMe(i,o,this)}}Nc.prototype.setValue=function(n,e,t,r){let i=this.map[e];i!==void 0&&i.setValue(n,t,r)};Nc.prototype.setOptional=function(n,e,t){let r=e[t];r!==void 0&&this.setValue(n,t,r)};Nc.upload=function(n,e,t,r){for(let i=0,o=e.length;i!==o;++i){let s=e[i],a=t[s.id];a.needsUpdate!==!1&&s.setValue(n,a.value,r)}};Nc.seqWithValue=function(n,e){let t=[];for(let r=0,i=n.length;r!==i;++r){let o=n[r];o.id in e&&t.push(o)}return t};function S7(n,e,t){let r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}var hMe=0;function mMe(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function gMe(n){switch(n){case Fa:return["Linear","( value )"];case mn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function M7(n,e,t){let r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();return r&&i===""?"":t.toUpperCase()+`

`+i+`

`+mMe(n.getShaderSource(e))}function yMe(n,e){let t=gMe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function vMe(n,e){let t;switch(e){case p$:t="Linear";break;case f$:t="Reinhard";break;case h$:t="OptimizedCineon";break;case m$:t="ACESFilmic";break;case g$:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function xMe(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(n0).join(`
`)}function bMe(n){let e=[];for(let t in n){let r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function _Me(n,e){let t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){let o=n.getActiveAttrib(e,i),s=o.name,a=1;o.type===n.FLOAT_MAT2&&(a=2),o.type===n.FLOAT_MAT3&&(a=3),o.type===n.FLOAT_MAT4&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}function n0(n){return n!==""}function E7(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function P7(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var wMe=/^[ \t]*#include +<([\w\d./]+)>/gm;function qN(n){return n.replace(wMe,TMe)}function TMe(n,e){let t=Mt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return qN(t)}var SMe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,MMe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function R7(n){return n.replace(MMe,C7).replace(SMe,EMe)}function EMe(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),C7(n,e,t,r)}function C7(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function A7(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function PMe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===DD?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===G9?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===ih&&(e="SHADOWMAP_TYPE_VSM"),e}function RMe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ku:case Qu:e="ENVMAP_TYPE_CUBE";break;case sh:case Ov:e="ENVMAP_TYPE_CUBE_UV";break}return e}function CMe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Qu:case Ov:e="ENVMAP_MODE_REFRACTION";break}return e}function AMe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Dv:e="ENVMAP_BLENDING_MULTIPLY";break;case u$:e="ENVMAP_BLENDING_MIX";break;case d$:e="ENVMAP_BLENDING_ADD";break}return e}function LMe(n,e,t,r){let i=n.getContext(),o=t.defines,s=t.vertexShader,a=t.fragmentShader,l=PMe(t),c=RMe(t),u=CMe(t),d=AMe(t),p=t.isWebGL2?"":xMe(t),f=bMe(o),g=i.createProgram(),y,v,m=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[f].filter(n0).join(`
`),y.length>0&&(y+=`
`),v=[p,f].filter(n0).join(`
`),v.length>0&&(v+=`
`)):(y=[A7(t),"#define SHADER_NAME "+t.shaderName,f,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(n0).join(`
`),v=[p,A7(t),"#define SHADER_NAME "+t.shaderName,f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Na?"#define TONE_MAPPING":"",t.toneMapping!==Na?Mt.tonemapping_pars_fragment:"",t.toneMapping!==Na?vMe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.alphaWrite?"":"#define OPAQUE",Mt.encodings_pars_fragment,yMe("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(n0).join(`
`)),s=qN(s),s=E7(s,t),s=P7(s,t),a=qN(a),a=E7(a,t),a=P7(a,t),s=R7(s),a=R7(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",t.glslVersion===uN?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===uN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);let h=m+y+s,b=m+v+a,x=S7(i,i.VERTEX_SHADER,h),_=S7(i,i.FRAGMENT_SHADER,b);if(i.attachShader(g,x),i.attachShader(g,_),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){let E=i.getProgramInfoLog(g).trim(),L=i.getShaderInfoLog(x).trim(),I=i.getShaderInfoLog(_).trim(),T=!0,A=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1){T=!1;let k=M7(i,x,"vertex"),U=M7(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Program Info Log: `+E+`
`+k+`
`+U)}else E!==""?console.warn("THREE.WebGLProgram: Program Info Log:",E):(L===""||I==="")&&(A=!1);A&&(this.diagnostics={runnable:T,programLog:E,vertexShader:{log:L,prefix:y},fragmentShader:{log:I,prefix:v}})}i.deleteShader(x),i.deleteShader(_);let S;this.getUniforms=function(){return S===void 0&&(S=new Nc(i,g)),S};let M;return this.getAttributes=function(){return M===void 0&&(M=_Me(i,g)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=hMe++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=_,this}var DMe=0,L7=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){let t=this.shaderCache;if(t.has(e)===!1){let r=new D7;t.set(e,r)}return t.get(e)}},D7=class{constructor(){this.id=DMe++,this.usedTimes=0}};function NMe(n,e,t,r,i,o,s){let a=new $v,l=new L7,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.floatVertexTextures,f=i.maxVertexUniforms,g=i.vertexTextures,y=i.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(T){let k=T.skeleton.bones;if(p)return 1024;{let F=Math.floor((f-20)/4),N=Math.min(F,k.length);return N<k.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+k.length+" bones. This GPU supports "+N+"."),0):N}}function h(T,A,k,U,F){let N=U.fog,j=T.isMeshStandardMaterial?U.environment:null,Y=(T.isMeshStandardMaterial?t:e).get(T.envMap||j),pe=v[T.type],$=F.isSkinnedMesh?m(F):0;T.precision!==null&&(y=i.getMaxPrecision(T.precision),y!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",y,"instead."));let W,J,oe,re;if(pe){let me=ls[pe];W=me.vertexShader,J=me.fragmentShader}else W=T.vertexShader,J=T.fragmentShader,l.update(T),oe=l.getVertexShaderID(T),re=l.getFragmentShaderID(T);let D=n.getRenderTarget(),Te=T.alphaTest>0,de=T.clearcoat>0;return{isWebGL2:u,shaderID:pe,shaderName:T.type,vertexShader:W,fragmentShader:J,defines:T.defines,customVertexShaderID:oe,customFragmentShaderID:re,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:y,instancing:F.isInstancedMesh===!0,instancingColor:F.isInstancedMesh===!0&&F.instanceColor!==null,supportsVertexTextures:g,outputEncoding:D===null?n.outputEncoding:D.isXRRenderTarget===!0?D.texture.encoding:Fa,map:!!T.map,matcap:!!T.matcap,envMap:!!Y,envMapMode:Y&&Y.mapping,envMapCubeUV:!!Y&&(Y.mapping===sh||Y.mapping===Ov),lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===k$,tangentSpaceNormalMap:T.normalMapType===sd,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===mn,clearcoat:de,clearcoatMap:de&&!!T.clearcoatMap,clearcoatRoughnessMap:de&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:de&&!!T.clearcoatNormalMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,alphaMap:!!T.alphaMap,alphaTest:Te,alphaWrite:T.alphaWrite||T.transparent,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!F.geometry&&!!F.geometry.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!F.geometry&&!!F.geometry.attributes.color&&F.geometry.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatNormalMap||T.transmission>0||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||T.sheen>0||!!T.sheenColorMap||!!T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!N,useFog:T.fog,fogExp2:N&&N.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:d,skinning:F.isSkinnedMesh===!0&&$>0,maxBones:$,useVertexTexture:p,morphTargets:!!F.geometry&&!!F.geometry.morphAttributes.position,morphNormals:!!F.geometry&&!!F.geometry.morphAttributes.normal,morphTargetsCount:!!F.geometry&&!!F.geometry.morphAttributes.position?F.geometry.morphAttributes.position.length:0,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:Na,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Ju,flipSided:T.side===Zn,depthPacking:T.depthPacking!==void 0?T.depthPacking:!1,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function b(T){let A=[];if(T.shaderID?A.push(T.shaderID):(A.push(T.customVertexShaderID),A.push(T.customFragmentShaderID)),T.defines!==void 0)for(let k in T.defines)A.push(k),A.push(T.defines[k]);return T.isRawShaderMaterial===!1&&(x(A,T),_(A,T),A.push(n.outputEncoding)),A.push(T.customProgramCacheKey),A.join()}function x(T,A){T.push(A.precision),T.push(A.outputEncoding),T.push(A.envMapMode),T.push(A.combine),T.push(A.vertexUvs),T.push(A.fogExp2),T.push(A.sizeAttenuation),T.push(A.maxBones),T.push(A.morphTargetsCount),T.push(A.numDirLights),T.push(A.numPointLights),T.push(A.numSpotLights),T.push(A.numHemiLights),T.push(A.numRectAreaLights),T.push(A.numDirLightShadows),T.push(A.numPointLightShadows),T.push(A.numSpotLightShadows),T.push(A.shadowMapType),T.push(A.toneMapping),T.push(A.numClippingPlanes),T.push(A.numClipIntersection),T.push(A.alphaWrite)}function _(T,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.map&&a.enable(4),A.matcap&&a.enable(5),A.envMap&&a.enable(6),A.envMapCubeUV&&a.enable(7),A.lightMap&&a.enable(8),A.aoMap&&a.enable(9),A.emissiveMap&&a.enable(10),A.bumpMap&&a.enable(11),A.normalMap&&a.enable(12),A.objectSpaceNormalMap&&a.enable(13),A.tangentSpaceNormalMap&&a.enable(14),A.clearcoat&&a.enable(15),A.clearcoatMap&&a.enable(16),A.clearcoatRoughnessMap&&a.enable(17),A.clearcoatNormalMap&&a.enable(18),A.displacementMap&&a.enable(19),A.specularMap&&a.enable(20),A.roughnessMap&&a.enable(21),A.metalnessMap&&a.enable(22),A.gradientMap&&a.enable(23),A.alphaMap&&a.enable(24),A.alphaTest&&a.enable(25),A.vertexColors&&a.enable(26),A.vertexAlphas&&a.enable(27),A.vertexUvs&&a.enable(28),A.vertexTangents&&a.enable(29),A.uvsVertexOnly&&a.enable(30),A.fog&&a.enable(31),T.push(a.mask),a.disableAll(),A.useFog&&a.enable(0),A.flatShading&&a.enable(1),A.logarithmicDepthBuffer&&a.enable(2),A.skinning&&a.enable(3),A.useVertexTexture&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.premultipliedAlpha&&a.enable(7),A.shadowMapEnabled&&a.enable(8),A.physicallyCorrectLights&&a.enable(9),A.doubleSided&&a.enable(10),A.flipSided&&a.enable(11),A.depthPacking&&a.enable(12),A.dithering&&a.enable(13),A.specularIntensityMap&&a.enable(14),A.specularColorMap&&a.enable(15),A.transmission&&a.enable(16),A.transmissionMap&&a.enable(17),A.thicknessMap&&a.enable(18),A.sheen&&a.enable(19),A.sheenColorMap&&a.enable(20),A.sheenRoughnessMap&&a.enable(21),A.decodeVideoTexture&&a.enable(22),T.push(a.mask)}function S(T){let A=v[T.type],k;if(A){let U=ls[A];k=t7.clone(U.uniforms)}else k=T.uniforms;return k}function M(T,A){let k;for(let U=0,F=c.length;U<F;U++){let N=c[U];if(N.cacheKey===A){k=N,++k.usedTimes;break}}return k===void 0&&(k=new LMe(n,A,T,o),c.push(k)),k}function E(T){if(--T.usedTimes==0){let A=c.indexOf(T);c[A]=c[c.length-1],c.pop(),T.destroy()}}function L(T){l.remove(T)}function I(){l.dispose()}return{getParameters:h,getProgramCacheKey:b,getUniforms:S,acquireProgram:M,releaseProgram:E,releaseShaderCache:L,programs:c,dispose:I}}function IMe(){let n=new WeakMap;function e(o){let s=n.get(o);return s===void 0&&(s={},n.set(o,s)),s}function t(o){n.delete(o)}function r(o,s,a){n.get(o)[s]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function OMe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function N7(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function I7(){let n=[],e=0,t=[],r=[],i=[];function o(){e=0,t.length=0,r.length=0,i.length=0}function s(d,p,f,g,y,v){let m=n[e];return m===void 0?(m={id:d.id,object:d,geometry:p,material:f,groupOrder:g,renderOrder:d.renderOrder,z:y,group:v},n[e]=m):(m.id=d.id,m.object=d,m.geometry=p,m.material=f,m.groupOrder=g,m.renderOrder=d.renderOrder,m.z=y,m.group=v),e++,m}function a(d,p,f,g,y,v){let m=s(d,p,f,g,y,v);f.transmission>0?r.push(m):f.transparent===!0?i.push(m):t.push(m)}function l(d,p,f,g,y,v){let m=s(d,p,f,g,y,v);f.transmission>0?r.unshift(m):f.transparent===!0?i.unshift(m):t.unshift(m)}function c(d,p){t.length>1&&t.sort(d||OMe),r.length>1&&r.sort(p||N7),i.length>1&&i.sort(p||N7)}function u(){for(let d=e,p=n.length;d<p;d++){let f=n[d];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:t,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function FMe(){let n=new WeakMap;function e(r,i){let o;return n.has(r)===!1?(o=new I7,n.set(r,[o])):i>=n.get(r).length?(o=new I7,n.get(r).push(o)):o=n.get(r)[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function kMe(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Q,color:new Ke};break;case"SpotLight":t={position:new Q,direction:new Q,color:new Ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Q,color:new Ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Q,skyColor:new Ke,groundColor:new Ke};break;case"RectAreaLight":t={color:new Ke,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return n[e.id]=t,t}}}function BMe(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}var zMe=0;function UMe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function VMe(n,e){let t=new kMe,r=BMe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new Q);let o=new Q,s=new ct,a=new ct;function l(u,d){let p=0,f=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let y=0,v=0,m=0,h=0,b=0,x=0,_=0,S=0;u.sort(UMe);let M=d!==!0?Math.PI:1;for(let L=0,I=u.length;L<I;L++){let T=u[L],A=T.color,k=T.intensity,U=T.distance,F=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)p+=A.r*k*M,f+=A.g*k*M,g+=A.b*k*M;else if(T.isLightProbe)for(let N=0;N<9;N++)i.probe[N].addScaledVector(T.sh.coefficients[N],k);else if(T.isDirectionalLight){let N=t.get(T);if(N.color.copy(T.color).multiplyScalar(T.intensity*M),T.castShadow){let j=T.shadow,Y=r.get(T);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,i.directionalShadow[y]=Y,i.directionalShadowMap[y]=F,i.directionalShadowMatrix[y]=T.shadow.matrix,x++}i.directional[y]=N,y++}else if(T.isSpotLight){let N=t.get(T);if(N.position.setFromMatrixPosition(T.matrixWorld),N.color.copy(A).multiplyScalar(k*M),N.distance=U,N.coneCos=Math.cos(T.angle),N.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),N.decay=T.decay,T.castShadow){let j=T.shadow,Y=r.get(T);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,i.spotShadow[m]=Y,i.spotShadowMap[m]=F,i.spotShadowMatrix[m]=T.shadow.matrix,S++}i.spot[m]=N,m++}else if(T.isRectAreaLight){let N=t.get(T);N.color.copy(A).multiplyScalar(k),N.halfWidth.set(T.width*.5,0,0),N.halfHeight.set(0,T.height*.5,0),i.rectArea[h]=N,h++}else if(T.isPointLight){let N=t.get(T);if(N.color.copy(T.color).multiplyScalar(T.intensity*M),N.distance=T.distance,N.decay=T.decay,T.castShadow){let j=T.shadow,Y=r.get(T);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,Y.shadowCameraNear=j.camera.near,Y.shadowCameraFar=j.camera.far,i.pointShadow[v]=Y,i.pointShadowMap[v]=F,i.pointShadowMatrix[v]=T.shadow.matrix,_++}i.point[v]=N,v++}else if(T.isHemisphereLight){let N=t.get(T);N.skyColor.copy(T.color).multiplyScalar(k*M),N.groundColor.copy(T.groundColor).multiplyScalar(k*M),i.hemi[b]=N,b++}}h>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ye.LTC_FLOAT_1,i.rectAreaLTC2=Ye.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ye.LTC_HALF_1,i.rectAreaLTC2=Ye.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=f,i.ambient[2]=g;let E=i.hash;(E.directionalLength!==y||E.pointLength!==v||E.spotLength!==m||E.rectAreaLength!==h||E.hemiLength!==b||E.numDirectionalShadows!==x||E.numPointShadows!==_||E.numSpotShadows!==S)&&(i.directional.length=y,i.spot.length=m,i.rectArea.length=h,i.point.length=v,i.hemi.length=b,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=_,i.pointShadowMap.length=_,i.spotShadow.length=S,i.spotShadowMap.length=S,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=_,i.spotShadowMatrix.length=S,E.directionalLength=y,E.pointLength=v,E.spotLength=m,E.rectAreaLength=h,E.hemiLength=b,E.numDirectionalShadows=x,E.numPointShadows=_,E.numSpotShadows=S,i.version=zMe++)}function c(u,d){let p=0,f=0,g=0,y=0,v=0,m=d.matrixWorldInverse;for(let h=0,b=u.length;h<b;h++){let x=u[h];if(x.isDirectionalLight){let _=i.directional[p];_.direction.setFromMatrixPosition(x.matrixWorld),o.setFromMatrixPosition(x.target.matrixWorld),_.direction.sub(o),_.direction.transformDirection(m),p++}else if(x.isSpotLight){let _=i.spot[g];_.position.setFromMatrixPosition(x.matrixWorld),_.position.applyMatrix4(m),_.direction.setFromMatrixPosition(x.matrixWorld),o.setFromMatrixPosition(x.target.matrixWorld),_.direction.sub(o),_.direction.transformDirection(m),g++}else if(x.isRectAreaLight){let _=i.rectArea[y];_.position.setFromMatrixPosition(x.matrixWorld),_.position.applyMatrix4(m),a.identity(),s.copy(x.matrixWorld),s.premultiply(m),a.extractRotation(s),_.halfWidth.set(x.width*.5,0,0),_.halfHeight.set(0,x.height*.5,0),_.halfWidth.applyMatrix4(a),_.halfHeight.applyMatrix4(a),y++}else if(x.isPointLight){let _=i.point[f];_.position.setFromMatrixPosition(x.matrixWorld),_.position.applyMatrix4(m),f++}else if(x.isHemisphereLight){let _=i.hemi[v];_.direction.setFromMatrixPosition(x.matrixWorld),_.direction.transformDirection(m),_.direction.normalize(),v++}}}return{setup:l,setupView:c,state:i}}function O7(n,e){let t=new VMe(n,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function HMe(n,e){let t=new WeakMap;function r(o,s=0){let a;return t.has(o)===!1?(a=new O7(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new O7(n,e),t.get(o).push(a)):a=t.get(o)[s],a}function i(){t=new WeakMap}return{get:r,dispose:i}}var r0=class extends vr{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=O$,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}};r0.prototype.isMeshDepthMaterial=!0;var i0=class extends vr{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new Q,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};i0.prototype.isMeshDistanceMaterial=!0;var WMe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,GMe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function F7(n,e,t){let r=new Ph,i=new ze,o=new ze,s=new jt,a=new r0({depthPacking:F$}),l=new i0,c={},u=t.maxTextureSize,d={0:Zn,1:Yu,2:Ju},p=new js({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:WMe,fragmentShader:GMe}),f=p.clone();f.defines.HORIZONTAL_PASS=1;let g=new mt;g.setAttribute("position",new Lt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let y=new er(g,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=DD,this.render=function(x,_,S){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||x.length===0)return;let M=n.getRenderTarget(),E=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),I=n.state;I.setBlending(Da),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let T=0,A=x.length;T<A;T++){let k=x[T],U=k.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);let F=U.getFrameExtents();if(i.multiply(F),o.copy(U.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/F.x),i.x=o.x*F.x,U.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/F.y),i.y=o.y*F.y,U.mapSize.y=o.y)),U.map===null&&!U.isPointLightShadow&&this.type===ih){let j={minFilter:In,magFilter:In,format:qr};U.map=new Ui(i.x,i.y,j),U.map.texture.name=k.name+".shadowMap",U.mapPass=new Ui(i.x,i.y,j),U.camera.updateProjectionMatrix()}if(U.map===null){let j={minFilter:Kn,magFilter:Kn,format:qr};U.map=new Ui(i.x,i.y,j),U.map.texture.name=k.name+".shadowMap",U.camera.updateProjectionMatrix()}n.setRenderTarget(U.map),n.clear();let N=U.getViewportCount();for(let j=0;j<N;j++){let Y=U.getViewport(j);s.set(o.x*Y.x,o.y*Y.y,o.x*Y.z,o.y*Y.w),I.viewport(s),U.updateMatrices(k,j),r=U.getFrustum(),b(_,S,U.camera,k,this.type)}!U.isPointLightShadow&&this.type===ih&&m(U,S),U.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(M,E,L)};function m(x,_){let S=e.update(y);p.defines.VSM_SAMPLES!==x.blurSamples&&(p.defines.VSM_SAMPLES=x.blurSamples,f.defines.VSM_SAMPLES=x.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),p.uniforms.shadow_pass.value=x.map.texture,p.uniforms.resolution.value=x.mapSize,p.uniforms.radius.value=x.radius,n.setRenderTarget(x.mapPass),n.clear(),n.renderBufferDirect(_,null,S,p,y,null),f.uniforms.shadow_pass.value=x.mapPass.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,n.setRenderTarget(x.map),n.clear(),n.renderBufferDirect(_,null,S,f,y,null)}function h(x,_,S,M,E,L,I){let T=null,A=M.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(A!==void 0?T=A:T=M.isPointLight===!0?l:a,n.localClippingEnabled&&S.clipShadows===!0&&S.clippingPlanes.length!==0||S.displacementMap&&S.displacementScale!==0||S.alphaMap&&S.alphaTest>0){let k=T.uuid,U=S.uuid,F=c[k];F===void 0&&(F={},c[k]=F);let N=F[U];N===void 0&&(N=T.clone(),F[U]=N),T=N}return T.visible=S.visible,T.wireframe=S.wireframe,I===ih?T.side=S.shadowSide!==null?S.shadowSide:S.side:T.side=S.shadowSide!==null?S.shadowSide:d[S.side],T.alphaMap=S.alphaMap,T.alphaTest=S.alphaTest,T.clipShadows=S.clipShadows,T.clippingPlanes=S.clippingPlanes,T.clipIntersection=S.clipIntersection,T.displacementMap=S.displacementMap,T.displacementScale=S.displacementScale,T.displacementBias=S.displacementBias,T.wireframeLinewidth=S.wireframeLinewidth,T.linewidth=S.linewidth,M.isPointLight===!0&&T.isMeshDistanceMaterial===!0&&(T.referencePosition.setFromMatrixPosition(M.matrixWorld),T.nearDistance=E,T.farDistance=L),T}function b(x,_,S,M,E){if(x.visible===!1)return;if(x.layers.test(_.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&E===ih)&&(!x.frustumCulled||r.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,x.matrixWorld);let T=e.update(x),A=x.material;if(Array.isArray(A)){let k=T.groups;for(let U=0,F=k.length;U<F;U++){let N=k[U],j=A[N.materialIndex];if(j&&j.visible){let Y=h(x,T,j,M,S.near,S.far,E);n.renderBufferDirect(S,null,T,Y,x,N)}}}else if(A.visible){let k=h(x,T,A,M,S.near,S.far,E);n.renderBufferDirect(S,null,T,k,x,null)}}let I=x.children;for(let T=0,A=I.length;T<A;T++)b(I[T],_,S,M,E)}}function jMe(n,e,t){let r=t.isWebGL2;function i(){let z=!1,xe=new jt,ne=null,he=new jt(0,0,0,0);return{setMask:function(V){ne!==V&&!z&&(n.colorMask(V,V,V,V),ne=V)},setLocked:function(V){z=V},setClear:function(V,Ee,Oe,We,nt){nt===!0&&(V*=We,Ee*=We,Oe*=We),xe.set(V,Ee,Oe,We),he.equals(xe)===!1&&(n.clearColor(V,Ee,Oe,We),he.copy(xe))},reset:function(){z=!1,ne=null,he.set(-1,0,0,0)}}}function o(){let z=!1,xe=null,ne=null,he=null;return{setTest:function(V){V?D(n.DEPTH_TEST):Te(n.DEPTH_TEST)},setMask:function(V){xe!==V&&!z&&(n.depthMask(V),xe=V)},setFunc:function(V){if(ne!==V){if(V)switch(V){case r$:n.depthFunc(n.NEVER);break;case i$:n.depthFunc(n.ALWAYS);break;case o$:n.depthFunc(n.LESS);break;case LS:n.depthFunc(n.LEQUAL);break;case s$:n.depthFunc(n.EQUAL);break;case a$:n.depthFunc(n.GEQUAL);break;case l$:n.depthFunc(n.GREATER);break;case c$:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}else n.depthFunc(n.LEQUAL);ne=V}},setLocked:function(V){z=V},setClear:function(V){he!==V&&(n.clearDepth(V),he=V)},reset:function(){z=!1,xe=null,ne=null,he=null}}}function s(){let z=!1,xe=null,ne=null,he=null,V=null,Ee=null,Oe=null,We=null,nt=null;return{setTest:function(Xe){z||(Xe?D(n.STENCIL_TEST):Te(n.STENCIL_TEST))},setMask:function(Xe){xe!==Xe&&!z&&(n.stencilMask(Xe),xe=Xe)},setFunc:function(Xe,bt,yt){(ne!==Xe||he!==bt||V!==yt)&&(n.stencilFunc(Xe,bt,yt),ne=Xe,he=bt,V=yt)},setOp:function(Xe,bt,yt){(Ee!==Xe||Oe!==bt||We!==yt)&&(n.stencilOp(Xe,bt,yt),Ee=Xe,Oe=bt,We=yt)},setLocked:function(Xe){z=Xe},setClear:function(Xe){nt!==Xe&&(n.clearStencil(Xe),nt=Xe)},reset:function(){z=!1,xe=null,ne=null,he=null,V=null,Ee=null,Oe=null,We=null,nt=null}}}let a=new i,l=new o,c=new s,u={},d={},p=new WeakMap,f=[],g=null,y=!1,v=null,m=null,h=null,b=null,x=null,_=null,S=null,M=!1,E=null,L=null,I=null,T=null,A=null,k=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS),U=!1,F=0,N=n.getParameter(n.VERSION);N.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(N)[1]),U=F>=1):N.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),U=F>=2);let j=null,Y={},pe=n.getParameter(n.SCISSOR_BOX),$=n.getParameter(n.VIEWPORT),W=new jt().fromArray(pe),J=new jt().fromArray($);function oe(z,xe,ne){let he=new Uint8Array(4),V=n.createTexture();n.bindTexture(z,V),n.texParameteri(z,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(z,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ee=0;Ee<ne;Ee++)n.texImage2D(xe+Ee,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,he);return V}let re={};re[n.TEXTURE_2D]=oe(n.TEXTURE_2D,n.TEXTURE_2D,1),re[n.TEXTURE_CUBE_MAP]=oe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),D(n.DEPTH_TEST),l.setFunc(LS),se(!1),Se(LD),D(n.CULL_FACE),q(Da);function D(z){u[z]!==!0&&(n.enable(z),u[z]=!0)}function Te(z){u[z]!==!1&&(n.disable(z),u[z]=!1)}function de(z,xe){return d[z]!==xe?(n.bindFramebuffer(z,xe),d[z]=xe,r&&(z===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=xe),z===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=xe)),!0):!1}function Me(z,xe){let ne=f,he=!1;if(z)if(ne=p.get(xe),ne===void 0&&(ne=[],p.set(xe,ne)),z.isWebGLMultipleRenderTargets){let V=z.texture;if(ne.length!==V.length||ne[0]!==n.COLOR_ATTACHMENT0){for(let Ee=0,Oe=V.length;Ee<Oe;Ee++)ne[Ee]=n.COLOR_ATTACHMENT0+Ee;ne.length=V.length,he=!0}}else ne[0]!==n.COLOR_ATTACHMENT0&&(ne[0]=n.COLOR_ATTACHMENT0,he=!0);else ne[0]!==n.BACK&&(ne[0]=n.BACK,he=!0);he&&(t.isWebGL2?n.drawBuffers(ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ne))}function me(z){return g!==z?(n.useProgram(z),g=z,!0):!1}let Pe={[Zu]:n.FUNC_ADD,[q9]:n.FUNC_SUBTRACT,[$9]:n.FUNC_REVERSE_SUBTRACT};if(r)Pe[kD]=n.MIN,Pe[BD]=n.MAX;else{let z=e.get("EXT_blend_minmax");z!==null&&(Pe[kD]=z.MIN_EXT,Pe[BD]=z.MAX_EXT)}let _e={[X9]:n.ZERO,[Y9]:n.ONE,[J9]:n.SRC_COLOR,[zD]:n.SRC_ALPHA,[n$]:n.SRC_ALPHA_SATURATE,[e$]:n.DST_COLOR,[K9]:n.DST_ALPHA,[Z9]:n.ONE_MINUS_SRC_COLOR,[UD]:n.ONE_MINUS_SRC_ALPHA,[t$]:n.ONE_MINUS_DST_COLOR,[Q9]:n.ONE_MINUS_DST_ALPHA};function q(z,xe,ne,he,V,Ee,Oe,We){if(z===Da){y===!0&&(Te(n.BLEND),y=!1);return}if(y===!1&&(D(n.BLEND),y=!0),z!==j9){if(z!==v||We!==M){if((m!==Zu||x!==Zu)&&(n.blendEquation(n.FUNC_ADD),m=Zu,x=Zu),We)switch(z){case oh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case ID:n.blendFunc(n.ONE,n.ONE);break;case OD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case FD:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}else switch(z){case oh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case ID:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case OD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case FD:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}h=null,b=null,_=null,S=null,v=z,M=We}return}V=V||xe,Ee=Ee||ne,Oe=Oe||he,(xe!==m||V!==x)&&(n.blendEquationSeparate(Pe[xe],Pe[V]),m=xe,x=V),(ne!==h||he!==b||Ee!==_||Oe!==S)&&(n.blendFuncSeparate(_e[ne],_e[he],_e[Ee],_e[Oe]),h=ne,b=he,_=Ee,S=Oe),v=z,M=null}function ce(z,xe){z.side===Ju?Te(n.CULL_FACE):D(n.CULL_FACE);let ne=z.side===Zn;xe&&(ne=!ne),se(ne),z.blending===oh&&z.transparent===!1?q(Da):q(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.premultipliedAlpha),l.setFunc(z.depthFunc),l.setTest(z.depthTest),l.setMask(z.depthWrite),a.setMask(z.colorWrite);let he=z.stencilWrite;c.setTest(he),he&&(c.setMask(z.stencilWriteMask),c.setFunc(z.stencilFunc,z.stencilRef,z.stencilFuncMask),c.setOp(z.stencilFail,z.stencilZFail,z.stencilZPass)),Ce(z.polygonOffset,z.polygonOffsetFactor,z.polygonOffsetUnits),z.alphaToCoverage===!0?D(n.SAMPLE_ALPHA_TO_COVERAGE):Te(n.SAMPLE_ALPHA_TO_COVERAGE)}function se(z){E!==z&&(z?n.frontFace(n.CW):n.frontFace(n.CCW),E=z)}function Se(z){z!==H9?(D(n.CULL_FACE),z!==L&&(z===LD?n.cullFace(n.BACK):z===W9?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Te(n.CULL_FACE),L=z}function be(z){z!==I&&(U&&n.lineWidth(z),I=z)}function Ce(z,xe,ne){z?(D(n.POLYGON_OFFSET_FILL),(T!==xe||A!==ne)&&(n.polygonOffset(xe,ne),T=xe,A=ne)):Te(n.POLYGON_OFFSET_FILL)}function Le(z){z?D(n.SCISSOR_TEST):Te(n.SCISSOR_TEST)}function Ne(z){z===void 0&&(z=n.TEXTURE0+k-1),j!==z&&(n.activeTexture(z),j=z)}function Ge(z,xe){j===null&&Ne();let ne=Y[j];ne===void 0&&(ne={type:void 0,texture:void 0},Y[j]=ne),(ne.type!==z||ne.texture!==xe)&&(n.bindTexture(z,xe||re[z]),ne.type=z,ne.texture=xe)}function Ue(){let z=Y[j];z!==void 0&&z.type!==void 0&&(n.bindTexture(z.type,null),z.type=void 0,z.texture=void 0)}function C(){try{n.compressedTexImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function w(){try{n.texSubImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function H(){try{n.texSubImage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ee(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ue(){try{n.texStorage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function G(){try{n.texStorage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ge(){try{n.texImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function fe(){try{n.texImage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function le(z){W.equals(z)===!1&&(n.scissor(z.x,z.y,z.z,z.w),W.copy(z))}function ve(z){J.equals(z)===!1&&(n.viewport(z.x,z.y,z.z,z.w),J.copy(z))}function De(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},j=null,Y={},d={},p=new WeakMap,f=[],g=null,y=!1,v=null,m=null,h=null,b=null,x=null,_=null,S=null,M=!1,E=null,L=null,I=null,T=null,A=null,W.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:D,disable:Te,bindFramebuffer:de,drawBuffers:Me,useProgram:me,setBlending:q,setMaterial:ce,setFlipSided:se,setCullFace:Se,setLineWidth:be,setPolygonOffset:Ce,setScissorTest:Le,activeTexture:Ne,bindTexture:Ge,unbindTexture:Ue,compressedTexImage2D:C,texImage2D:ge,texImage3D:fe,texStorage2D:ue,texStorage3D:G,texSubImage2D:w,texSubImage3D:H,compressedTexSubImage2D:ee,scissor:le,viewport:ve,reset:De}}function qMe(n,e,t,r,i,o,s){let a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,g=new WeakMap,y,v=!1;try{v=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(C){}function m(C,w){return v?new OffscreenCanvas(C,w):Gv("canvas")}function h(C,w,H,ee){let ue=1;if((C.width>ee||C.height>ee)&&(ue=ee/Math.max(C.width,C.height)),ue<1||w===!0)if(typeof HTMLImageElement!="undefined"&&C instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&C instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&C instanceof ImageBitmap){let G=w?U$:Math.floor,ge=G(ue*C.width),fe=G(ue*C.height);y===void 0&&(y=m(ge,fe));let le=H?m(ge,fe):y;return le.width=ge,le.height=fe,le.getContext("2d").drawImage(C,0,0,ge,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+C.width+"x"+C.height+") to ("+ge+"x"+fe+")."),le}else return"data"in C&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+C.width+"x"+C.height+")."),C;return C}function b(C){return pN(C.width)&&pN(C.height)}function x(C){return a?!1:C.wrapS!==jr||C.wrapT!==jr||C.minFilter!==Kn&&C.minFilter!==In}function _(C,w){return C.generateMipmaps&&w&&C.minFilter!==Kn&&C.minFilter!==In}function S(C){n.generateMipmap(C)}function M(C,w,H,ee,ue=!1){if(a===!1)return w;if(C!==null){if(n[C]!==void 0)return n[C];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+C+"'")}let G=w;return w===n.RED&&(H===n.FLOAT&&(G=n.R32F),H===n.HALF_FLOAT&&(G=n.R16F),H===n.UNSIGNED_BYTE&&(G=n.R8)),w===n.RG&&(H===n.FLOAT&&(G=n.RG32F),H===n.HALF_FLOAT&&(G=n.RG16F),H===n.UNSIGNED_BYTE&&(G=n.RG8)),w===n.RGBA&&(H===n.FLOAT&&(G=n.RGBA32F),H===n.HALF_FLOAT&&(G=n.RGBA16F),H===n.UNSIGNED_BYTE&&(G=ee===mn&&ue===!1?n.SRGB8_ALPHA8:n.RGBA8),H===n.UNSIGNED_SHORT_4_4_4_4&&(G=n.RGBA4),H===n.UNSIGNED_SHORT_5_5_5_1&&(G=n.RGB5_A1)),(G===n.R16F||G===n.R32F||G===n.RG16F||G===n.RG32F||G===n.RGBA16F||G===n.RGBA32F)&&e.get("EXT_color_buffer_float"),G}function E(C,w,H){return _(C,H)===!0||C.isFramebufferTexture&&C.minFilter!==Kn&&C.minFilter!==In?Math.log2(Math.max(w.width,w.height))+1:C.mipmaps!==void 0&&C.mipmaps.length>0?C.mipmaps.length:C.isCompressedTexture&&Array.isArray(C.image)?w.mipmaps.length:1}function L(C){return C===Kn||C===NS||C===IS?n.NEAREST:n.LINEAR}function I(C){let w=C.target;w.removeEventListener("dispose",I),A(w),w.isVideoTexture&&g.delete(w),s.memory.textures--}function T(C){let w=C.target;w.removeEventListener("dispose",T),k(w)}function A(C){let w=r.get(C);w.__webglInit!==void 0&&(n.deleteTexture(w.__webglTexture),r.remove(C))}function k(C){let w=C.texture,H=r.get(C),ee=r.get(w);if(!!C){if(ee.__webglTexture!==void 0&&(n.deleteTexture(ee.__webglTexture),s.memory.textures--),C.depthTexture&&C.depthTexture.dispose(),C.isWebGLCubeRenderTarget)for(let ue=0;ue<6;ue++)n.deleteFramebuffer(H.__webglFramebuffer[ue]),H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer[ue]);else n.deleteFramebuffer(H.__webglFramebuffer),H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&n.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer&&n.deleteRenderbuffer(H.__webglColorRenderbuffer),H.__webglDepthRenderbuffer&&n.deleteRenderbuffer(H.__webglDepthRenderbuffer);if(C.isWebGLMultipleRenderTargets)for(let ue=0,G=w.length;ue<G;ue++){let ge=r.get(w[ue]);ge.__webglTexture&&(n.deleteTexture(ge.__webglTexture),s.memory.textures--),r.remove(w[ue])}r.remove(w),r.remove(C)}}let U=0;function F(){U=0}function N(){let C=U;return C>=l&&console.warn("THREE.WebGLTextures: Trying to use "+C+" texture units while this GPU supports only "+l),U+=1,C}function j(C,w){let H=r.get(C);if(C.isVideoTexture&&be(C),C.version>0&&H.__version!==C.version){let ee=C.image;if(ee===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{D(H,C,w);return}}t.activeTexture(n.TEXTURE0+w),t.bindTexture(n.TEXTURE_2D,H.__webglTexture)}function Y(C,w){let H=r.get(C);if(C.version>0&&H.__version!==C.version){D(H,C,w);return}t.activeTexture(n.TEXTURE0+w),t.bindTexture(n.TEXTURE_2D_ARRAY,H.__webglTexture)}function pe(C,w){let H=r.get(C);if(C.version>0&&H.__version!==C.version){D(H,C,w);return}t.activeTexture(n.TEXTURE0+w),t.bindTexture(n.TEXTURE_3D,H.__webglTexture)}function $(C,w){let H=r.get(C);if(C.version>0&&H.__version!==C.version){Te(H,C,w);return}t.activeTexture(n.TEXTURE0+w),t.bindTexture(n.TEXTURE_CUBE_MAP,H.__webglTexture)}let W={[Fv]:n.REPEAT,[jr]:n.CLAMP_TO_EDGE,[kv]:n.MIRRORED_REPEAT},J={[Kn]:n.NEAREST,[NS]:n.NEAREST_MIPMAP_NEAREST,[IS]:n.NEAREST_MIPMAP_LINEAR,[In]:n.LINEAR,[VD]:n.LINEAR_MIPMAP_NEAREST,[ed]:n.LINEAR_MIPMAP_LINEAR};function oe(C,w,H){if(H?(n.texParameteri(C,n.TEXTURE_WRAP_S,W[w.wrapS]),n.texParameteri(C,n.TEXTURE_WRAP_T,W[w.wrapT]),(C===n.TEXTURE_3D||C===n.TEXTURE_2D_ARRAY)&&n.texParameteri(C,n.TEXTURE_WRAP_R,W[w.wrapR]),n.texParameteri(C,n.TEXTURE_MAG_FILTER,J[w.magFilter]),n.texParameteri(C,n.TEXTURE_MIN_FILTER,J[w.minFilter])):(n.texParameteri(C,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(C,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(C===n.TEXTURE_3D||C===n.TEXTURE_2D_ARRAY)&&n.texParameteri(C,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(w.wrapS!==jr||w.wrapT!==jr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(C,n.TEXTURE_MAG_FILTER,L(w.magFilter)),n.texParameteri(C,n.TEXTURE_MIN_FILTER,L(w.minFilter)),w.minFilter!==Kn&&w.minFilter!==In&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){let ee=e.get("EXT_texture_filter_anisotropic");if(w.type===Oa&&e.has("OES_texture_float_linear")===!1||a===!1&&w.type===td&&e.has("OES_texture_half_float_linear")===!1)return;(w.anisotropy>1||r.get(w).__currentAnisotropy)&&(n.texParameterf(C,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(w.anisotropy,i.getMaxAnisotropy())),r.get(w).__currentAnisotropy=w.anisotropy)}}function re(C,w){C.__webglInit===void 0&&(C.__webglInit=!0,w.addEventListener("dispose",I),C.__webglTexture=n.createTexture(),s.memory.textures++)}function D(C,w,H){let ee=n.TEXTURE_2D;w.isDataTexture2DArray&&(ee=n.TEXTURE_2D_ARRAY),w.isDataTexture3D&&(ee=n.TEXTURE_3D),re(C,w),t.activeTexture(n.TEXTURE0+H),t.bindTexture(ee,C.__webglTexture),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,w.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,w.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,w.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);let ue=x(w)&&b(w.image)===!1,G=h(w.image,ue,!1,u);G=Ce(w,G);let ge=b(G)||a,fe=o.convert(w.format,w.encoding),le=o.convert(w.type),ve=M(w.internalFormat,fe,le,w.encoding,w.isVideoTexture);oe(ee,w,ge);let De,z=w.mipmaps,xe=a&&w.isVideoTexture!==!0,ne=C.__version===void 0,he=E(w,G,ge);if(w.isDepthTexture)ve=n.DEPTH_COMPONENT,a?w.type===Oa?ve=n.DEPTH_COMPONENT32F:w.type===Bv?ve=n.DEPTH_COMPONENT24:w.type===nd?ve=n.DEPTH24_STENCIL8:ve=n.DEPTH_COMPONENT16:w.type===Oa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),w.format===wc&&ve===n.DEPTH_COMPONENT&&w.type!==ah&&w.type!==Bv&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),w.type=ah,le=o.convert(w.type)),w.format===rd&&ve===n.DEPTH_COMPONENT&&(ve=n.DEPTH_STENCIL,w.type!==nd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),w.type=nd,le=o.convert(w.type))),xe&&ne?t.texStorage2D(n.TEXTURE_2D,1,ve,G.width,G.height):t.texImage2D(n.TEXTURE_2D,0,ve,G.width,G.height,0,fe,le,null);else if(w.isDataTexture)if(z.length>0&&ge){xe&&ne&&t.texStorage2D(n.TEXTURE_2D,he,ve,z[0].width,z[0].height);for(let V=0,Ee=z.length;V<Ee;V++)De=z[V],xe?t.texSubImage2D(n.TEXTURE_2D,0,0,0,De.width,De.height,fe,le,De.data):t.texImage2D(n.TEXTURE_2D,V,ve,De.width,De.height,0,fe,le,De.data);w.generateMipmaps=!1}else xe?(ne&&t.texStorage2D(n.TEXTURE_2D,he,ve,G.width,G.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,G.width,G.height,fe,le,G.data)):t.texImage2D(n.TEXTURE_2D,0,ve,G.width,G.height,0,fe,le,G.data);else if(w.isCompressedTexture){xe&&ne&&t.texStorage2D(n.TEXTURE_2D,he,ve,z[0].width,z[0].height);for(let V=0,Ee=z.length;V<Ee;V++)De=z[V],w.format!==qr?fe!==null?xe?t.compressedTexSubImage2D(n.TEXTURE_2D,V,0,0,De.width,De.height,fe,De.data):t.compressedTexImage2D(n.TEXTURE_2D,V,ve,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xe?t.texSubImage2D(n.TEXTURE_2D,V,0,0,De.width,De.height,fe,le,De.data):t.texImage2D(n.TEXTURE_2D,V,ve,De.width,De.height,0,fe,le,De.data)}else if(w.isDataTexture2DArray)xe?(ne&&t.texStorage3D(n.TEXTURE_2D_ARRAY,he,ve,G.width,G.height,G.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,G.width,G.height,G.depth,fe,le,G.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,ve,G.width,G.height,G.depth,0,fe,le,G.data);else if(w.isDataTexture3D)xe?(ne&&t.texStorage3D(n.TEXTURE_3D,he,ve,G.width,G.height,G.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,G.width,G.height,G.depth,fe,le,G.data)):t.texImage3D(n.TEXTURE_3D,0,ve,G.width,G.height,G.depth,0,fe,le,G.data);else if(w.isFramebufferTexture)xe&&ne?t.texStorage2D(n.TEXTURE_2D,he,ve,G.width,G.height):t.texImage2D(n.TEXTURE_2D,0,ve,G.width,G.height,0,fe,le,null);else if(z.length>0&&ge){xe&&ne&&t.texStorage2D(n.TEXTURE_2D,he,ve,z[0].width,z[0].height);for(let V=0,Ee=z.length;V<Ee;V++)De=z[V],xe?t.texSubImage2D(n.TEXTURE_2D,V,0,0,fe,le,De):t.texImage2D(n.TEXTURE_2D,V,ve,fe,le,De);w.generateMipmaps=!1}else xe?(ne&&t.texStorage2D(n.TEXTURE_2D,he,ve,G.width,G.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,fe,le,G)):t.texImage2D(n.TEXTURE_2D,0,ve,fe,le,G);_(w,ge)&&S(ee),C.__version=w.version,w.onUpdate&&w.onUpdate(w)}function Te(C,w,H){if(w.image.length!==6)return;re(C,w),t.activeTexture(n.TEXTURE0+H),t.bindTexture(n.TEXTURE_CUBE_MAP,C.__webglTexture),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,w.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,w.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,w.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);let ee=w&&(w.isCompressedTexture||w.image[0].isCompressedTexture),ue=w.image[0]&&w.image[0].isDataTexture,G=[];for(let V=0;V<6;V++)!ee&&!ue?G[V]=h(w.image[V],!1,!0,c):G[V]=ue?w.image[V].image:w.image[V],G[V]=Ce(w,G[V]);let ge=G[0],fe=b(ge)||a,le=o.convert(w.format,w.encoding),ve=o.convert(w.type),De=M(w.internalFormat,le,ve,w.encoding),z=a&&w.isVideoTexture!==!0,xe=C.__version===void 0,ne=E(w,ge,fe);oe(n.TEXTURE_CUBE_MAP,w,fe);let he;if(ee){z&&xe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ne,De,ge.width,ge.height);for(let V=0;V<6;V++){he=G[V].mipmaps;for(let Ee=0;Ee<he.length;Ee++){let Oe=he[Ee];w.format!==qr?le!==null?z?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee,0,0,Oe.width,Oe.height,le,Oe.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee,De,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee,0,0,Oe.width,Oe.height,le,ve,Oe.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee,De,Oe.width,Oe.height,0,le,ve,Oe.data)}}}else{he=w.mipmaps,z&&xe&&(he.length>0&&ne++,t.texStorage2D(n.TEXTURE_CUBE_MAP,ne,De,G[0].width,G[0].height));for(let V=0;V<6;V++)if(ue){z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,0,0,0,G[V].width,G[V].height,le,ve,G[V].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,0,De,G[V].width,G[V].height,0,le,ve,G[V].data);for(let Ee=0;Ee<he.length;Ee++){let We=he[Ee].image[V].image;z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee+1,0,0,We.width,We.height,le,ve,We.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee+1,De,We.width,We.height,0,le,ve,We.data)}}else{z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,0,0,0,le,ve,G[V]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,0,De,le,ve,G[V]);for(let Ee=0;Ee<he.length;Ee++){let Oe=he[Ee];z?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee+1,0,0,le,ve,Oe.image[V]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+V,Ee+1,De,le,ve,Oe.image[V])}}}_(w,fe)&&S(n.TEXTURE_CUBE_MAP),C.__version=w.version,w.onUpdate&&w.onUpdate(w)}function de(C,w,H,ee,ue){let G=o.convert(H.format,H.encoding),ge=o.convert(H.type),fe=M(H.internalFormat,G,ge,H.encoding);r.get(w).__hasExternalTextures||(ue===n.TEXTURE_3D||ue===n.TEXTURE_2D_ARRAY?t.texImage3D(ue,0,fe,w.width,w.height,w.depth,0,G,ge,null):t.texImage2D(ue,0,fe,w.width,w.height,0,G,ge,null)),t.bindFramebuffer(n.FRAMEBUFFER,C),w.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ee,ue,r.get(H).__webglTexture,0,Se(w)):n.framebufferTexture2D(n.FRAMEBUFFER,ee,ue,r.get(H).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Me(C,w,H){if(n.bindRenderbuffer(n.RENDERBUFFER,C),w.depthBuffer&&!w.stencilBuffer){let ee=n.DEPTH_COMPONENT16;if(H||w.useRenderToTexture){let ue=w.depthTexture;ue&&ue.isDepthTexture&&(ue.type===Oa?ee=n.DEPTH_COMPONENT32F:ue.type===Bv&&(ee=n.DEPTH_COMPONENT24));let G=Se(w);w.useRenderToTexture?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,G,ee,w.width,w.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,G,ee,w.width,w.height)}else n.renderbufferStorage(n.RENDERBUFFER,ee,w.width,w.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,C)}else if(w.depthBuffer&&w.stencilBuffer){let ee=Se(w);H&&w.useRenderbuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,ee,n.DEPTH24_STENCIL8,w.width,w.height):w.useRenderToTexture?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ee,n.DEPTH24_STENCIL8,w.width,w.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,w.width,w.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,C)}else{let ee=w.isWebGLMultipleRenderTargets===!0?w.texture[0]:w.texture,ue=o.convert(ee.format,ee.encoding),G=o.convert(ee.type),ge=M(ee.internalFormat,ue,G,ee.encoding),fe=Se(w);H&&w.useRenderbuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,fe,ge,w.width,w.height):w.useRenderToTexture?f.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,fe,ge,w.width,w.height):n.renderbufferStorage(n.RENDERBUFFER,ge,w.width,w.height)}n.bindRenderbuffer(n.RENDERBUFFER,null)}function me(C,w){if(w&&w.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,C),!(w.depthTexture&&w.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(w.depthTexture).__webglTexture||w.depthTexture.image.width!==w.width||w.depthTexture.image.height!==w.height)&&(w.depthTexture.image.width=w.width,w.depthTexture.image.height=w.height,w.depthTexture.needsUpdate=!0),j(w.depthTexture,0);let ee=r.get(w.depthTexture).__webglTexture,ue=Se(w);if(w.depthTexture.format===wc)w.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ee,0,ue):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ee,0);else if(w.depthTexture.format===rd)w.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ee,0,ue):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ee,0);else throw new Error("Unknown depthTexture format")}function Pe(C){let w=r.get(C),H=C.isWebGLCubeRenderTarget===!0;if(C.depthTexture&&!w.__autoAllocateDepthBuffer){if(H)throw new Error("target.depthTexture not supported in Cube render targets");me(w.__webglFramebuffer,C)}else if(H){w.__webglDepthbuffer=[];for(let ee=0;ee<6;ee++)t.bindFramebuffer(n.FRAMEBUFFER,w.__webglFramebuffer[ee]),w.__webglDepthbuffer[ee]=n.createRenderbuffer(),Me(w.__webglDepthbuffer[ee],C,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,w.__webglFramebuffer),w.__webglDepthbuffer=n.createRenderbuffer(),Me(w.__webglDepthbuffer,C,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function _e(C,w,H){let ee=r.get(C);w!==void 0&&de(ee.__webglFramebuffer,C,C.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),H!==void 0&&Pe(C)}function q(C){let w=C.texture,H=r.get(C),ee=r.get(w);C.addEventListener("dispose",T),C.isWebGLMultipleRenderTargets!==!0&&(ee.__webglTexture===void 0&&(ee.__webglTexture=n.createTexture()),ee.__version=w.version,s.memory.textures++);let ue=C.isWebGLCubeRenderTarget===!0,G=C.isWebGLMultipleRenderTargets===!0,ge=w.isDataTexture3D||w.isDataTexture2DArray,fe=b(C)||a;if(ue){H.__webglFramebuffer=[];for(let le=0;le<6;le++)H.__webglFramebuffer[le]=n.createFramebuffer()}else if(H.__webglFramebuffer=n.createFramebuffer(),G)if(i.drawBuffers){let le=C.texture;for(let ve=0,De=le.length;ve<De;ve++){let z=r.get(le[ve]);z.__webglTexture===void 0&&(z.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(C.useRenderbuffer)if(a){H.__webglMultisampledFramebuffer=n.createFramebuffer(),H.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,H.__webglColorRenderbuffer);let le=o.convert(w.format,w.encoding),ve=o.convert(w.type),De=M(w.internalFormat,le,ve,w.encoding),z=Se(C);n.renderbufferStorageMultisample(n.RENDERBUFFER,z,De,C.width,C.height),t.bindFramebuffer(n.FRAMEBUFFER,H.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,H.__webglColorRenderbuffer),n.bindRenderbuffer(n.RENDERBUFFER,null),C.depthBuffer&&(H.__webglDepthRenderbuffer=n.createRenderbuffer(),Me(H.__webglDepthRenderbuffer,C,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ue){t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture),oe(n.TEXTURE_CUBE_MAP,w,fe);for(let le=0;le<6;le++)de(H.__webglFramebuffer[le],C,w,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+le);_(w,fe)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(G){let le=C.texture;for(let ve=0,De=le.length;ve<De;ve++){let z=le[ve],xe=r.get(z);t.bindTexture(n.TEXTURE_2D,xe.__webglTexture),oe(n.TEXTURE_2D,z,fe),de(H.__webglFramebuffer,C,z,n.COLOR_ATTACHMENT0+ve,n.TEXTURE_2D),_(z,fe)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let le=n.TEXTURE_2D;ge&&(a?le=w.isDataTexture3D?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(le,ee.__webglTexture),oe(le,w,fe),de(H.__webglFramebuffer,C,w,n.COLOR_ATTACHMENT0,le),_(w,fe)&&S(le),t.unbindTexture()}C.depthBuffer&&Pe(C)}function ce(C){let w=b(C)||a,H=C.isWebGLMultipleRenderTargets===!0?C.texture:[C.texture];for(let ee=0,ue=H.length;ee<ue;ee++){let G=H[ee];if(_(G,w)){let ge=C.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,fe=r.get(G).__webglTexture;t.bindTexture(ge,fe),S(ge),t.unbindTexture()}}}function se(C){if(C.useRenderbuffer)if(a){let w=C.width,H=C.height,ee=n.COLOR_BUFFER_BIT,ue=[n.COLOR_ATTACHMENT0],G=C.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;C.depthBuffer&&ue.push(G),C.ignoreDepthForMultisampleCopy||(C.depthBuffer&&(ee|=n.DEPTH_BUFFER_BIT),C.stencilBuffer&&(ee|=n.STENCIL_BUFFER_BIT));let ge=r.get(C);t.bindFramebuffer(n.READ_FRAMEBUFFER,ge.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ge.__webglFramebuffer),C.ignoreDepthForMultisampleCopy&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[G]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[G])),n.blitFramebuffer(0,0,w,H,0,0,w,H,ee,n.NEAREST),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ue),t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ge.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Se(C){return a&&(C.useRenderbuffer||C.useRenderToTexture)?Math.min(d,C.samples):0}function be(C){let w=s.render.frame;g.get(C)!==w&&(g.set(C,w),C.update())}function Ce(C,w){let H=C.encoding,ee=C.format,ue=C.type;return C.isCompressedTexture===!0||C.isVideoTexture===!0||C.format===HS||H!==Fa&&(H===mn?a===!1?e.has("EXT_sRGB")===!0&&ee===qr?(C.format=HS,C.minFilter=In,C.generateMipmaps=!1):w=Ba.sRGBToLinear(w):(ee!==qr||ue!==Ia)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",H)),w}let Le=!1,Ne=!1;function Ge(C,w){C&&C.isWebGLRenderTarget&&(Le===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Le=!0),C=C.texture),j(C,w)}function Ue(C,w){C&&C.isWebGLCubeRenderTarget&&(Ne===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Ne=!0),C=C.texture),$(C,w)}this.allocateTextureUnit=N,this.resetTextureUnits=F,this.setTexture2D=j,this.setTexture2DArray=Y,this.setTexture3D=pe,this.setTextureCube=$,this.rebindTextures=_e,this.setupRenderTarget=q,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=se,this.setupDepthRenderbuffer=Pe,this.setupFrameBufferTexture=de,this.safeSetTexture2D=Ge,this.safeSetTextureCube=Ue}function k7(n,e,t){let r=t.isWebGL2;function i(o,s=null){let a;if(o===Ia)return n.UNSIGNED_BYTE;if(o===b$)return n.UNSIGNED_SHORT_4_4_4_4;if(o===_$)return n.UNSIGNED_SHORT_5_5_5_1;if(o===y$)return n.BYTE;if(o===v$)return n.SHORT;if(o===ah)return n.UNSIGNED_SHORT;if(o===x$)return n.INT;if(o===Bv)return n.UNSIGNED_INT;if(o===Oa)return n.FLOAT;if(o===td)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===w$)return n.ALPHA;if(o===qr)return n.RGBA;if(o===T$)return n.LUMINANCE;if(o===S$)return n.LUMINANCE_ALPHA;if(o===wc)return n.DEPTH_COMPONENT;if(o===rd)return n.DEPTH_STENCIL;if(o===M$)return n.RED;if(o===HS)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(o===E$)return n.RED_INTEGER;if(o===P$)return n.RG;if(o===R$)return n.RG_INTEGER;if(o===C$)return n.RGBA_INTEGER;if(o===OS||o===FS||o===kS||o===BS)if(s===mn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(o===OS)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===FS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===kS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===BS)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===OS)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===FS)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===kS)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===BS)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===HD||o===WD||o===GD||o===jD)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===HD)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===WD)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===GD)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===jD)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===A$)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===qD||o===$D)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(o===qD)return s===mn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===$D)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===XD||o===YD||o===JD||o===ZD||o===KD||o===QD||o===eN||o===tN||o===nN||o===rN||o===iN||o===oN||o===sN||o===aN)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(o===XD)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===YD)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===JD)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===ZD)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===KD)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===QD)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===eN)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===tN)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===nN)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===rN)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===iN)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===oN)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===sN)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===aN)return s===mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===lN)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(o===lN)return s===mn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===nd)return r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}var fM=class extends xr{constructor(e=[]){super();this.cameras=e}};fM.prototype.isArrayCamera=!0;var Ic=class extends St{constructor(){super();this.type="Group"}};Ic.prototype.isGroup=!0;var $Me={type:"move"},hM=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ic,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ic,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ic,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null,a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent($Me))),c&&e.hand){s=!0;for(let y of e.hand.values()){let v=t.getJointPose(y,r);if(c.joints[y.jointName]===void 0){let h=new Ic;h.matrixAutoUpdate=!1,h.visible=!1,c.joints[y.jointName]=h,c.add(h)}let m=c.joints[y.jointName];v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=v.radius),m.visible=v!==null}let u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),f=.02,g=.005;c.inputState.pinching&&p>f+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=f-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}},o0=class extends Qn{constructor(e,t,r,i,o,s,a,l,c,u){if(u=u!==void 0?u:wc,u!==wc&&u!==rd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===wc&&(r=ah),r===void 0&&u===rd&&(r=nd),super(null,i,o,s,a,l,u,r,c),this.image={width:e,height:t},this.magFilter=a!==void 0?a:Kn,this.minFilter=l!==void 0?l:Kn,this.flipY=!1,this.generateMipmaps=!1}};o0.prototype.isDepthTexture=!0;var B7=class extends ka{constructor(e,t){super();let r=this,i=null,o=1,s=null,a="local-floor",l=e.extensions.has("WEBGL_multisampled_render_to_texture"),c=null,u=null,d=null,p=null,f=!1,g=null,y=t.getContextAttributes(),v=null,m=null,h=[],b=new Map,x=new xr;x.layers.enable(1),x.viewport=new jt;let _=new xr;_.layers.enable(2),_.viewport=new jt;let S=[x,_],M=new fM;M.layers.enable(1),M.layers.enable(2);let E=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function($){let W=h[$];return W===void 0&&(W=new hM,h[$]=W),W.getTargetRaySpace()},this.getControllerGrip=function($){let W=h[$];return W===void 0&&(W=new hM,h[$]=W),W.getGripSpace()},this.getHand=function($){let W=h[$];return W===void 0&&(W=new hM,h[$]=W),W.getHandSpace()};function I($){let W=b.get($.inputSource);W&&W.dispatchEvent({type:$.type,data:$.inputSource})}function T(){b.forEach(function($,W){$.disconnect(W)}),b.clear(),E=null,L=null,e.setRenderTarget(v),p=null,d=null,u=null,i=null,m=null,pe.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function($){o=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){a=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return u},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function($){if(i=$,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",T),i.addEventListener("inputsourceschange",A),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let W={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(i,t,W),i.updateRenderState({baseLayer:p}),m=new Ui(p.framebufferWidth,p.framebufferHeight,{format:qr,type:Ia,encoding:e.outputEncoding})}else{f=y.antialias;let W=null,J=null,oe=null;y.depth&&(oe=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,W=y.stencil?rd:wc,J=y.stencil?nd:ah);let re={colorFormat:e.outputEncoding===mn?t.SRGB8_ALPHA8:t.RGBA8,depthFormat:oe,scaleFactor:o};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(re),i.updateRenderState({layers:[d]}),f?m=new jv(d.textureWidth,d.textureHeight,{format:qr,type:Ia,depthTexture:new o0(d.textureWidth,d.textureHeight,J,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:y.stencil,ignoreDepth:d.ignoreDepthValues,useRenderToTexture:l,encoding:e.outputEncoding}):m=new Ui(d.textureWidth,d.textureHeight,{format:qr,type:Ia,depthTexture:new o0(d.textureWidth,d.textureHeight,J,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:y.stencil,ignoreDepth:d.ignoreDepthValues,encoding:e.outputEncoding})}m.isXRRenderTarget=!0,this.setFoveation(1),s=await i.requestReferenceSpace(a),pe.setContext(i),pe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function A($){let W=i.inputSources;for(let J=0;J<h.length;J++)b.set(W[J],h[J]);for(let J=0;J<$.removed.length;J++){let oe=$.removed[J],re=b.get(oe);re&&(re.dispatchEvent({type:"disconnected",data:oe}),b.delete(oe))}for(let J=0;J<$.added.length;J++){let oe=$.added[J],re=b.get(oe);re&&re.dispatchEvent({type:"connected",data:oe})}}let k=new Q,U=new Q;function F($,W,J){k.setFromMatrixPosition(W.matrixWorld),U.setFromMatrixPosition(J.matrixWorld);let oe=k.distanceTo(U),re=W.projectionMatrix.elements,D=J.projectionMatrix.elements,Te=re[14]/(re[10]-1),de=re[14]/(re[10]+1),Me=(re[9]+1)/re[5],me=(re[9]-1)/re[5],Pe=(re[8]-1)/re[0],_e=(D[8]+1)/D[0],q=Te*Pe,ce=Te*_e,se=oe/(-Pe+_e),Se=se*-Pe;W.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(Se),$.translateZ(se),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert();let be=Te+se,Ce=de+se,Le=q-Se,Ne=ce+(oe-Se),Ge=Me*de/Ce*be,Ue=me*de/Ce*be;$.projectionMatrix.makePerspective(Le,Ne,Ge,Ue,be,Ce)}function N($,W){W===null?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(W.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.updateCamera=function($){if(i===null)return;M.near=_.near=x.near=$.near,M.far=_.far=x.far=$.far,(E!==M.near||L!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),E=M.near,L=M.far);let W=$.parent,J=M.cameras;N(M,W);for(let re=0;re<J.length;re++)N(J[re],W);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),$.position.copy(M.position),$.quaternion.copy(M.quaternion),$.scale.copy(M.scale),$.matrix.copy(M.matrix),$.matrixWorld.copy(M.matrixWorld);let oe=$.children;for(let re=0,D=oe.length;re<D;re++)oe[re].updateMatrixWorld(!0);J.length===2?F(M,x,_):M.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return M},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function($){d!==null&&(d.fixedFoveation=$),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=$)};let j=null;function Y($,W){if(c=W.getViewerPose(s),g=W,c!==null){let oe=c.views;p!==null&&(e.setRenderTargetFramebuffer(m,p.framebuffer),e.setRenderTarget(m));let re=!1;oe.length!==M.cameras.length&&(M.cameras.length=0,re=!0);for(let D=0;D<oe.length;D++){let Te=oe[D],de=null;if(p!==null)de=p.getViewport(Te);else{let me=u.getViewSubImage(d,Te);de=me.viewport,D===0&&(e.setRenderTargetTextures(m,me.colorTexture,d.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(m))}let Me=S[D];Me.matrix.fromArray(Te.transform.matrix),Me.projectionMatrix.fromArray(Te.projectionMatrix),Me.viewport.set(de.x,de.y,de.width,de.height),D===0&&M.matrix.copy(Me.matrix),re===!0&&M.cameras.push(Me)}}let J=i.inputSources;for(let oe=0;oe<h.length;oe++){let re=h[oe],D=J[oe];re.update(D,W,s)}j&&j($,W),g=null}let pe=new n7;pe.setAnimationLoop(Y),this.setAnimationLoop=function($){j=$},this.dispose=function(){}}};function XMe(n){function e(m,h){m.fogColor.value.copy(h.color),h.isFog?(m.fogNear.value=h.near,m.fogFar.value=h.far):h.isFogExp2&&(m.fogDensity.value=h.density)}function t(m,h,b,x,_){h.isMeshBasicMaterial?r(m,h):h.isMeshLambertMaterial?(r(m,h),l(m,h)):h.isMeshToonMaterial?(r(m,h),u(m,h)):h.isMeshPhongMaterial?(r(m,h),c(m,h)):h.isMeshStandardMaterial?(r(m,h),h.isMeshPhysicalMaterial?p(m,h,_):d(m,h)):h.isMeshMatcapMaterial?(r(m,h),f(m,h)):h.isMeshDepthMaterial?(r(m,h),g(m,h)):h.isMeshDistanceMaterial?(r(m,h),y(m,h)):h.isMeshNormalMaterial?(r(m,h),v(m,h)):h.isLineBasicMaterial?(i(m,h),h.isLineDashedMaterial&&o(m,h)):h.isPointsMaterial?s(m,h,b,x):h.isSpriteMaterial?a(m,h):h.isShadowMaterial?(m.color.value.copy(h.color),m.opacity.value=h.opacity):h.isShaderMaterial&&(h.uniformsNeedUpdate=!1)}function r(m,h){m.opacity.value=h.opacity,h.color&&m.diffuse.value.copy(h.color),h.emissive&&m.emissive.value.copy(h.emissive).multiplyScalar(h.emissiveIntensity),h.map&&(m.map.value=h.map),h.alphaMap&&(m.alphaMap.value=h.alphaMap),h.specularMap&&(m.specularMap.value=h.specularMap),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest);let b=n.get(h).envMap;b&&(m.envMap.value=b,m.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=h.reflectivity,m.ior.value=h.ior,m.refractionRatio.value=h.refractionRatio),h.lightMap&&(m.lightMap.value=h.lightMap,m.lightMapIntensity.value=h.lightMapIntensity),h.aoMap&&(m.aoMap.value=h.aoMap,m.aoMapIntensity.value=h.aoMapIntensity);let x;h.map?x=h.map:h.specularMap?x=h.specularMap:h.displacementMap?x=h.displacementMap:h.normalMap?x=h.normalMap:h.bumpMap?x=h.bumpMap:h.roughnessMap?x=h.roughnessMap:h.metalnessMap?x=h.metalnessMap:h.alphaMap?x=h.alphaMap:h.emissiveMap?x=h.emissiveMap:h.clearcoatMap?x=h.clearcoatMap:h.clearcoatNormalMap?x=h.clearcoatNormalMap:h.clearcoatRoughnessMap?x=h.clearcoatRoughnessMap:h.specularIntensityMap?x=h.specularIntensityMap:h.specularColorMap?x=h.specularColorMap:h.transmissionMap?x=h.transmissionMap:h.thicknessMap?x=h.thicknessMap:h.sheenColorMap?x=h.sheenColorMap:h.sheenRoughnessMap&&(x=h.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uvTransform.value.copy(x.matrix));let _;h.aoMap?_=h.aoMap:h.lightMap&&(_=h.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),m.uv2Transform.value.copy(_.matrix))}function i(m,h){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity}function o(m,h){m.dashSize.value=h.dashSize,m.totalSize.value=h.dashSize+h.gapSize,m.scale.value=h.scale}function s(m,h,b,x){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity,m.size.value=h.size*b,m.scale.value=x*.5,h.map&&(m.map.value=h.map),h.alphaMap&&(m.alphaMap.value=h.alphaMap),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest);let _;h.map?_=h.map:h.alphaMap&&(_=h.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),m.uvTransform.value.copy(_.matrix))}function a(m,h){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity,m.rotation.value=h.rotation,h.map&&(m.map.value=h.map),h.alphaMap&&(m.alphaMap.value=h.alphaMap),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest);let b;h.map?b=h.map:h.alphaMap&&(b=h.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}function l(m,h){h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap)}function c(m,h){m.specular.value.copy(h.specular),m.shininess.value=Math.max(h.shininess,1e-4),h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap),h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===Zn&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===Zn&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}function u(m,h){h.gradientMap&&(m.gradientMap.value=h.gradientMap),h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap),h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===Zn&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===Zn&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}function d(m,h){m.roughness.value=h.roughness,m.metalness.value=h.metalness,h.roughnessMap&&(m.roughnessMap.value=h.roughnessMap),h.metalnessMap&&(m.metalnessMap.value=h.metalnessMap),h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap),h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===Zn&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===Zn&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias),n.get(h).envMap&&(m.envMapIntensity.value=h.envMapIntensity)}function p(m,h,b){d(m,h),m.ior.value=h.ior,h.sheen>0&&(m.sheenColor.value.copy(h.sheenColor).multiplyScalar(h.sheen),m.sheenRoughness.value=h.sheenRoughness,h.sheenColorMap&&(m.sheenColorMap.value=h.sheenColorMap),h.sheenRoughnessMap&&(m.sheenRoughnessMap.value=h.sheenRoughnessMap)),h.clearcoat>0&&(m.clearcoat.value=h.clearcoat,m.clearcoatRoughness.value=h.clearcoatRoughness,h.clearcoatMap&&(m.clearcoatMap.value=h.clearcoatMap),h.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=h.clearcoatRoughnessMap),h.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(h.clearcoatNormalScale),m.clearcoatNormalMap.value=h.clearcoatNormalMap,h.side===Zn&&m.clearcoatNormalScale.value.negate())),h.transmission>0&&(m.transmission.value=h.transmission,m.transmissionSamplerMap.value=b.texture,m.transmissionSamplerSize.value.set(b.width,b.height),h.transmissionMap&&(m.transmissionMap.value=h.transmissionMap),m.thickness.value=h.thickness,h.thicknessMap&&(m.thicknessMap.value=h.thicknessMap),m.attenuationDistance.value=h.attenuationDistance,m.attenuationColor.value.copy(h.attenuationColor)),m.specularIntensity.value=h.specularIntensity,m.specularColor.value.copy(h.specularColor),h.specularIntensityMap&&(m.specularIntensityMap.value=h.specularIntensityMap),h.specularColorMap&&(m.specularColorMap.value=h.specularColorMap)}function f(m,h){h.matcap&&(m.matcap.value=h.matcap),h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===Zn&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===Zn&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}function g(m,h){h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}function y(m,h){h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias),m.referencePosition.value.copy(h.referencePosition),m.nearDistance.value=h.nearDistance,m.farDistance.value=h.farDistance}function v(m,h){h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===Zn&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===Zn&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function YMe(){let n=Gv("canvas");return n.style.display="block",n}function Jt(n={}){let e=n.canvas!==void 0?n.canvas:YMe(),t=n.context!==void 0?n.context:null,r=n.alpha!==void 0?n.alpha:!1,i=n.depth!==void 0?n.depth:!0,o=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1,d=null,p=null,f=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Fa,this.physicallyCorrectLights=!1,this.toneMapping=Na,this.toneMappingExposure=1;let y=this,v=!1,m=0,h=0,b=null,x=-1,_=null,S=new jt,M=new jt,E=null,L=e.width,I=e.height,T=1,A=null,k=null,U=new jt(0,0,L,I),F=new jt(0,0,L,I),N=!1,j=new Ph,Y=!1,pe=!1,$=null,W=new ct,J=new Q,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function re(){return b===null?T:1}let D=t;function Te(P,X){for(let te=0;te<P.length;te++){let K=P[te],ae=e.getContext(K,X);if(ae!==null)return ae}return null}try{let P={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${AS}`),e.addEventListener("webglcontextlost",De,!1),e.addEventListener("webglcontextrestored",z,!1),D===null){let X=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&X.shift(),D=Te(X,P),D===null)throw Te(X)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}D.getShaderPrecisionFormat===void 0&&(D.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(P){throw console.error("THREE.WebGLRenderer: "+P.message),P}let de,Me,me,Pe,_e,q,ce,se,Se,be,Ce,Le,Ne,Ge,Ue,C,w,H,ee,ue,G,ge,fe;function le(){de=new vSe(D),Me=new pSe(D,de,n),de.init(Me),ge=new k7(D,de,Me),me=new jMe(D,de,Me),Pe=new _Se(D),_e=new IMe,q=new qMe(D,de,me,_e,Me,ge,Pe),ce=new hSe(y),se=new ySe(y),Se=new F_e(D,Me),fe=new uSe(D,de,Se,Me),be=new xSe(D,Se,Pe,fe),Ce=new MSe(D,be,Se,Pe),ee=new SSe(D,Me,q),C=new fSe(_e),Le=new NMe(y,ce,se,de,Me,fe,C),Ne=new XMe(_e),Ge=new FMe,Ue=new HMe(de,Me),H=new cSe(y,ce,me,Ce,r,a),w=new F7(y,Ce,Me),ue=new dSe(D,de,Pe,Me),G=new bSe(D,de,Pe,Me),Pe.programs=Le.programs,y.capabilities=Me,y.extensions=de,y.properties=_e,y.renderLists=Ge,y.shadowMap=w,y.state=me,y.info=Pe}le();let ve=new B7(y,D);this.xr=ve,this.getContext=function(){return D},this.getContextAttributes=function(){return D.getContextAttributes()},this.forceContextLoss=function(){let P=de.get("WEBGL_lose_context");P&&P.loseContext()},this.forceContextRestore=function(){let P=de.get("WEBGL_lose_context");P&&P.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(P){P!==void 0&&(T=P,this.setSize(L,I,!1))},this.getSize=function(P){return P.set(L,I)},this.setSize=function(P,X,te){if(ve.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=P,I=X,e.width=Math.floor(P*T),e.height=Math.floor(X*T),te!==!1&&(e.style.width=P+"px",e.style.height=X+"px"),this.setViewport(0,0,P,X)},this.getDrawingBufferSize=function(P){return P.set(L*T,I*T).floor()},this.setDrawingBufferSize=function(P,X,te){L=P,I=X,T=te,e.width=Math.floor(P*te),e.height=Math.floor(X*te),this.setViewport(0,0,P,X)},this.getCurrentViewport=function(P){return P.copy(S)},this.getViewport=function(P){return P.copy(U)},this.setViewport=function(P,X,te,K){P.isVector4?U.set(P.x,P.y,P.z,P.w):U.set(P,X,te,K),me.viewport(S.copy(U).multiplyScalar(T).floor())},this.getScissor=function(P){return P.copy(F)},this.setScissor=function(P,X,te,K){P.isVector4?F.set(P.x,P.y,P.z,P.w):F.set(P,X,te,K),me.scissor(M.copy(F).multiplyScalar(T).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(P){me.setScissorTest(N=P)},this.setOpaqueSort=function(P){A=P},this.setTransparentSort=function(P){k=P},this.getClearColor=function(P){return P.copy(H.getClearColor())},this.setClearColor=function(){H.setClearColor.apply(H,arguments)},this.getClearAlpha=function(){return H.getClearAlpha()},this.setClearAlpha=function(){H.setClearAlpha.apply(H,arguments)},this.clear=function(P,X,te){let K=0;(P===void 0||P)&&(K|=D.COLOR_BUFFER_BIT),(X===void 0||X)&&(K|=D.DEPTH_BUFFER_BIT),(te===void 0||te)&&(K|=D.STENCIL_BUFFER_BIT),D.clear(K)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",De,!1),e.removeEventListener("webglcontextrestored",z,!1),Ge.dispose(),Ue.dispose(),_e.dispose(),ce.dispose(),se.dispose(),Ce.dispose(),fe.dispose(),Le.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",Oe),ve.removeEventListener("sessionend",We),$&&($.dispose(),$=null),nt.stop()};function De(P){P.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function z(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;let P=Pe.autoReset,X=w.enabled,te=w.autoUpdate,K=w.needsUpdate,ae=w.type;le(),Pe.autoReset=P,w.enabled=X,w.autoUpdate=te,w.needsUpdate=K,w.type=ae}function xe(P){let X=P.target;X.removeEventListener("dispose",xe),ne(X)}function ne(P){he(P),_e.remove(P)}function he(P){let X=_e.get(P).programs;X!==void 0&&(X.forEach(function(te){Le.releaseProgram(te)}),P.isShaderMaterial&&Le.releaseShaderCache(P))}this.renderBufferDirect=function(P,X,te,K,ae,He){X===null&&(X=oe);let ke=ae.isMesh&&ae.matrixWorld.determinant()<0,qe=Dt(P,X,te,K,ae);me.setMaterial(K,ke);let je=te.index,lt=te.attributes.position;if(je===null){if(lt===void 0||lt.count===0)return}else if(je.count===0)return;let it=1;K.wireframe===!0&&(je=be.getWireframeAttribute(te),it=2),fe.setup(ae,K,qe,te,je);let Qe,ut=ue;je!==null&&(Qe=Se.get(je),ut=G,ut.setIndex(Qe));let _r=je!==null?je.count:lt.count,xi=te.drawRange.start*it,rt=te.drawRange.count*it,Rn=He!==null?He.start*it:0,wt=He!==null?He.count*it:Infinity,Gn=Math.max(xi,Rn),Ys=Math.min(_r,xi+rt,Rn+wt)-1,jn=Math.max(0,Ys-Gn+1);if(jn!==0){if(ae.isMesh)K.wireframe===!0?(me.setLineWidth(K.wireframeLinewidth*re()),ut.setMode(D.LINES)):ut.setMode(D.TRIANGLES);else if(ae.isLine){let ur=K.linewidth;ur===void 0&&(ur=1),me.setLineWidth(ur*re()),ae.isLineSegments?ut.setMode(D.LINES):ae.isLineLoop?ut.setMode(D.LINE_LOOP):ut.setMode(D.LINE_STRIP)}else ae.isPoints?ut.setMode(D.POINTS):ae.isSprite&&ut.setMode(D.TRIANGLES);if(ae.isInstancedMesh)ut.renderInstances(Gn,jn,ae.count);else if(te.isInstancedBufferGeometry){let ur=Math.min(te.instanceCount,te._maxInstanceCount);ut.renderInstances(Gn,jn,ur)}else ut.render(Gn,jn)}},this.compile=function(P,X){p=Ue.get(P),p.init(),g.push(p),P.traverseVisible(function(te){te.isLight&&te.layers.test(X.layers)&&(p.pushLight(te),te.castShadow&&p.pushShadow(te))}),p.setupLights(y.physicallyCorrectLights),P.traverse(function(te){let K=te.material;if(K)if(Array.isArray(K))for(let ae=0;ae<K.length;ae++){let He=K[ae];zt(He,P,te)}else zt(K,P,te)}),g.pop(),p=null};let V=null;function Ee(P){V&&V(P)}function Oe(){nt.stop()}function We(){nt.start()}let nt=new n7;nt.setAnimationLoop(Ee),typeof window!="undefined"&&nt.setContext(window),this.setAnimationLoop=function(P){V=P,ve.setAnimationLoop(P),P===null?nt.stop():nt.start()},ve.addEventListener("sessionstart",Oe),ve.addEventListener("sessionend",We),this.render=function(P,X){if(X!==void 0&&X.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;P.autoUpdate===!0&&P.updateMatrixWorld(),X.parent===null&&X.updateMatrixWorld(),ve.enabled===!0&&ve.isPresenting===!0&&(ve.cameraAutoUpdate===!0&&ve.updateCamera(X),X=ve.getCamera()),P.isScene===!0&&P.onBeforeRender(y,P,X,b),p=Ue.get(P,g.length),p.init(),g.push(p),W.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),j.setFromProjectionMatrix(W),pe=this.localClippingEnabled,Y=C.init(this.clippingPlanes,pe,X),d=Ge.get(P,f.length),d.init(),f.push(d),Xe(P,X,0,y.sortObjects),d.finish(),y.sortObjects===!0&&d.sort(A,k),Y===!0&&C.beginShadows();let te=p.state.shadowsArray;if(w.render(te,P,X),Y===!0&&C.endShadows(),this.info.autoReset===!0&&this.info.reset(),H.render(d,P),p.setupLights(y.physicallyCorrectLights),X.isArrayCamera){let K=X.cameras;for(let ae=0,He=K.length;ae<He;ae++){let ke=K[ae];bt(d,P,ke,ke.viewport)}}else bt(d,P,X);b!==null&&(q.updateMultisampleRenderTarget(b),q.updateRenderTargetMipmap(b)),P.isScene===!0&&P.onAfterRender(y,P,X),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1),fe.resetDefaultState(),x=-1,_=null,g.pop(),g.length>0?p=g[g.length-1]:p=null,f.pop(),f.length>0?d=f[f.length-1]:d=null};function Xe(P,X,te,K){if(P.visible===!1)return;if(P.layers.test(X.layers)){if(P.isGroup)te=P.renderOrder;else if(P.isLOD)P.autoUpdate===!0&&P.update(X);else if(P.isLight)p.pushLight(P),P.castShadow&&p.pushShadow(P);else if(P.isSprite){if(!P.frustumCulled||j.intersectsSprite(P)){K&&J.setFromMatrixPosition(P.matrixWorld).applyMatrix4(W);let ke=Ce.update(P),qe=P.material;qe.visible&&d.push(P,ke,qe,te,J.z,null)}}else if((P.isMesh||P.isLine||P.isPoints)&&(P.isSkinnedMesh&&P.skeleton.frame!==Pe.render.frame&&(P.skeleton.update(),P.skeleton.frame=Pe.render.frame),!P.frustumCulled||j.intersectsObject(P))){K&&J.setFromMatrixPosition(P.matrixWorld).applyMatrix4(W);let ke=Ce.update(P),qe=P.material;if(Array.isArray(qe)){let je=ke.groups;for(let lt=0,it=je.length;lt<it;lt++){let Qe=je[lt],ut=qe[Qe.materialIndex];ut&&ut.visible&&d.push(P,ke,ut,te,J.z,Qe)}}else qe.visible&&d.push(P,ke,qe,te,J.z,null)}}let He=P.children;for(let ke=0,qe=He.length;ke<qe;ke++)Xe(He[ke],X,te,K)}function bt(P,X,te,K){let ae=P.opaque,He=P.transmissive,ke=P.transparent;p.setupLightsView(te),He.length>0&&yt(ae,X,te),K&&me.viewport(S.copy(K)),ae.length>0&&un(ae,X,te),He.length>0&&un(He,X,te),ke.length>0&&un(ke,X,te)}function yt(P,X,te){if($===null){let ke=s===!0&&Me.isWebGL2===!0?jv:Ui;$=new ke(1024,1024,{generateMipmaps:!0,type:ge.convert(td)!==null?td:Ia,minFilter:ed,magFilter:Kn,wrapS:jr,wrapT:jr,useRenderToTexture:de.has("WEBGL_multisampled_render_to_texture")})}let K=y.getRenderTarget();y.setRenderTarget($),y.clear();let ae=y.toneMapping;y.toneMapping=Na,un(P,X,te),y.toneMapping=ae,q.updateMultisampleRenderTarget($),q.updateRenderTargetMipmap($),y.setRenderTarget(K)}function un(P,X,te){let K=X.isScene===!0?X.overrideMaterial:null;for(let ae=0,He=P.length;ae<He;ae++){let ke=P[ae],qe=ke.object,je=ke.geometry,lt=K===null?ke.material:K,it=ke.group;qe.layers.test(te.layers)&&zo(qe,X,te,je,lt,it)}}function zo(P,X,te,K,ae,He){P.onBeforeRender(y,X,te,K,ae,He),P.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,P.matrixWorld),P.normalMatrix.getNormalMatrix(P.modelViewMatrix),ae.onBeforeRender(y,X,te,K,P,He),ae.transparent===!0&&ae.side===Ju?(ae.side=Zn,ae.needsUpdate=!0,y.renderBufferDirect(te,X,K,ae,P,He),ae.side=Yu,ae.needsUpdate=!0,y.renderBufferDirect(te,X,K,ae,P,He),ae.side=Ju):y.renderBufferDirect(te,X,K,ae,P,He),P.onAfterRender(y,X,te,K,ae,He)}function zt(P,X,te){X.isScene!==!0&&(X=oe);let K=_e.get(P),ae=p.state.lights,He=p.state.shadowsArray,ke=ae.state.version,qe=Le.getParameters(P,ae.state,He,X,te),je=Le.getProgramCacheKey(qe),lt=K.programs;K.environment=P.isMeshStandardMaterial?X.environment:null,K.fog=X.fog,K.envMap=(P.isMeshStandardMaterial?se:ce).get(P.envMap||K.environment),lt===void 0&&(P.addEventListener("dispose",xe),lt=new Map,K.programs=lt);let it=lt.get(je);if(it!==void 0){if(K.currentProgram===it&&K.lightsStateVersion===ke)return Rt(P,qe),it}else qe.uniforms=Le.getUniforms(P),P.onBuild(te,qe,y),P.onBeforeCompile(qe,y),it=Le.acquireProgram(qe,je),lt.set(je,it),K.uniforms=qe.uniforms;let Qe=K.uniforms;(!P.isShaderMaterial&&!P.isRawShaderMaterial||P.clipping===!0)&&(Qe.clippingPlanes=C.uniform),Rt(P,qe),K.needsLights=ht(P),K.lightsStateVersion=ke,K.needsLights&&(Qe.ambientLightColor.value=ae.state.ambient,Qe.lightProbe.value=ae.state.probe,Qe.directionalLights.value=ae.state.directional,Qe.directionalLightShadows.value=ae.state.directionalShadow,Qe.spotLights.value=ae.state.spot,Qe.spotLightShadows.value=ae.state.spotShadow,Qe.rectAreaLights.value=ae.state.rectArea,Qe.ltc_1.value=ae.state.rectAreaLTC1,Qe.ltc_2.value=ae.state.rectAreaLTC2,Qe.pointLights.value=ae.state.point,Qe.pointLightShadows.value=ae.state.pointShadow,Qe.hemisphereLights.value=ae.state.hemi,Qe.directionalShadowMap.value=ae.state.directionalShadowMap,Qe.directionalShadowMatrix.value=ae.state.directionalShadowMatrix,Qe.spotShadowMap.value=ae.state.spotShadowMap,Qe.spotShadowMatrix.value=ae.state.spotShadowMatrix,Qe.pointShadowMap.value=ae.state.pointShadowMap,Qe.pointShadowMatrix.value=ae.state.pointShadowMatrix);let ut=it.getUniforms(),_r=Nc.seqWithValue(ut.seq,Qe);return K.currentProgram=it,K.uniformsList=_r,it}function Rt(P,X){let te=_e.get(P);te.outputEncoding=X.outputEncoding,te.instancing=X.instancing,te.skinning=X.skinning,te.morphTargets=X.morphTargets,te.morphNormals=X.morphNormals,te.morphTargetsCount=X.morphTargetsCount,te.numClippingPlanes=X.numClippingPlanes,te.numIntersection=X.numClipIntersection,te.vertexAlphas=X.vertexAlphas,te.vertexTangents=X.vertexTangents,te.toneMapping=X.toneMapping}function Dt(P,X,te,K,ae){X.isScene!==!0&&(X=oe),q.resetTextureUnits();let He=X.fog,ke=K.isMeshStandardMaterial?X.environment:null,qe=b===null?y.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Fa,je=(K.isMeshStandardMaterial?se:ce).get(K.envMap||ke),lt=K.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,it=!!K.normalMap&&!!te.attributes.tangent,Qe=!!te.morphAttributes.position,ut=!!te.morphAttributes.normal,_r=te.morphAttributes.position?te.morphAttributes.position.length:0,xi=K.toneMapped?y.toneMapping:Na,rt=_e.get(K),Rn=p.state.lights;if(Y===!0&&(pe===!0||P!==_)){let Cn=P===_&&K.id===x;C.setState(K,P,Cn)}let wt=!1;K.version===rt.__version?(rt.needsLights&&rt.lightsStateVersion!==Rn.state.version||rt.outputEncoding!==qe||ae.isInstancedMesh&&rt.instancing===!1||!ae.isInstancedMesh&&rt.instancing===!0||ae.isSkinnedMesh&&rt.skinning===!1||!ae.isSkinnedMesh&&rt.skinning===!0||rt.envMap!==je||K.fog&&rt.fog!==He||rt.numClippingPlanes!==void 0&&(rt.numClippingPlanes!==C.numPlanes||rt.numIntersection!==C.numIntersection)||rt.vertexAlphas!==lt||rt.vertexTangents!==it||rt.morphTargets!==Qe||rt.morphNormals!==ut||rt.toneMapping!==xi||Me.isWebGL2===!0&&rt.morphTargetsCount!==_r)&&(wt=!0):(wt=!0,rt.__version=K.version);let Gn=rt.currentProgram;wt===!0&&(Gn=zt(K,X,ae));let Ys=!1,jn=!1,ur=!1,It=Gn.getUniforms(),Uo=rt.uniforms;if(me.useProgram(Gn.program)&&(Ys=!0,jn=!0,ur=!0),K.id!==x&&(x=K.id,jn=!0),Ys||_!==P){if(It.setValue(D,"projectionMatrix",P.projectionMatrix),Me.logarithmicDepthBuffer&&It.setValue(D,"logDepthBufFC",2/(Math.log(P.far+1)/Math.LN2)),_!==P&&(_=P,jn=!0,ur=!0),K.isShaderMaterial||K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshStandardMaterial||K.envMap){let Cn=It.map.cameraPosition;Cn!==void 0&&Cn.setValue(D,J.setFromMatrixPosition(P.matrixWorld))}(K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshLambertMaterial||K.isMeshBasicMaterial||K.isMeshStandardMaterial||K.isShaderMaterial)&&It.setValue(D,"isOrthographic",P.isOrthographicCamera===!0),(K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshLambertMaterial||K.isMeshBasicMaterial||K.isMeshStandardMaterial||K.isShaderMaterial||K.isShadowMaterial||ae.isSkinnedMesh)&&It.setValue(D,"viewMatrix",P.matrixWorldInverse)}if(ae.isSkinnedMesh){It.setOptional(D,ae,"bindMatrix"),It.setOptional(D,ae,"bindMatrixInverse");let Cn=ae.skeleton;Cn&&(Me.floatVertexTextures?(Cn.boneTexture===null&&Cn.computeBoneTexture(),It.setValue(D,"boneTexture",Cn.boneTexture,q),It.setValue(D,"boneTextureSize",Cn.boneTextureSize)):It.setOptional(D,Cn,"boneMatrices"))}return!!te&&(te.morphAttributes.position!==void 0||te.morphAttributes.normal!==void 0)&&ee.update(ae,te,K,Gn),(jn||rt.receiveShadow!==ae.receiveShadow)&&(rt.receiveShadow=ae.receiveShadow,It.setValue(D,"receiveShadow",ae.receiveShadow)),jn&&(It.setValue(D,"toneMappingExposure",y.toneMappingExposure),rt.needsLights&&Je(Uo,ur),He&&K.fog&&Ne.refreshFogUniforms(Uo,He),Ne.refreshMaterialUniforms(Uo,K,T,I,$),Nc.upload(D,rt.uniformsList,Uo,q)),K.isShaderMaterial&&K.uniformsNeedUpdate===!0&&(Nc.upload(D,rt.uniformsList,Uo,q),K.uniformsNeedUpdate=!1),K.isSpriteMaterial&&It.setValue(D,"center",ae.center),It.setValue(D,"modelViewMatrix",ae.modelViewMatrix),It.setValue(D,"normalMatrix",ae.normalMatrix),It.setValue(D,"modelMatrix",ae.matrixWorld),Gn}function Je(P,X){P.ambientLightColor.needsUpdate=X,P.lightProbe.needsUpdate=X,P.directionalLights.needsUpdate=X,P.directionalLightShadows.needsUpdate=X,P.pointLights.needsUpdate=X,P.pointLightShadows.needsUpdate=X,P.spotLights.needsUpdate=X,P.spotLightShadows.needsUpdate=X,P.rectAreaLights.needsUpdate=X,P.hemisphereLights.needsUpdate=X}function ht(P){return P.isMeshLambertMaterial||P.isMeshToonMaterial||P.isMeshPhongMaterial||P.isMeshStandardMaterial||P.isShadowMaterial||P.isShaderMaterial&&P.lights===!0}this.getActiveCubeFace=function(){return m},this.getActiveMipmapLevel=function(){return h},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(P,X,te){_e.get(P.texture).__webglTexture=X,_e.get(P.depthTexture).__webglTexture=te;let K=_e.get(P);K.__hasExternalTextures=!0,K.__hasExternalTextures&&(K.__autoAllocateDepthBuffer=te===void 0,K.__autoAllocateDepthBuffer||P.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),P.useRenderToTexture=!1,P.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(P,X){let te=_e.get(P);te.__webglFramebuffer=X,te.__useDefaultFramebuffer=X===void 0},this.setRenderTarget=function(P,X=0,te=0){b=P,m=X,h=te;let K=!0;if(P){let je=_e.get(P);je.__useDefaultFramebuffer!==void 0?(me.bindFramebuffer(D.FRAMEBUFFER,null),K=!1):je.__webglFramebuffer===void 0?q.setupRenderTarget(P):je.__hasExternalTextures&&q.rebindTextures(P,_e.get(P.texture).__webglTexture,_e.get(P.depthTexture).__webglTexture)}let ae=null,He=!1,ke=!1;if(P){let je=P.texture;(je.isDataTexture3D||je.isDataTexture2DArray)&&(ke=!0);let lt=_e.get(P).__webglFramebuffer;P.isWebGLCubeRenderTarget?(ae=lt[X],He=!0):P.useRenderbuffer?ae=_e.get(P).__webglMultisampledFramebuffer:ae=lt,S.copy(P.viewport),M.copy(P.scissor),E=P.scissorTest}else S.copy(U).multiplyScalar(T).floor(),M.copy(F).multiplyScalar(T).floor(),E=N;if(me.bindFramebuffer(D.FRAMEBUFFER,ae)&&Me.drawBuffers&&K&&me.drawBuffers(P,ae),me.viewport(S),me.scissor(M),me.setScissorTest(E),He){let je=_e.get(P.texture);D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_CUBE_MAP_POSITIVE_X+X,je.__webglTexture,te)}else if(ke){let je=_e.get(P.texture),lt=X||0;D.framebufferTextureLayer(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,je.__webglTexture,te||0,lt)}x=-1},this.readRenderTargetPixels=function(P,X,te,K,ae,He,ke){if(!(P&&P.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qe=_e.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&ke!==void 0&&(qe=qe[ke]),qe){me.bindFramebuffer(D.FRAMEBUFFER,qe);try{let je=P.texture,lt=je.format,it=je.type;if(lt!==qr&&ge.convert(lt)!==D.getParameter(D.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Qe=it===td&&(de.has("EXT_color_buffer_half_float")||Me.isWebGL2&&de.has("EXT_color_buffer_float"));if(it!==Ia&&ge.convert(it)!==D.getParameter(D.IMPLEMENTATION_COLOR_READ_TYPE)&&!(it===Oa&&(Me.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float")))&&!Qe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}D.checkFramebufferStatus(D.FRAMEBUFFER)===D.FRAMEBUFFER_COMPLETE?X>=0&&X<=P.width-K&&te>=0&&te<=P.height-ae&&D.readPixels(X,te,K,ae,ge.convert(lt),ge.convert(it),He):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{let je=b!==null?_e.get(b).__webglFramebuffer:null;me.bindFramebuffer(D.FRAMEBUFFER,je)}}},this.copyFramebufferToTexture=function(P,X,te=0){if(X.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}let K=Math.pow(2,-te),ae=Math.floor(X.image.width*K),He=Math.floor(X.image.height*K);q.setTexture2D(X,0),D.copyTexSubImage2D(D.TEXTURE_2D,te,0,0,P.x,P.y,ae,He),me.unbindTexture()},this.copyTextureToTexture=function(P,X,te,K=0){let ae=X.image.width,He=X.image.height,ke=ge.convert(te.format),qe=ge.convert(te.type);q.setTexture2D(te,0),D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,te.flipY),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),D.pixelStorei(D.UNPACK_ALIGNMENT,te.unpackAlignment),X.isDataTexture?D.texSubImage2D(D.TEXTURE_2D,K,P.x,P.y,ae,He,ke,qe,X.image.data):X.isCompressedTexture?D.compressedTexSubImage2D(D.TEXTURE_2D,K,P.x,P.y,X.mipmaps[0].width,X.mipmaps[0].height,ke,X.mipmaps[0].data):D.texSubImage2D(D.TEXTURE_2D,K,P.x,P.y,ke,qe,X.image),K===0&&te.generateMipmaps&&D.generateMipmap(D.TEXTURE_2D),me.unbindTexture()},this.copyTextureToTexture3D=function(P,X,te,K,ae=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let He=P.max.x-P.min.x+1,ke=P.max.y-P.min.y+1,qe=P.max.z-P.min.z+1,je=ge.convert(K.format),lt=ge.convert(K.type),it;if(K.isDataTexture3D)q.setTexture3D(K,0),it=D.TEXTURE_3D;else if(K.isDataTexture2DArray)q.setTexture2DArray(K,0),it=D.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}D.pixelStorei(D.UNPACK_FLIP_Y_WEBGL,K.flipY),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),D.pixelStorei(D.UNPACK_ALIGNMENT,K.unpackAlignment);let Qe=D.getParameter(D.UNPACK_ROW_LENGTH),ut=D.getParameter(D.UNPACK_IMAGE_HEIGHT),_r=D.getParameter(D.UNPACK_SKIP_PIXELS),xi=D.getParameter(D.UNPACK_SKIP_ROWS),rt=D.getParameter(D.UNPACK_SKIP_IMAGES),Rn=te.isCompressedTexture?te.mipmaps[0]:te.image;D.pixelStorei(D.UNPACK_ROW_LENGTH,Rn.width),D.pixelStorei(D.UNPACK_IMAGE_HEIGHT,Rn.height),D.pixelStorei(D.UNPACK_SKIP_PIXELS,P.min.x),D.pixelStorei(D.UNPACK_SKIP_ROWS,P.min.y),D.pixelStorei(D.UNPACK_SKIP_IMAGES,P.min.z),te.isDataTexture||te.isDataTexture3D?D.texSubImage3D(it,ae,X.x,X.y,X.z,He,ke,qe,je,lt,Rn.data):te.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),D.compressedTexSubImage3D(it,ae,X.x,X.y,X.z,He,ke,qe,je,Rn.data)):D.texSubImage3D(it,ae,X.x,X.y,X.z,He,ke,qe,je,lt,Rn),D.pixelStorei(D.UNPACK_ROW_LENGTH,Qe),D.pixelStorei(D.UNPACK_IMAGE_HEIGHT,ut),D.pixelStorei(D.UNPACK_SKIP_PIXELS,_r),D.pixelStorei(D.UNPACK_SKIP_ROWS,xi),D.pixelStorei(D.UNPACK_SKIP_IMAGES,rt),ae===0&&K.generateMipmaps&&D.generateMipmap(it),me.unbindTexture()},this.initTexture=function(P){q.setTexture2D(P,0),me.unbindTexture()},this.resetState=function(){m=0,h=0,b=null,me.reset(),fe.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Jt.prototype.isWebGLRenderer=!0;var $N=class extends Jt{};$N.prototype.isWebGL1Renderer=!0;var Nh=class{constructor(e,t=25e-5){this.name="",this.color=new Ke(e),this.density=t}clone(){return new Nh(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}};Nh.prototype.isFogExp2=!0;var Ih=class{constructor(e,t=1,r=1e3){this.name="",this.color=new Ke(e),this.near=t,this.far=r}clone(){return new Ih(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}};Ih.prototype.isFog=!0;var s0=class extends St{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};s0.prototype.isScene=!0;var Oc=class{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=lh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=uo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=uo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=uo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};Oc.prototype.isInterleavedBuffer=!0;var tr=new Q,qa=class{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)tr.x=this.getX(t),tr.y=this.getY(t),tr.z=this.getZ(t),tr.applyMatrix4(e),this.setXYZ(t,tr.x,tr.y,tr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)tr.x=this.getX(t),tr.y=this.getY(t),tr.z=this.getZ(t),tr.applyNormalMatrix(e),this.setXYZ(t,tr.x,tr.y,tr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)tr.x=this.getX(t),tr.y=this.getY(t),tr.z=this.getZ(t),tr.transformDirection(e),this.setXYZ(t,tr.x,tr.y,tr.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new Lt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};qa.prototype.isInterleavedBufferAttribute=!0;var a0=class extends vr{constructor(e){super();this.type="SpriteMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}};a0.prototype.isSpriteMaterial=!0;var Oh,l0=new Q,Fh=new Q,kh=new Q,Bh=new ze,c0=new ze,z7=new ct,mM=new Q,u0=new Q,gM=new Q,U7=new ze,XN=new ze,V7=new ze,d0=class extends St{constructor(e){super();if(this.type="Sprite",Oh===void 0){Oh=new mt;let t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Oc(t,5);Oh.setIndex([0,1,2,0,2,3]),Oh.setAttribute("position",new qa(r,3,0,!1)),Oh.setAttribute("uv",new qa(r,2,3,!1))}this.geometry=Oh,this.material=e!==void 0?e:new a0,this.center=new ze(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fh.setFromMatrixScale(this.matrixWorld),z7.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),kh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fh.multiplyScalar(-kh.z);let r=this.material.rotation,i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));let s=this.center;yM(mM.set(-.5,-.5,0),kh,s,Fh,i,o),yM(u0.set(.5,-.5,0),kh,s,Fh,i,o),yM(gM.set(.5,.5,0),kh,s,Fh,i,o),U7.set(0,0),XN.set(1,0),V7.set(1,1);let a=e.ray.intersectTriangle(mM,u0,gM,!1,l0);if(a===null&&(yM(u0.set(-.5,.5,0),kh,s,Fh,i,o),XN.set(0,1),a=e.ray.intersectTriangle(mM,gM,u0,!1,l0),a===null))return;let l=e.ray.origin.distanceTo(l0);l<e.near||l>e.far||t.push({distance:l,point:l0.clone(),uv:Hn.getUV(l0,mM,u0,gM,U7,XN,V7,new ze),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}};d0.prototype.isSprite=!0;function yM(n,e,t,r,i,o){Bh.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(c0.x=o*Bh.x-i*Bh.y,c0.y=i*Bh.x+o*Bh.y):c0.copy(Bh),n.copy(e),n.x+=c0.x,n.y+=c0.y,n.applyMatrix4(z7)}var vM=new Q,H7=new Q,YN=class extends St{constructor(){super();this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let t=e.levels;for(let r=0,i=t.length;r<i;r++){let o=t[r];this.addLevel(o.object.clone(),o.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);let r=this.levels,i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){vM.setFromMatrixPosition(this.matrixWorld);let i=e.ray.origin.distanceTo(vM);this.getObjectForDistance(i).raycast(e,t)}}update(e){let t=this.levels;if(t.length>1){vM.setFromMatrixPosition(e.matrixWorld),H7.setFromMatrixPosition(this.matrixWorld);let r=vM.distanceTo(H7)/e.zoom;t[0].object.visible=!0;let i,o;for(i=1,o=t.length;i<o&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<o;i++)t[i].object.visible=!1}}toJSON(e){let t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];let r=this.levels;for(let i=0,o=r.length;i<o;i++){let s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}},W7=new Q,G7=new jt,j7=new jt,JMe=new Q,q7=new ct,p0=class extends er{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ct,this.bindMatrixInverse=new ct}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new jt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);let o=1/e.manhattanLength();o!==Infinity?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){let r=this.skeleton,i=this.geometry;G7.fromBufferAttribute(i.attributes.skinIndex,e),j7.fromBufferAttribute(i.attributes.skinWeight,e),W7.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){let s=j7.getComponent(o);if(s!==0){let a=G7.getComponent(o);q7.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(JMe.copy(W7).applyMatrix4(q7),s)}}return t.applyMatrix4(this.bindMatrixInverse)}};p0.prototype.isSkinnedMesh=!0;var f0=class extends St{constructor(){super();this.type="Bone"}};f0.prototype.isBone=!0;var Fc=class extends Qn{constructor(e=null,t=1,r=1,i,o,s,a,l,c=Kn,u=Kn,d,p){super(null,s,a,l,c,u,i,o,d,p);this.image={data:e,width:t,height:r},this.magFilter=c,this.minFilter=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};Fc.prototype.isDataTexture=!0;var $7=new ct,ZMe=new ct,h0=class{constructor(e=[],t=[]){this.uuid=uo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ct)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let r=new ct;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){let e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){let a=e[o]?e[o].matrixWorld:ZMe;$7.multiplyMatrices(a,t[o]),$7.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new h0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=z$(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let r=new Fc(t,e,e,qr,Oa);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){let i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){let o=e.bones[r],s=t[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new f0),this.bones.push(s),this.boneInverses.push(new ct().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,r=this.boneInverses;for(let i=0,o=t.length;i<o;i++){let s=t[i];e.bones.push(s.uuid);let a=r[i];e.boneInverses.push(a.toArray())}return e}},kc=class extends Lt{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};kc.prototype.isInstancedBufferAttribute=!0;var X7=new ct,Y7=new ct,xM=[],m0=new er,bM=class extends er{constructor(e,t,r){super(e,t);this.instanceMatrix=new kc(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let r=this.matrixWorld,i=this.count;if(m0.geometry=this.geometry,m0.material=this.material,m0.material!==void 0)for(let o=0;o<i;o++){this.getMatrixAt(o,X7),Y7.multiplyMatrices(r,X7),m0.matrixWorld=Y7,m0.raycast(e,xM);for(let s=0,a=xM.length;s<a;s++){let l=xM[s];l.instanceId=o,l.object=this,t.push(l)}xM.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new kc(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}};bM.prototype.isInstancedMesh=!0;var br=class extends vr{constructor(e){super();this.type="LineBasicMaterial",this.color=new Ke(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}};br.prototype.isLineBasicMaterial=!0;var J7=new Q,Z7=new Q,K7=new ct,JN=new Ha,_M=new Ua,$s=class extends St{constructor(e=new mt,t=new br){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)J7.fromBufferAttribute(t,i-1),Z7.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=J7.distanceTo(Z7);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_M.copy(r.boundingSphere),_M.applyMatrix4(i),_M.radius+=o,e.ray.intersectsSphere(_M)===!1)return;K7.copy(i).invert(),JN.copy(e.ray).applyMatrix4(K7);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Q,u=new Q,d=new Q,p=new Q,f=this.isLineSegments?2:1;if(r.isBufferGeometry){let g=r.index,v=r.attributes.position;if(g!==null){let m=Math.max(0,s.start),h=Math.min(g.count,s.start+s.count);for(let b=m,x=h-1;b<x;b+=f){let _=g.getX(b),S=g.getX(b+1);if(c.fromBufferAttribute(v,_),u.fromBufferAttribute(v,S),JN.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);let E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{let m=Math.max(0,s.start),h=Math.min(v.count,s.start+s.count);for(let b=m,x=h-1;b<x;b+=f){if(c.fromBufferAttribute(v,b),u.fromBufferAttribute(v,b+1),JN.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);let S=e.ray.origin.distanceTo(p);S<e.near||S>e.far||t.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};$s.prototype.isLine=!0;var Q7=new Q,eX=new Q,Ri=class extends $s{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)Q7.fromBufferAttribute(t,i),eX.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Q7.distanceTo(eX);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}};Ri.prototype.isLineSegments=!0;var wM=class extends $s{constructor(e,t){super(e,t);this.type="LineLoop"}};wM.prototype.isLineLoop=!0;var Bc=class extends vr{constructor(e){super();this.type="PointsMaterial",this.color=new Ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}};Bc.prototype.isPointsMaterial=!0;var tX=new ct,ZN=new Ha,TM=new Ua,SM=new Q,zh=class extends St{constructor(e=new mt,t=new Bc){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),TM.copy(r.boundingSphere),TM.applyMatrix4(i),TM.radius+=o,e.ray.intersectsSphere(TM)===!1)return;tX.copy(i).invert(),ZN.copy(e.ray).applyMatrix4(tX);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){let c=r.index,d=r.attributes.position;if(c!==null){let p=Math.max(0,s.start),f=Math.min(c.count,s.start+s.count);for(let g=p,y=f;g<y;g++){let v=c.getX(g);SM.fromBufferAttribute(d,v),nX(SM,v,l,i,e,t,this)}}else{let p=Math.max(0,s.start),f=Math.min(d.count,s.start+s.count);for(let g=p,y=f;g<y;g++)SM.fromBufferAttribute(d,g),nX(SM,g,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};zh.prototype.isPoints=!0;function nX(n,e,t,r,i,o,s){let a=ZN.distanceSqToPoint(n);if(a<t){let l=new Q;ZN.closestPointToPoint(n,l),l.applyMatrix4(r);let c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}var KN=class extends Qn{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c);this.minFilter=s!==void 0?s:In,this.magFilter=o!==void 0?o:In,this.generateMipmaps=!1;let u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}};KN.prototype.isVideoTexture=!0;var QN=class extends Qn{constructor(e,t,r){super({width:e,height:t});this.format=r,this.magFilter=Kn,this.minFilter=Kn,this.generateMipmaps=!1,this.needsUpdate=!0}};QN.prototype.isFramebufferTexture=!0;var MM=class extends Qn{constructor(e,t,r,i,o,s,a,l,c,u,d,p){super(null,s,a,l,c,u,i,o,d,p);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}};MM.prototype.isCompressedTexture=!0;var eI=class extends Qn{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c);this.needsUpdate=!0}};eI.prototype.isCanvasTexture=!0;var hd=class extends mt{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);let o=[],s=[],a=[],l=[],c=new Q,u=new ze;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){let f=r+d/t*i;c.x=e*Math.cos(f),c.y=e*Math.sin(f),s.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(s[p]/e+1)/2,u.y=(s[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(l,2))}static fromJSON(e){return new hd(e.radius,e.segments,e.thetaStart,e.thetaLength)}},$a=class extends mt{constructor(e=1,t=1,r=1,i=8,o=1,s=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};let c=this;i=Math.floor(i),o=Math.floor(o);let u=[],d=[],p=[],f=[],g=0,y=[],v=r/2,m=0;h(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new at(d,3)),this.setAttribute("normal",new at(p,3)),this.setAttribute("uv",new at(f,2));function h(){let x=new Q,_=new Q,S=0,M=(t-e)/r;for(let E=0;E<=o;E++){let L=[],I=E/o,T=I*(t-e)+e;for(let A=0;A<=i;A++){let k=A/i,U=k*l+a,F=Math.sin(U),N=Math.cos(U);_.x=T*F,_.y=-I*r+v,_.z=T*N,d.push(_.x,_.y,_.z),x.set(F,M,N).normalize(),p.push(x.x,x.y,x.z),f.push(k,1-I),L.push(g++)}y.push(L)}for(let E=0;E<i;E++)for(let L=0;L<o;L++){let I=y[L][E],T=y[L+1][E],A=y[L+1][E+1],k=y[L][E+1];u.push(I,T,k),u.push(T,A,k),S+=6}c.addGroup(m,S,0),m+=S}function b(x){let _=g,S=new ze,M=new Q,E=0,L=x===!0?e:t,I=x===!0?1:-1;for(let A=1;A<=i;A++)d.push(0,v*I,0),p.push(0,I,0),f.push(.5,.5),g++;let T=g;for(let A=0;A<=i;A++){let U=A/i*l+a,F=Math.cos(U),N=Math.sin(U);M.x=L*N,M.y=v*I,M.z=L*F,d.push(M.x,M.y,M.z),p.push(0,I,0),S.x=F*.5+.5,S.y=N*.5*I+.5,f.push(S.x,S.y),g++}for(let A=0;A<i;A++){let k=_+A,U=T+A;x===!0?u.push(U,U+1,k):u.push(U+1,U,k),E+=3}c.addGroup(m,E,x===!0?1:2),m+=E}}static fromJSON(e){return new $a(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},md=class extends $a{constructor(e=1,t=1,r=8,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,t,r,i,o,s,a);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new md(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},cs=class extends mt{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};let o=[],s=[];a(i),c(r),u(),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(o.slice(),3)),this.setAttribute("uv",new at(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(h){let b=new Q,x=new Q,_=new Q;for(let S=0;S<t.length;S+=3)f(t[S+0],b),f(t[S+1],x),f(t[S+2],_),l(b,x,_,h)}function l(h,b,x,_){let S=_+1,M=[];for(let E=0;E<=S;E++){M[E]=[];let L=h.clone().lerp(x,E/S),I=b.clone().lerp(x,E/S),T=S-E;for(let A=0;A<=T;A++)A===0&&E===S?M[E][A]=L:M[E][A]=L.clone().lerp(I,A/T)}for(let E=0;E<S;E++)for(let L=0;L<2*(S-E)-1;L++){let I=Math.floor(L/2);L%2==0?(p(M[E][I+1]),p(M[E+1][I]),p(M[E][I])):(p(M[E][I+1]),p(M[E+1][I+1]),p(M[E+1][I]))}}function c(h){let b=new Q;for(let x=0;x<o.length;x+=3)b.x=o[x+0],b.y=o[x+1],b.z=o[x+2],b.normalize().multiplyScalar(h),o[x+0]=b.x,o[x+1]=b.y,o[x+2]=b.z}function u(){let h=new Q;for(let b=0;b<o.length;b+=3){h.x=o[b+0],h.y=o[b+1],h.z=o[b+2];let x=v(h)/2/Math.PI+.5,_=m(h)/Math.PI+.5;s.push(x,1-_)}g(),d()}function d(){for(let h=0;h<s.length;h+=6){let b=s[h+0],x=s[h+2],_=s[h+4],S=Math.max(b,x,_),M=Math.min(b,x,_);S>.9&&M<.1&&(b<.2&&(s[h+0]+=1),x<.2&&(s[h+2]+=1),_<.2&&(s[h+4]+=1))}}function p(h){o.push(h.x,h.y,h.z)}function f(h,b){let x=h*3;b.x=e[x+0],b.y=e[x+1],b.z=e[x+2]}function g(){let h=new Q,b=new Q,x=new Q,_=new Q,S=new ze,M=new ze,E=new ze;for(let L=0,I=0;L<o.length;L+=9,I+=6){h.set(o[L+0],o[L+1],o[L+2]),b.set(o[L+3],o[L+4],o[L+5]),x.set(o[L+6],o[L+7],o[L+8]),S.set(s[I+0],s[I+1]),M.set(s[I+2],s[I+3]),E.set(s[I+4],s[I+5]),_.copy(h).add(b).add(x).divideScalar(3);let T=v(_);y(S,I+0,h,T),y(M,I+2,b,T),y(E,I+4,x,T)}}function y(h,b,x,_){_<0&&h.x===1&&(s[b]=h.x-1),x.x===0&&x.z===0&&(s[b]=_/2/Math.PI+.5)}function v(h){return Math.atan2(h.z,-h.x)}function m(h){return Math.atan2(-h.y,Math.sqrt(h.x*h.x+h.z*h.z))}}static fromJSON(e){return new cs(e.vertices,e.indices,e.radius,e.details)}},gd=class extends cs{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gd(e.radius,e.detail)}},EM=new Q,PM=new Q,tI=new Q,RM=new Hn,CM=class extends mt{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){let i=Math.pow(10,4),o=Math.cos(ad*t),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},f=[];for(let g=0;g<l;g+=3){s?(c[0]=s.getX(g),c[1]=s.getX(g+1),c[2]=s.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);let{a:y,b:v,c:m}=RM;if(y.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),m.fromBufferAttribute(a,c[2]),RM.getNormal(tI),d[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let h=0;h<3;h++){let b=(h+1)%3,x=d[h],_=d[b],S=RM[u[h]],M=RM[u[b]],E=`${x}_${_}`,L=`${_}_${x}`;L in p&&p[L]?(tI.dot(p[L].normal)<=o&&(f.push(S.x,S.y,S.z),f.push(M.x,M.y,M.z)),p[L]=null):E in p||(p[E]={index0:c[h],index1:c[b],normal:tI.clone()})}}for(let g in p)if(p[g]){let{index0:y,index1:v}=p[g];EM.fromBufferAttribute(a,y),PM.fromBufferAttribute(a,v),f.push(EM.x,EM.y,EM.z),f.push(PM.x,PM.y,PM.z)}this.setAttribute("position",new at(f,3))}}},Hi=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,i=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let r=this.getLengths(),i=0,o=r.length,s;t?s=t:s=e*r[o-1];let a=0,l=o-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-s,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);let u=r[i],p=r[i+1]-u,f=(s-u)/p;return(i+f)/(o-1)}getTangent(e,t){let r=1e-4,i=e-r,o=e+r;i<0&&(i=0),o>1&&(o=1);let s=this.getPoint(i),a=this.getPoint(o),l=t||(s.isVector2?new ze:new Q);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){let r=new Q,i=[],o=[],s=[],a=new Q,l=new ct;for(let f=0;f<=e;f++){let g=f/e;i[f]=this.getTangentAt(g,new Q)}o[0]=new Q,s[0]=new Q;let c=Number.MAX_VALUE,u=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let f=1;f<=e;f++){if(o[f]=o[f-1].clone(),s[f]=s[f-1].clone(),a.crossVectors(i[f-1],i[f]),a.length()>Number.EPSILON){a.normalize();let g=Math.acos(Xr(i[f-1].dot(i[f]),-1,1));o[f].applyMatrix4(l.makeRotationAxis(a,g))}s[f].crossVectors(i[f],o[f])}if(t===!0){let f=Math.acos(Xr(o[0].dot(o[e]),-1,1));f/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(f=-f);for(let g=1;g<=e;g++)o[g].applyMatrix4(l.makeRotationAxis(i[g],f*g)),s[g].crossVectors(i[g],o[g])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},Uh=class extends Hi{constructor(e=0,t=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,t){let r=t||new ze,i=Math.PI*2,o=this.aEndAngle-this.aStartAngle,s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);let a=this.aStartAngle+e*o,l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){let u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,f=c-this.aY;l=p*u-f*d+this.aX,c=p*d+f*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};Uh.prototype.isEllipseCurve=!0;var AM=class extends Uh{constructor(e,t,r,i,o,s){super(e,t,r,r,i,o,s);this.type="ArcCurve"}};AM.prototype.isArcCurve=!0;function nI(){let n=0,e=0,t=0,r=0;function i(o,s,a,l){n=o,e=a,t=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,u,d){let p=(s-o)/c-(a-o)/(c+u)+(a-s)/u,f=(a-s)/u-(l-s)/(u+d)+(l-a)/d;p*=u,f*=u,i(s,a,p,f)},calc:function(o){let s=o*o,a=s*o;return n+e*o+t*s+r*a}}}var LM=new Q,rI=new nI,iI=new nI,oI=new nI,DM=class extends Hi{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Q){let r=t,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e,a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%o]:(LM.subVectors(i[0],i[1]).add(i[0]),c=LM);let d=i[a%o],p=i[(a+1)%o];if(this.closed||a+2<o?u=i[(a+2)%o]:(LM.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=LM),this.curveType==="centripetal"||this.curveType==="chordal"){let f=this.curveType==="chordal"?.5:.25,g=Math.pow(c.distanceToSquared(d),f),y=Math.pow(d.distanceToSquared(p),f),v=Math.pow(p.distanceToSquared(u),f);y<1e-4&&(y=1),g<1e-4&&(g=y),v<1e-4&&(v=y),rI.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,g,y,v),iI.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,g,y,v),oI.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,g,y,v)}else this.curveType==="catmullrom"&&(rI.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),iI.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),oI.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return r.set(rI.calc(l),iI.calc(l),oI.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new Q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};DM.prototype.isCatmullRomCurve3=!0;function rX(n,e,t,r,i){let o=(r-e)*.5,s=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+o+s)*l+(-3*t+3*r-2*o-s)*a+o*n+t}function KMe(n,e){let t=1-n;return t*t*e}function QMe(n,e){return 2*(1-n)*n*e}function eEe(n,e){return n*n*e}function g0(n,e,t,r){return KMe(n,e)+QMe(n,t)+eEe(n,r)}function tEe(n,e){let t=1-n;return t*t*t*e}function nEe(n,e){let t=1-n;return 3*t*t*n*e}function rEe(n,e){return 3*(1-n)*n*n*e}function iEe(n,e){return n*n*n*e}function y0(n,e,t,r,i){return tEe(n,e)+nEe(n,t)+rEe(n,r)+iEe(n,i)}var v0=class extends Hi{constructor(e=new ze,t=new ze,r=new ze,i=new ze){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ze){let r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(y0(e,i.x,o.x,s.x,a.x),y0(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};v0.prototype.isCubicBezierCurve=!0;var NM=class extends Hi{constructor(e=new Q,t=new Q,r=new Q,i=new Q){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Q){let r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(y0(e,i.x,o.x,s.x,a.x),y0(e,i.y,o.y,s.y,a.y),y0(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};NM.prototype.isCubicBezierCurve3=!0;var Vh=class extends Hi{constructor(e=new ze,t=new ze){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ze){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let r=t||new ze;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};Vh.prototype.isLineCurve=!0;var sI=class extends Hi{constructor(e=new Q,t=new Q){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Q){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},x0=class extends Hi{constructor(e=new ze,t=new ze,r=new ze){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ze){let r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(g0(e,i.x,o.x,s.x),g0(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};x0.prototype.isQuadraticBezierCurve=!0;var b0=class extends Hi{constructor(e=new Q,t=new Q,r=new Q){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Q){let r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(g0(e,i.x,o.x,s.x),g0(e,i.y,o.y,s.y),g0(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};b0.prototype.isQuadraticBezierCurve3=!0;var _0=class extends Hi{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new ze){let r=t,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(rX(a,l.x,c.x,u.x,d.x),rX(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new ze().fromArray(i))}return this}};_0.prototype.isSplineCurve=!0;var aI=Object.freeze({__proto__:null,ArcCurve:AM,CatmullRomCurve3:DM,CubicBezierCurve:v0,CubicBezierCurve3:NM,EllipseCurve:Uh,LineCurve:Vh,LineCurve3:sI,QuadraticBezierCurve:x0,QuadraticBezierCurve3:b0,SplineCurve:_0}),lI=class extends Hi{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Vh(t,e))}getPoint(e,t){let r=e*this.getLength(),i=this.getCurveLengths(),o=0;for(;o<i.length;){if(i[o]>=r){let s=i[o]-r,a=this.curves[o],l=a.getLength(),c=l===0?0:1-s/l;return a.getPointAt(c,t)}o++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],r;for(let i=0,o=this.curves;i<o.length;i++){let s=o[i],a=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let c=0;c<l.length;c++){let u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(new aI[i.type]().fromJSON(i))}return this}},Hh=class extends lI{constructor(e){super();this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new Vh(this.currentPoint.clone(),new ze(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){let o=new x0(this.currentPoint.clone(),new ze(e,t),new ze(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,s){let a=new v0(this.currentPoint.clone(),new ze(e,t),new ze(r,i),new ze(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),r=new _0(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,s){let a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,o,s),this}absarc(e,t,r,i,o,s){return this.absellipse(e,t,r,r,i,o,s),this}ellipse(e,t,r,i,o,s,a,l){let c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,o,s,a,l),this}absellipse(e,t,r,i,o,s,a,l){let c=new Uh(e,t,r,i,o,s,a,l);if(this.curves.length>0){let d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);let u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},us=class extends Hh{constructor(e){super(e);this.uuid=uo(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(new Hh().fromJSON(i))}return this}},oEe={triangulate:function(n,e,t=2){let r=e&&e.length,i=r?e[0]*t:n.length,o=iX(n,0,i,t,!0),s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,d,p,f;if(r&&(o=uEe(n,e,o,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)d=n[g],p=n[g+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);f=Math.max(c-a,u-l),f=f!==0?1/f:0}return w0(o,s,t,a,l,f),s}};function iX(n,e,t,r,i){let o,s;if(i===_Ee(n,e,t,r)>0)for(o=e;o<t;o+=r)s=aX(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=aX(o,n[o],n[o+1],s);return s&&IM(s,s.next)&&(S0(s),s=s.next),s}function zc(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(IM(t,t.next)||On(t.prev,t,t.next)===0)){if(S0(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function w0(n,e,t,r,i,o,s){if(!n)return;!s&&o&&mEe(n,r,i,o);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,o?aEe(n,r,i,o):sEe(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),S0(n),n=c.next,a=c.next;continue}if(n=c,n===a){s?s===1?(n=lEe(zc(n),e,t),w0(n,e,t,r,i,o,2)):s===2&&cEe(n,e,t,r,i,o):w0(zc(n),e,t,r,i,o,1);break}}}function sEe(n){let e=n.prev,t=n,r=n.next;if(On(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Wh(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&On(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function aEe(n,e,t,r){let i=n.prev,o=n,s=n.next;if(On(i,o,s)>=0)return!1;let a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,u=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,d=cI(a,l,e,t,r),p=cI(c,u,e,t,r),f=n.prevZ,g=n.nextZ;for(;f&&f.z>=d&&g&&g.z<=p;){if(f!==n.prev&&f!==n.next&&Wh(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&On(f.prev,f,f.next)>=0||(f=f.prevZ,g!==n.prev&&g!==n.next&&Wh(i.x,i.y,o.x,o.y,s.x,s.y,g.x,g.y)&&On(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;f&&f.z>=d;){if(f!==n.prev&&f!==n.next&&Wh(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&On(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;g&&g.z<=p;){if(g!==n.prev&&g!==n.next&&Wh(i.x,i.y,o.x,o.y,s.x,s.y,g.x,g.y)&&On(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function lEe(n,e,t){let r=n;do{let i=r.prev,o=r.next.next;!IM(i,o)&&oX(i,r,r.next,o)&&T0(i,o)&&T0(o,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(o.i/t),S0(r),S0(r.next),r=n=o),r=r.next}while(r!==n);return zc(r)}function cEe(n,e,t,r,i,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&vEe(s,a)){let l=sX(s,a);s=zc(s,s.next),l=zc(l,l.next),w0(s,e,t,r,i,o),w0(l,e,t,r,i,o);return}a=a.next}s=s.next}while(s!==n)}function uEe(n,e,t,r){let i=[],o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:n.length,c=iX(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(yEe(c));for(i.sort(dEe),o=0;o<i.length;o++)pEe(i[o],t),t=zc(t,t.next);return t}function dEe(n,e){return n.x-e.x}function pEe(n,e){if(e=fEe(n,e),e){let t=sX(e,n);zc(e,e.next),zc(t,t.next)}}function fEe(n,e){let t=e,r=n.x,i=n.y,o=-Infinity,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){let p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>o){if(o=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===o)return s;let a=s,l=s.x,c=s.y,u=Infinity,d;t=s;do r>=t.x&&t.x>=l&&r!==t.x&&Wh(i<c?r:o,i,l,c,i<c?o:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),T0(t,n)&&(d<u||d===u&&(t.x>s.x||t.x===s.x&&hEe(s,t)))&&(s=t,u=d)),t=t.next;while(t!==a);return s}function hEe(n,e){return On(n.prev,n,e.prev)<0&&On(e.next,n,n.next)<0}function mEe(n,e,t,r){let i=n;do i.z===null&&(i.z=cI(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,gEe(i)}function gEe(n){let e,t,r,i,o,s,a,l,c=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,c*=2}while(s>1);return n}function cI(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function yEe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Wh(n,e,t,r,i,o,s,a){return(i-s)*(e-a)-(n-s)*(o-a)>=0&&(n-s)*(r-a)-(t-s)*(e-a)>=0&&(t-s)*(o-a)-(i-s)*(r-a)>=0}function vEe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xEe(n,e)&&(T0(n,e)&&T0(e,n)&&bEe(n,e)&&(On(n.prev,n,e.prev)||On(n,e.prev,e))||IM(n,e)&&On(n.prev,n,n.next)>0&&On(e.prev,e,e.next)>0)}function On(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function IM(n,e){return n.x===e.x&&n.y===e.y}function oX(n,e,t,r){let i=FM(On(n,e,t)),o=FM(On(n,e,r)),s=FM(On(t,r,n)),a=FM(On(t,r,e));return!!(i!==o&&s!==a||i===0&&OM(n,t,e)||o===0&&OM(n,r,e)||s===0&&OM(t,n,r)||a===0&&OM(t,e,r))}function OM(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function FM(n){return n>0?1:n<0?-1:0}function xEe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&oX(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function T0(n,e){return On(n.prev,n,n.next)<0?On(n,e,n.next)>=0&&On(n,n.prev,e)>=0:On(n,e,n.prev)<0||On(n,n.next,e)<0}function bEe(n,e){let t=n,r=!1,i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function sX(n,e){let t=new uI(n.i,n.x,n.y),r=new uI(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function aX(n,e,t,r){let i=new uI(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function uI(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _Ee(n,e,t,r){let i=0;for(let o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}var ds=class{static area(e){let t=e.length,r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return ds.area(e)<0}static triangulateShape(e,t){let r=[],i=[],o=[];lX(e),cX(r,e);let s=e.length;t.forEach(lX);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,cX(r,t[l]);let a=oEe.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}};function lX(n){let e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function cX(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}var ps=class extends mt{constructor(e=new us([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){let c=e[a];s(c)}this.setAttribute("position",new at(i,3)),this.setAttribute("uv",new at(o,2)),this.computeVertexNormals();function s(a){let l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,f=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:f-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3,m=t.extrudePath,h=t.UVGenerator!==void 0?t.UVGenerator:wEe;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let b,x=!1,_,S,M,E;m&&(b=m.getSpacedPoints(u),x=!0,p=!1,_=m.computeFrenetFrames(u,!1),S=new Q,M=new Q,E=new Q),p||(v=0,f=0,g=0,y=0);let L=a.extractPoints(c),I=L.shape,T=L.holes;if(!ds.isClockWise(I)){I=I.reverse();for(let q=0,ce=T.length;q<ce;q++){let se=T[q];ds.isClockWise(se)&&(T[q]=se.reverse())}}let k=ds.triangulateShape(I,T),U=I;for(let q=0,ce=T.length;q<ce;q++){let se=T[q];I=I.concat(se)}function F(q,ce,se){return ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().multiplyScalar(se).add(q)}let N=I.length,j=k.length;function Y(q,ce,se){let Se,be,Ce,Le=q.x-ce.x,Ne=q.y-ce.y,Ge=se.x-q.x,Ue=se.y-q.y,C=Le*Le+Ne*Ne,w=Le*Ue-Ne*Ge;if(Math.abs(w)>Number.EPSILON){let H=Math.sqrt(C),ee=Math.sqrt(Ge*Ge+Ue*Ue),ue=ce.x-Ne/H,G=ce.y+Le/H,ge=se.x-Ue/ee,fe=se.y+Ge/ee,le=((ge-ue)*Ue-(fe-G)*Ge)/(Le*Ue-Ne*Ge);Se=ue+Le*le-q.x,be=G+Ne*le-q.y;let ve=Se*Se+be*be;if(ve<=2)return new ze(Se,be);Ce=Math.sqrt(ve/2)}else{let H=!1;Le>Number.EPSILON?Ge>Number.EPSILON&&(H=!0):Le<-Number.EPSILON?Ge<-Number.EPSILON&&(H=!0):Math.sign(Ne)===Math.sign(Ue)&&(H=!0),H?(Se=-Ne,be=Le,Ce=Math.sqrt(C)):(Se=Le,be=Ne,Ce=Math.sqrt(C/2))}return new ze(Se/Ce,be/Ce)}let pe=[];for(let q=0,ce=U.length,se=ce-1,Se=q+1;q<ce;q++,se++,Se++)se===ce&&(se=0),Se===ce&&(Se=0),pe[q]=Y(U[q],U[se],U[Se]);let $=[],W,J=pe.concat();for(let q=0,ce=T.length;q<ce;q++){let se=T[q];W=[];for(let Se=0,be=se.length,Ce=be-1,Le=Se+1;Se<be;Se++,Ce++,Le++)Ce===be&&(Ce=0),Le===be&&(Le=0),W[Se]=Y(se[Se],se[Ce],se[Le]);$.push(W),J=J.concat(W)}for(let q=0;q<v;q++){let ce=q/v,se=f*Math.cos(ce*Math.PI/2),Se=g*Math.sin(ce*Math.PI/2)+y;for(let be=0,Ce=U.length;be<Ce;be++){let Le=F(U[be],pe[be],Se);de(Le.x,Le.y,-se)}for(let be=0,Ce=T.length;be<Ce;be++){let Le=T[be];W=$[be];for(let Ne=0,Ge=Le.length;Ne<Ge;Ne++){let Ue=F(Le[Ne],W[Ne],Se);de(Ue.x,Ue.y,-se)}}}let oe=g+y;for(let q=0;q<N;q++){let ce=p?F(I[q],J[q],oe):I[q];x?(M.copy(_.normals[0]).multiplyScalar(ce.x),S.copy(_.binormals[0]).multiplyScalar(ce.y),E.copy(b[0]).add(M).add(S),de(E.x,E.y,E.z)):de(ce.x,ce.y,0)}for(let q=1;q<=u;q++)for(let ce=0;ce<N;ce++){let se=p?F(I[ce],J[ce],oe):I[ce];x?(M.copy(_.normals[q]).multiplyScalar(se.x),S.copy(_.binormals[q]).multiplyScalar(se.y),E.copy(b[q]).add(M).add(S),de(E.x,E.y,E.z)):de(se.x,se.y,d/u*q)}for(let q=v-1;q>=0;q--){let ce=q/v,se=f*Math.cos(ce*Math.PI/2),Se=g*Math.sin(ce*Math.PI/2)+y;for(let be=0,Ce=U.length;be<Ce;be++){let Le=F(U[be],pe[be],Se);de(Le.x,Le.y,d+se)}for(let be=0,Ce=T.length;be<Ce;be++){let Le=T[be];W=$[be];for(let Ne=0,Ge=Le.length;Ne<Ge;Ne++){let Ue=F(Le[Ne],W[Ne],Se);x?de(Ue.x,Ue.y+b[u-1].y,b[u-1].x+se):de(Ue.x,Ue.y,d+se)}}}re(),D();function re(){let q=i.length/3;if(p){let ce=0,se=N*ce;for(let Se=0;Se<j;Se++){let be=k[Se];Me(be[2]+se,be[1]+se,be[0]+se)}ce=u+v*2,se=N*ce;for(let Se=0;Se<j;Se++){let be=k[Se];Me(be[0]+se,be[1]+se,be[2]+se)}}else{for(let ce=0;ce<j;ce++){let se=k[ce];Me(se[2],se[1],se[0])}for(let ce=0;ce<j;ce++){let se=k[ce];Me(se[0]+N*u,se[1]+N*u,se[2]+N*u)}}r.addGroup(q,i.length/3-q,0)}function D(){let q=i.length/3,ce=0;Te(U,ce),ce+=U.length;for(let se=0,Se=T.length;se<Se;se++){let be=T[se];Te(be,ce),ce+=be.length}r.addGroup(q,i.length/3-q,1)}function Te(q,ce){let se=q.length;for(;--se>=0;){let Se=se,be=se-1;be<0&&(be=q.length-1);for(let Ce=0,Le=u+v*2;Ce<Le;Ce++){let Ne=N*Ce,Ge=N*(Ce+1),Ue=ce+Se+Ne,C=ce+be+Ne,w=ce+be+Ge,H=ce+Se+Ge;me(Ue,C,w,H)}}}function de(q,ce,se){l.push(q),l.push(ce),l.push(se)}function Me(q,ce,se){Pe(q),Pe(ce),Pe(se);let Se=i.length/3,be=h.generateTopUV(r,i,Se-3,Se-2,Se-1);_e(be[0]),_e(be[1]),_e(be[2])}function me(q,ce,se,Se){Pe(q),Pe(ce),Pe(Se),Pe(ce),Pe(se),Pe(Se);let be=i.length/3,Ce=h.generateSideWallUV(r,i,be-6,be-3,be-2,be-1);_e(Ce[0]),_e(Ce[1]),_e(Ce[3]),_e(Ce[1]),_e(Ce[2]),_e(Ce[3])}function Pe(q){i.push(l[q*3+0]),i.push(l[q*3+1]),i.push(l[q*3+2])}function _e(q){o.push(q.x),o.push(q.y)}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return TEe(t,r,e)}static fromJSON(e,t){let r=[];for(let o=0,s=e.shapes.length;o<s;o++){let a=t[e.shapes[o]];r.push(a)}let i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new aI[i.type]().fromJSON(i)),new ps(r,e.options)}},wEe={generateTopUV:function(n,e,t,r,i){let o=e[t*3],s=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new ze(o,s),new ze(a,l),new ze(c,u)]},generateSideWallUV:function(n,e,t,r,i,o){let s=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],p=e[i*3],f=e[i*3+1],g=e[i*3+2],y=e[o*3],v=e[o*3+1],m=e[o*3+2];return Math.abs(a-u)<Math.abs(s-c)?[new ze(s,1-l),new ze(c,1-d),new ze(p,1-g),new ze(y,1-m)]:[new ze(a,1-l),new ze(u,1-d),new ze(f,1-g),new ze(v,1-m)]}};function TEe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){let o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}var yd=class extends cs{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new yd(e.radius,e.detail)}},vd=class extends mt{constructor(e=[new ze(0,.5),new ze(.5,0),new ze(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Xr(i,0,Math.PI*2);let o=[],s=[],a=[],l=[],c=[],u=1/t,d=new Q,p=new ze,f=new Q,g=new Q,y=new Q,v=0,m=0;for(let h=0;h<=e.length-1;h++)switch(h){case 0:v=e[h+1].x-e[h].x,m=e[h+1].y-e[h].y,f.x=m*1,f.y=-v,f.z=m*0,y.copy(f),f.normalize(),l.push(f.x,f.y,f.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:v=e[h+1].x-e[h].x,m=e[h+1].y-e[h].y,f.x=m*1,f.y=-v,f.z=m*0,g.copy(f),f.x+=y.x,f.y+=y.y,f.z+=y.z,f.normalize(),l.push(f.x,f.y,f.z),y.copy(g)}for(let h=0;h<=t;h++){let b=r+h*u*i,x=Math.sin(b),_=Math.cos(b);for(let S=0;S<=e.length-1;S++){d.x=e[S].x*x,d.y=e[S].y,d.z=e[S].x*_,s.push(d.x,d.y,d.z),p.x=h/t,p.y=S/(e.length-1),a.push(p.x,p.y);let M=l[3*S+0]*x,E=l[3*S+1],L=l[3*S+0]*_;c.push(M,E,L)}}for(let h=0;h<t;h++)for(let b=0;b<e.length-1;b++){let x=b+h*e.length,_=x,S=x+e.length,M=x+e.length+1,E=x+1;o.push(_,S,E),o.push(M,E,S)}this.setIndex(o),this.setAttribute("position",new at(s,3)),this.setAttribute("uv",new at(a,2)),this.setAttribute("normal",new at(c,3))}static fromJSON(e){return new vd(e.points,e.segments,e.phiStart,e.phiLength)}},Uc=class extends cs{constructor(e=1,t=0){let r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Uc(e.radius,e.detail)}},xd=class extends mt{constructor(e=.5,t=1,r=8,i=1,o=0,s=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);let a=[],l=[],c=[],u=[],d=e,p=(t-e)/i,f=new Q,g=new ze;for(let y=0;y<=i;y++){for(let v=0;v<=r;v++){let m=o+v/r*s;f.x=d*Math.cos(m),f.y=d*Math.sin(m),l.push(f.x,f.y,f.z),c.push(0,0,1),g.x=(f.x/t+1)/2,g.y=(f.y/t+1)/2,u.push(g.x,g.y)}d+=p}for(let y=0;y<i;y++){let v=y*(r+1);for(let m=0;m<r;m++){let h=m+v,b=h,x=h+r+1,_=h+r+2,S=h+1;a.push(b,x,S),a.push(x,_,S)}}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2))}static fromJSON(e){return new xd(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},Vc=class extends mt{constructor(e=new us([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let r=[],i=[],o=[],s=[],a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new at(i,3)),this.setAttribute("normal",new at(o,3)),this.setAttribute("uv",new at(s,2));function c(u){let d=i.length/3,p=u.extractPoints(t),f=p.shape,g=p.holes;ds.isClockWise(f)===!1&&(f=f.reverse());for(let v=0,m=g.length;v<m;v++){let h=g[v];ds.isClockWise(h)===!0&&(g[v]=h.reverse())}let y=ds.triangulateShape(f,g);for(let v=0,m=g.length;v<m;v++){let h=g[v];f=f.concat(h)}for(let v=0,m=f.length;v<m;v++){let h=f[v];i.push(h.x,h.y,0),o.push(0,0,1),s.push(h.x,h.y)}for(let v=0,m=y.length;v<m;v++){let h=y[v],b=h[0]+d,x=h[1]+d,_=h[2]+d;r.push(b,x,_),l+=3}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return SEe(t,e)}static fromJSON(e,t){let r=[];for(let i=0,o=e.shapes.length;i<o;i++){let s=t[e.shapes[i]];r.push(s)}return new Vc(r,e.curveSegments)}};function SEe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){let i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}var Hc=class extends mt{constructor(e=1,t=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));let l=Math.min(s+a,Math.PI),c=0,u=[],d=new Q,p=new Q,f=[],g=[],y=[],v=[];for(let m=0;m<=r;m++){let h=[],b=m/r,x=0;m==0&&s==0?x=.5/t:m==r&&l==Math.PI&&(x=-.5/t);for(let _=0;_<=t;_++){let S=_/t;d.x=-e*Math.cos(i+S*o)*Math.sin(s+b*a),d.y=e*Math.cos(s+b*a),d.z=e*Math.sin(i+S*o)*Math.sin(s+b*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),y.push(p.x,p.y,p.z),v.push(S+x,1-b),h.push(c++)}u.push(h)}for(let m=0;m<r;m++)for(let h=0;h<t;h++){let b=u[m][h+1],x=u[m][h],_=u[m+1][h],S=u[m+1][h+1];(m!==0||s>0)&&f.push(b,x,S),(m!==r-1||l<Math.PI)&&f.push(x,_,S)}this.setIndex(f),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(y,3)),this.setAttribute("uv",new at(v,2))}static fromJSON(e){return new Hc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},bd=class extends cs{constructor(e=1,t=0){let r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bd(e.radius,e.detail)}},_d=class extends mt{constructor(e=1,t=.4,r=8,i=6,o=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);let s=[],a=[],l=[],c=[],u=new Q,d=new Q,p=new Q;for(let f=0;f<=r;f++)for(let g=0;g<=i;g++){let y=g/i*o,v=f/r*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(y),d.y=(e+t*Math.cos(v))*Math.sin(y),d.z=t*Math.sin(v),a.push(d.x,d.y,d.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(g/i),c.push(f/r)}for(let f=1;f<=r;f++)for(let g=1;g<=i;g++){let y=(i+1)*f+g-1,v=(i+1)*(f-1)+g-1,m=(i+1)*(f-1)+g,h=(i+1)*f+g;s.push(y,v,h),s.push(v,m,h)}this.setIndex(s),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(c,2))}static fromJSON(e){return new _d(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},wd=class extends mt{constructor(e=1,t=.4,r=64,i=8,o=2,s=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);let a=[],l=[],c=[],u=[],d=new Q,p=new Q,f=new Q,g=new Q,y=new Q,v=new Q,m=new Q;for(let b=0;b<=r;++b){let x=b/r*o*Math.PI*2;h(x,o,s,e,f),h(x+.01,o,s,e,g),v.subVectors(g,f),m.addVectors(g,f),y.crossVectors(v,m),m.crossVectors(y,v),y.normalize(),m.normalize();for(let _=0;_<=i;++_){let S=_/i*Math.PI*2,M=-t*Math.cos(S),E=t*Math.sin(S);d.x=f.x+(M*m.x+E*y.x),d.y=f.y+(M*m.y+E*y.y),d.z=f.z+(M*m.z+E*y.z),l.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),c.push(p.x,p.y,p.z),u.push(b/r),u.push(_/i)}}for(let b=1;b<=r;b++)for(let x=1;x<=i;x++){let _=(i+1)*(b-1)+(x-1),S=(i+1)*b+(x-1),M=(i+1)*b+x,E=(i+1)*(b-1)+x;a.push(_,S,E),a.push(S,M,E)}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2));function h(b,x,_,S,M){let E=Math.cos(b),L=Math.sin(b),I=_/x*b,T=Math.cos(I);M.x=S*(2+T)*.5*E,M.y=S*(2+T)*L*.5,M.z=S*Math.sin(I)*.5}}static fromJSON(e){return new wd(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},Td=class extends mt{constructor(e=new b0(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),t=64,r=1,i=8,o=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o};let s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;let a=new Q,l=new Q,c=new ze,u=new Q,d=[],p=[],f=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new at(d,3)),this.setAttribute("normal",new at(p,3)),this.setAttribute("uv",new at(f,2));function y(){for(let b=0;b<t;b++)v(b);v(o===!1?t:0),h(),m()}function v(b){u=e.getPointAt(b/t,u);let x=s.normals[b],_=s.binormals[b];for(let S=0;S<=i;S++){let M=S/i*Math.PI*2,E=Math.sin(M),L=-Math.cos(M);l.x=L*x.x+E*_.x,l.y=L*x.y+E*_.y,l.z=L*x.z+E*_.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function m(){for(let b=1;b<=t;b++)for(let x=1;x<=i;x++){let _=(i+1)*(b-1)+(x-1),S=(i+1)*b+(x-1),M=(i+1)*b+x,E=(i+1)*(b-1)+x;g.push(_,S,E),g.push(S,M,E)}}function h(){for(let b=0;b<=t;b++)for(let x=0;x<=i;x++)c.x=b/t,c.y=x/i,f.push(c.x,c.y)}}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Td(new aI[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}},kM=class extends mt{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){let t=[],r=new Set,i=new Q,o=new Q;if(e.index!==null){let s=e.attributes.position,a=e.index,l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){let d=l[c],p=d.start,f=d.count;for(let g=p,y=p+f;g<y;g+=3)for(let v=0;v<3;v++){let m=a.getX(g+v),h=a.getX(g+(v+1)%3);i.fromBufferAttribute(s,m),o.fromBufferAttribute(s,h),uX(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}}else{let s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){let u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(s,u),o.fromBufferAttribute(s,d),uX(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new at(t,3))}}};function uX(n,e,t){let r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r,i),!0)}var dX=Object.freeze({__proto__:null,BoxGeometry:Gs,BoxBufferGeometry:Gs,CircleGeometry:hd,CircleBufferGeometry:hd,ConeGeometry:md,ConeBufferGeometry:md,CylinderGeometry:$a,CylinderBufferGeometry:$a,DodecahedronGeometry:gd,DodecahedronBufferGeometry:gd,EdgesGeometry:CM,ExtrudeGeometry:ps,ExtrudeBufferGeometry:ps,IcosahedronGeometry:yd,IcosahedronBufferGeometry:yd,LatheGeometry:vd,LatheBufferGeometry:vd,OctahedronGeometry:Uc,OctahedronBufferGeometry:Uc,PlaneGeometry:Lc,PlaneBufferGeometry:Lc,PolyhedronGeometry:cs,PolyhedronBufferGeometry:cs,RingGeometry:xd,RingBufferGeometry:xd,ShapeGeometry:Vc,ShapeBufferGeometry:Vc,SphereGeometry:Hc,SphereBufferGeometry:Hc,TetrahedronGeometry:bd,TetrahedronBufferGeometry:bd,TorusGeometry:_d,TorusBufferGeometry:_d,TorusKnotGeometry:wd,TorusKnotBufferGeometry:wd,TubeGeometry:Td,TubeBufferGeometry:Td,WireframeGeometry:kM}),BM=class extends vr{constructor(e){super();this.type="ShadowMaterial",this.color=new Ke(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}};BM.prototype.isShadowMaterial=!0;var M0=class extends vr{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};M0.prototype.isMeshStandardMaterial=!0;var zM=class extends M0{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ke(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}};zM.prototype.isMeshPhysicalMaterial=!0;var UM=class extends vr{constructor(e){super();this.type="MeshPhongMaterial",this.color=new Ke(16777215),this.specular=new Ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Dv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};UM.prototype.isMeshPhongMaterial=!0;var VM=class extends vr{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};VM.prototype.isMeshToonMaterial=!0;var HM=class extends vr{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}};HM.prototype.isMeshNormalMaterial=!0;var WM=class extends vr{constructor(e){super();this.type="MeshLambertMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Dv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};WM.prototype.isMeshLambertMaterial=!0;var GM=class extends vr{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=sd,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}};GM.prototype.isMeshMatcapMaterial=!0;var jM=class extends br{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};jM.prototype.isLineDashedMaterial=!0;var MEe=Object.freeze({__proto__:null,ShadowMaterial:BM,SpriteMaterial:a0,RawShaderMaterial:pd,ShaderMaterial:js,PointsMaterial:Bc,MeshPhysicalMaterial:zM,MeshStandardMaterial:M0,MeshPhongMaterial:UM,MeshToonMaterial:VM,MeshNormalMaterial:HM,MeshLambertMaterial:WM,MeshDepthMaterial:r0,MeshDistanceMaterial:i0,MeshBasicMaterial:Ws,MeshMatcapMaterial:GM,LineDashedMaterial:jM,LineBasicMaterial:br,Material:vr}),gn={arraySlice:function(n,e,t){return gn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,o){return n[i]-n[o]}let t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){let r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){let a=t[o]*e;for(let l=0;l!==e;++l)i[s++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=n[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),t.push(s)),o=n[i++];while(o!==void 0)},subclip:function(n,e,t,r,i=30){let o=n.clone();o.name=e;let s=[];for(let l=0;l<o.tracks.length;++l){let c=o.tracks[l],u=c.getValueSize(),d=[],p=[];for(let f=0;f<c.times.length;++f){let g=c.times[f]*i;if(!(g<t||g>=r)){d.push(c.times[f]);for(let y=0;y<u;++y)p.push(c.values[f*u+y])}}d.length!==0&&(c.times=gn.convertArray(d,c.times.constructor),c.values=gn.convertArray(p,c.values.constructor),s.push(c))}o.tracks=s;let a=Infinity;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);let i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){let a=t.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;let c=n.tracks.find(function(m){return m.name===a.name&&m.ValueTypeName===l});if(c===void 0)continue;let u=0,d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0,f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=f/3);let g=a.times.length-1,y;if(o<=a.times[0]){let m=u,h=d-u;y=gn.arraySlice(a.values,m,h)}else if(o>=a.times[g]){let m=g*d+u,h=m+d-u;y=gn.arraySlice(a.values,m,h)}else{let m=a.createInterpolant(),h=u,b=d-u;m.evaluate(o),y=gn.arraySlice(m.resultBuffer,h,b)}l==="quaternion"&&new Dr().fromArray(y).normalize().conjugate().toArray(y);let v=c.times.length;for(let m=0;m<v;++m){let h=m*f+p;if(l==="quaternion")Dr.multiplyQuaternionsFlat(c.values,h,y,0,c.values,h);else{let b=f-p*2;for(let x=0;x<b;++x)c.values[h+x]-=y[x]}}}return n.blendMode=cN,n}},Xs=class{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=o)){let a=t[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){let a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}};Xs.prototype.beforeStart_=Xs.prototype.copySampleValue_;Xs.prototype.afterEnd_=Xs.prototype.copySampleValue_;var dI=class extends Xs{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:id,endingEnd:id}}intervalChanged_(e,t,r){let i=this.parameterPositions,o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case od:o=e,a=2*t-r;break;case Vv:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case od:s=e,l=2*r-t;break;case Vv:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}let c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=s*u}interpolate_(e,t,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,f=this._weightNext,g=(r-t)/(i-t),y=g*g,v=y*g,m=-p*v+2*p*y-p*g,h=(1+p)*v+(-1.5-2*p)*y+(-.5+p)*g+1,b=(-1-f)*v+(1.5+f)*y+.5*g,x=f*v-f*y;for(let _=0;_!==a;++_)o[_]=m*s[u+_]+h*s[c+_]+b*s[l+_]+x*s[d+_];return o}},qM=class extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let p=0;p!==a;++p)o[p]=s[c+p]*d+s[l+p]*u;return o}},pI=class extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}},Fo=class{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gn.convertArray(t,this.TimeBufferType),this.values=gn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:gn.convertArray(e.times,Array),values:gn.convertArray(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new pI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new qM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new dI(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case zv:t=this.InterpolantFactoryMethodDiscrete;break;case Uv:t=this.InterpolantFactoryMethodLinear;break;case zS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zv;case this.InterpolantFactoryMethodLinear:return Uv;case this.InterpolantFactoryMethodSmooth:return zS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){let r=this.times,i=r.length,o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>t;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);let a=this.getValueSize();this.times=gn.arraySlice(r,o,s),this.values=gn.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){let l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&gn.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){let c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){let e=gn.arraySlice(this.times),t=gn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===zS,o=e.length-1,s=1;for(let a=1;a<o;++a){let l=!1,c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{let d=a*r,p=d-r,f=d+r;for(let g=0;g!==r;++g){let y=t[d+g];if(y!==t[p+g]||y!==t[f+g]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];let d=a*r,p=s*r;for(let f=0;f!==r;++f)t[p+f]=t[d+f]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,c=0;c!==r;++c)t[l+c]=t[a+c];++s}return s!==e.length?(this.times=gn.arraySlice(e,0,s),this.values=gn.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){let e=gn.arraySlice(this.times,0),t=gn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};Fo.prototype.TimeBufferType=Float32Array;Fo.prototype.ValueBufferType=Float32Array;Fo.prototype.DefaultInterpolation=Uv;var Wc=class extends Fo{};Wc.prototype.ValueTypeName="bool";Wc.prototype.ValueBufferType=Array;Wc.prototype.DefaultInterpolation=zv;Wc.prototype.InterpolantFactoryMethodLinear=void 0;Wc.prototype.InterpolantFactoryMethodSmooth=void 0;var $M=class extends Fo{};$M.prototype.ValueTypeName="color";var Gh=class extends Fo{};Gh.prototype.ValueTypeName="number";var fI=class extends Xs{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t),c=e*a;for(let u=c+a;c!==u;c+=4)Dr.slerpFlat(o,0,s,c-a,s,c,l);return o}},Sd=class extends Fo{InterpolantFactoryMethodLinear(e){return new fI(this.times,this.values,this.getValueSize(),e)}};Sd.prototype.ValueTypeName="quaternion";Sd.prototype.DefaultInterpolation=Uv;Sd.prototype.InterpolantFactoryMethodSmooth=void 0;var Gc=class extends Fo{};Gc.prototype.ValueTypeName="string";Gc.prototype.ValueBufferType=Array;Gc.prototype.DefaultInterpolation=zv;Gc.prototype.InterpolantFactoryMethodLinear=void 0;Gc.prototype.InterpolantFactoryMethodSmooth=void 0;var jh=class extends Fo{};jh.prototype.ValueTypeName="vector";var qh=class{constructor(e,t=-1,r,i=US){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=uo(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)t.push(PEe(r[s]).scale(i));let o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){let t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)t.push(Fo.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){let o=t.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);let u=gn.getKeyframeOrder(l);l=gn.sortedArray(l,1,u),c=gn.sortedArray(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new Gh(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){let i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){let i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){let c=e[a],u=c.name.match(o);if(u&&u.length>1){let d=u[1],p=i[d];p||(i[d]=p=[]),p.push(c)}}let s=[];for(let a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let r=function(d,p,f,g,y){if(f.length!==0){let v=[],m=[];gn.flattenJSON(f,v,m,g),v.length!==0&&y.push(new d(p,v,m))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode,l=e.length||-1,c=e.hierarchy||[];for(let d=0;d<c.length;d++){let p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){let f={},g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let y=0;y<p[g].morphTargets.length;y++)f[p[g].morphTargets[y]]=-1;for(let y in f){let v=[],m=[];for(let h=0;h!==p[g].morphTargets.length;++h){let b=p[g];v.push(b.time),m.push(b.morphTarget===y?1:0)}i.push(new Gh(".morphTargetInfluence["+y+"]",v,m))}l=f.length*(s||1)}else{let f=".bones["+t[d].name+"]";r(jh,f+".position",p,"pos",i),r(Sd,f+".quaternion",p,"rot",i),r(jh,f+".scale",p,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){let e=this.tracks,t=0;for(let r=0,i=e.length;r!==i;++r){let o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function EEe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Gh;case"vector":case"vector2":case"vector3":case"vector4":return jh;case"color":return $M;case"quaternion":return Sd;case"bool":case"boolean":return Wc;case"string":return Gc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function PEe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=EEe(n.type);if(n.times===void 0){let t=[],r=[];gn.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}var Md={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}},XM=class{constructor(e,t,r){let i=this,o=!1,s=0,a=0,l,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){let d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){let f=c[d],g=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return g}return null}}},pX=new XM,yi=class{constructor(e){this.manager=e!==void 0?e:pX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Xa={},fs=class extends yi{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=Md.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(Xa[e]!==void 0){Xa[e].push({onLoad:t,onProgress:r,onError:i});return}Xa[e]=[],Xa[e].push({onLoad:t,onProgress:r,onError:i});let s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||c.body.getReader===void 0)return c;let u=Xa[e],d=c.body.getReader(),p=c.headers.get("Content-Length"),f=p?parseInt(p):0,g=f!==0,y=0,v=new ReadableStream({start(m){h();function h(){d.read().then(({done:b,value:x})=>{if(b)m.close();else{y+=x.byteLength;let _=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:f});for(let S=0,M=u.length;S<M;S++){let E=u[S];E.onProgress&&E.onProgress(_)}m.enqueue(x),h()}})}}});return new Response(v)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{let d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,f=new TextDecoder(p);return c.arrayBuffer().then(g=>f.decode(g))}}}).then(c=>{Md.add(e,c);let u=Xa[e];delete Xa[e];for(let d=0,p=u.length;d<p;d++){let f=u[d];f.onLoad&&f.onLoad(c)}}).catch(c=>{let u=Xa[e];if(u===void 0)throw this.manager.itemError(e),c;delete Xa[e];for(let d=0,p=u.length;d<p;d++){let f=u[d];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},fX=class extends yi{constructor(e){super(e)}load(e,t,r,i){let o=this,s=new fs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){let t=[];for(let r=0;r<e.length;r++){let i=qh.parse(e[r]);t.push(i)}return t}},hX=class extends yi{constructor(e){super(e)}load(e,t,r,i){let o=this,s=[],a=new MM,l=new fs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(d){l.load(e[d],function(p){let f=o.parse(p,!0);s[d]={width:f.width,height:f.height,format:f.format,mipmaps:f.mipmaps},c+=1,c===6&&(f.mipmapCount===1&&(a.minFilter=In),a.image=s,a.format=f.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)u(d);else l.load(e,function(d){let p=o.parse(d,!0);if(p.isCubemap){let f=p.mipmaps.length/p.mipmapCount;for(let g=0;g<f;g++){s[g]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)s[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+y]),s[g].format=p.format,s[g].width=p.width,s[g].height=p.height}a.image=s}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=In),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}},$h=class extends yi{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=this,s=Md.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;let a=Gv("img");function l(){u(),Md.add(e,this),t&&t(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}},hI=class extends yi{constructor(e){super(e)}load(e,t,r,i){let o=new dd,s=new $h(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(u){o.images[c]=u,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}},mI=class extends yi{constructor(e){super(e)}load(e,t,r,i){let o=this,s=new Fc,a=new fs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){let c=o.parse(l);!c||(c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:jr,s.wrapT=c.wrapT!==void 0?c.wrapT:jr,s.magFilter=c.magFilter!==void 0?c.magFilter:In,s.minFilter=c.minFilter!==void 0?c.minFilter:In,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(s.encoding=c.encoding),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=ed),c.mipmapCount===1&&(s.minFilter=In),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c))},r,i),s}},gI=class extends yi{constructor(e){super(e)}load(e,t,r,i){let o=new Qn,s=new $h(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},r,i),o}},ko=class extends St{constructor(e,t=1){super();this.type="Light",this.color=new Ke(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};ko.prototype.isLight=!0;var YM=class extends ko{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(St.DefaultUp),this.updateMatrix(),this.groundColor=new Ke(t)}copy(e){return ko.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}};YM.prototype.isHemisphereLight=!0;var mX=new ct,gX=new Q,yX=new Q,JM=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.map=null,this.mapPass=null,this.matrix=new ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ph,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new jt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;gX.setFromMatrixPosition(e.matrixWorld),t.position.copy(gX),yX.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(yX),t.updateMatrixWorld(),mX.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(mX),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},yI=class extends JM{constructor(){super(new xr(50,1,.5,500));this.focus=1}updateMatrices(e){let t=this.camera,r=Hv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}};yI.prototype.isSpotLightShadow=!0;var ZM=class extends ko{constructor(e,t,r=0,i=Math.PI/3,o=0,s=1){super(e,t);this.type="SpotLight",this.position.copy(St.DefaultUp),this.updateMatrix(),this.target=new St,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.shadow=new yI}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};ZM.prototype.isSpotLight=!0;var vX=new ct,E0=new Q,vI=new Q,xI=class extends JM{constructor(){super(new xr(90,1,.5,500));this._frameExtents=new ze(4,2),this._viewportCount=6,this._viewports=[new jt(2,1,1,1),new jt(0,1,1,1),new jt(3,1,1,1),new jt(1,1,1,1),new jt(3,0,1,1),new jt(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,t=0){let r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),E0.setFromMatrixPosition(e.matrixWorld),r.position.copy(E0),vI.copy(r.position),vI.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(vI),r.updateMatrixWorld(),i.makeTranslation(-E0.x,-E0.y,-E0.z),vX.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vX)}};xI.prototype.isPointLightShadow=!0;var KM=class extends ko{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new xI}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}};KM.prototype.isPointLight=!0;var bI=class extends JM{constructor(){super(new Rh(-5,5,5,-5,.5,500))}};bI.prototype.isDirectionalLightShadow=!0;var QM=class extends ko{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(St.DefaultUp),this.updateMatrix(),this.target=new St,this.shadow=new bI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};QM.prototype.isDirectionalLight=!0;var eE=class extends ko{constructor(e,t){super(e,t);this.type="AmbientLight"}};eE.prototype.isAmbientLight=!0;var tE=class extends ko{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}};tE.prototype.isRectAreaLight=!0;var nE=class{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*o)),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],1.092548*(r*o)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){let r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*o),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],2*.429043*r*o),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){let r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}};nE.prototype.isSphericalHarmonics3=!0;var Xh=class extends ko{constructor(e=new nE,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}};Xh.prototype.isLightProbe=!0;var _I=class extends yi{constructor(e){super(e);this.textures={}}load(e,t,r,i){let o=this,s=new fs(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){let t=this.textures;function r(o){return t[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),t[o]}let i=new MEe[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.alphaWrite!==void 0&&(i.alphaWrite=e.alphaWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(let o in e.uniforms){let s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new Ke().setHex(s.value);break;case"v2":i.uniforms[o].value=new ze().fromArray(s.value);break;case"v3":i.uniforms[o].value=new Q().fromArray(s.value);break;case"v4":i.uniforms[o].value=new jt().fromArray(s.value);break;case"m3":i.uniforms[o].value=new cr().fromArray(s.value);break;case"m4":i.uniforms[o].value=new ct().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(let o in e.extensions)i.extensions[o]=e.extensions[o];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new ze().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}},P0=class{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(r){return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},rE=class extends mt{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=Infinity}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){let e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}};rE.prototype.isInstancedBufferGeometry=!0;var wI=class extends yi{constructor(e){super(e)}load(e,t,r,i){let o=this,s=new fs(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{t(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){let t={},r={};function i(f,g){if(t[g]!==void 0)return t[g];let v=f.interleavedBuffers[g],m=o(f,v.buffer),h=uh(v.type,m),b=new Oc(h,v.stride);return b.uuid=v.uuid,t[g]=b,b}function o(f,g){if(r[g]!==void 0)return r[g];let v=f.arrayBuffers[g],m=new Uint32Array(v).buffer;return r[g]=m,m}let s=e.isInstancedBufferGeometry?new rE:new mt,a=e.data.index;if(a!==void 0){let f=uh(a.type,a.array);s.setIndex(new Lt(f,1))}let l=e.data.attributes;for(let f in l){let g=l[f],y;if(g.isInterleavedBufferAttribute){let v=i(e.data,g.data);y=new qa(v,g.itemSize,g.offset,g.normalized)}else{let v=uh(g.type,g.array),m=g.isInstancedBufferAttribute?kc:Lt;y=new m(v,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),g.updateRange!==void 0&&(y.updateRange.offset=g.updateRange.offset,y.updateRange.count=g.updateRange.count),s.setAttribute(f,y)}let c=e.data.morphAttributes;if(c)for(let f in c){let g=c[f],y=[];for(let v=0,m=g.length;v<m;v++){let h=g[v],b;if(h.isInterleavedBufferAttribute){let x=i(e.data,h.data);b=new qa(x,h.itemSize,h.offset,h.normalized)}else{let x=uh(h.type,h.array);b=new Lt(x,h.itemSize,h.normalized)}h.name!==void 0&&(b.name=h.name),y.push(b)}s.morphAttributes[f]=y}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);let d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let f=0,g=d.length;f!==g;++f){let y=d[f];s.addGroup(y.start,y.count,y.materialIndex)}let p=e.data.boundingSphere;if(p!==void 0){let f=new Q;p.center!==void 0&&f.fromArray(p.center),s.boundingSphere=new Ua(f,p.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}},xX=class extends yi{constructor(e){super(e)}load(e,t,r,i){let o=this,s=this.path===""?P0.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;let a=new fs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}let u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,t)},r,i)}async loadAsync(e,t){let r=this,i=this.path===""?P0.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;let o=new fs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);let s=await o.loadAsync(e,t),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){let r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,o,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(let p in s)if(s[p]instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){let t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){let t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){let o=new us().fromJSON(e[r]);t[o.uuid]=o}return t}parseSkeletons(e,t){let r={},i={};if(t.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){let a=new h0().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,t){let r={};if(e!==void 0){let i=new wI;for(let o=0,s=e.length;o<s;o++){let a,l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in dX?a=dX[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){let r={},i={};if(e!==void 0){let o=new _I;o.setTextures(t);for(let s=0,a=e.length;s<a;s++){let l=e[s];if(l.type==="MultiMaterial"){let c=[];for(let u=0;u<l.materials.length;u++){let d=l.materials[u];r[d.uuid]===void 0&&(r[d.uuid]=o.parse(d)),c.push(r[d.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){let t={};if(e!==void 0)for(let r=0;r<e.length;r++){let i=e[r],o=qh.parse(i);t[o.uuid]=o}return t}parseImages(e,t){let r=this,i={},o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){let c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return l.data?{data:uh(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){let l=new XM(t);o=new $h(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){let d=e[c],p=d.url;if(Array.isArray(p)){i[d.uuid]=[];for(let f=0,g=p.length;f<g;f++){let y=p[f],v=a(y);v!==null&&(v instanceof HTMLImageElement?i[d.uuid].push(v):i[d.uuid].push(new Fc(v.data,v.width,v.height)))}}else{let f=a(d.url);f!==null&&(i[d.uuid]=f)}}}return i}async parseImagesAsync(e){let t=this,r={},i;async function o(s){if(typeof s=="string"){let a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:uh(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new $h(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){let l=e[s],c=l.url;if(Array.isArray(c)){r[l.uuid]=[];for(let u=0,d=c.length;u<d;u++){let p=c[u],f=await o(p);f!==null&&(f instanceof HTMLImageElement?r[l.uuid].push(f):r[l.uuid].push(new Fc(f.data,f.width,f.height)))}}else{let u=await o(l.url);u!==null&&(r[l.uuid]=u)}}}return r}parseTextures(e,t){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}let i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){let a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);let l,c=t[a.image];Array.isArray(c)?(l=new dd(c),c.length===6&&(l.needsUpdate=!0)):(c&&c.data?l=new Fc(c.data,c.width,c.height):l=new Qn(c),c&&(l.needsUpdate=!0)),l.uuid=a.uuid,a.name!==void 0&&(l.name=a.name),a.mapping!==void 0&&(l.mapping=r(a.mapping,REe)),a.offset!==void 0&&l.offset.fromArray(a.offset),a.repeat!==void 0&&l.repeat.fromArray(a.repeat),a.center!==void 0&&l.center.fromArray(a.center),a.rotation!==void 0&&(l.rotation=a.rotation),a.wrap!==void 0&&(l.wrapS=r(a.wrap[0],bX),l.wrapT=r(a.wrap[1],bX)),a.format!==void 0&&(l.format=a.format),a.type!==void 0&&(l.type=a.type),a.encoding!==void 0&&(l.encoding=a.encoding),a.minFilter!==void 0&&(l.minFilter=r(a.minFilter,_X)),a.magFilter!==void 0&&(l.magFilter=r(a.magFilter,_X)),a.anisotropy!==void 0&&(l.anisotropy=a.anisotropy),a.flipY!==void 0&&(l.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(l.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(l.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(l.userData=a.userData),i[a.uuid]=l}return i}parseObject(e,t,r,i,o){let s;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){let f=[];for(let g=0,y=p.length;g<y;g++){let v=p[g];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),f.push(r[v])}return f}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,d;switch(e.type){case"Scene":s=new s0,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Ke(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Ih(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Nh(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new xr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Rh(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new eE(e.color,e.intensity);break;case"DirectionalLight":s=new QM(e.color,e.intensity);break;case"PointLight":s=new KM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new tE(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new ZM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new YM(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Xh().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),s=new p0(u,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),s=new er(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);let p=e.count,f=e.instanceMatrix,g=e.instanceColor;s=new bM(u,d,p),s.instanceMatrix=new kc(new Float32Array(f.array),16),g!==void 0&&(s.instanceColor=new kc(new Float32Array(g.array),g.itemSize));break;case"LOD":s=new YN;break;case"Line":s=new $s(a(e.geometry),l(e.material));break;case"LineLoop":s=new wM(a(e.geometry),l(e.material));break;case"LineSegments":s=new Ri(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new zh(a(e.geometry),l(e.material));break;case"Sprite":s=new d0(l(e.material));break;case"Group":s=new Ic;break;case"Bone":s=new f0;break;default:s=new St}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){let p=e.children;for(let f=0;f<p.length;f++)s.add(this.parseObject(p[f],t,r,i,o))}if(e.animations!==void 0){let p=e.animations;for(let f=0;f<p.length;f++){let g=p[f];s.animations.push(o[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);let p=e.levels;for(let f=0;f<p.length;f++){let g=p[f],y=s.getObjectByProperty("uuid",g.object);y!==void 0&&s.addLevel(y,g.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){let i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}},REe={UVMapping:DS,CubeReflectionMapping:Ku,CubeRefractionMapping:Qu,EquirectangularReflectionMapping:Nv,EquirectangularRefractionMapping:Iv,CubeUVReflectionMapping:sh,CubeUVRefractionMapping:Ov},bX={RepeatWrapping:Fv,ClampToEdgeWrapping:jr,MirroredRepeatWrapping:kv},_X={NearestFilter:Kn,NearestMipmapNearestFilter:NS,NearestMipmapLinearFilter:IS,LinearFilter:In,LinearMipmapNearestFilter:VD,LinearMipmapLinearFilter:ed},TI=class extends yi{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=this,s=Md.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;let a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){Md.add(e,l),t&&t(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}};TI.prototype.isImageBitmapLoader=!0;var iE,SI={getContext:function(){return iE===void 0&&(iE=new(window.AudioContext||window.webkitAudioContext)),iE},setContext:function(n){iE=n}},MI=class extends yi{constructor(e){super(e)}load(e,t,r,i){let o=this,s=new fs(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{let l=a.slice(0);SI.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}},EI=class extends Xh{constructor(e,t,r=1){super(void 0,r);let i=new Ke().set(e),o=new Ke().set(t),s=new Q(i.r,i.g,i.b),a=new Q(o.r,o.g,o.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(c)}};EI.prototype.isHemisphereLightProbe=!0;var PI=class extends Xh{constructor(e,t=1){super(void 0,t);let r=new Ke().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}};PI.prototype.isAmbientLightProbe=!0;var wX=new ct,TX=new ct,Ed=new ct,SX=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Ed.copy(e.projectionMatrix);let i=t.eyeSep/2,o=i*t.near/t.focus,s=t.near*Math.tan(ad*t.fov*.5)/t.zoom,a,l;TX.elements[12]=-i,wX.elements[12]=i,a=-s*t.aspect+o,l=s*t.aspect+o,Ed.elements[0]=2*t.near/(l-a),Ed.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Ed),a=-s*t.aspect-o,l=s*t.aspect-o,Ed.elements[0]=2*t.near/(l-a),Ed.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Ed)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(TX),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wX)}},RI=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=MX(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=MX();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function MX(){return(typeof performance=="undefined"?Date:performance).now()}var Pd=new Q,EX=new Dr,CEe=new Q,Rd=new Q,PX=class extends St{constructor(){super();this.type="AudioListener",this.context=SI.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new RI}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Pd,EX,CEe),Rd.set(0,0,-1).applyQuaternion(EX),t.positionX){let i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Pd.x,i),t.positionY.linearRampToValueAtTime(Pd.y,i),t.positionZ.linearRampToValueAtTime(Pd.z,i),t.forwardX.linearRampToValueAtTime(Rd.x,i),t.forwardY.linearRampToValueAtTime(Rd.y,i),t.forwardZ.linearRampToValueAtTime(Rd.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Pd.x,Pd.y,Pd.z),t.setOrientation(Rd.x,Rd.y,Rd.z,r.x,r.y,r.z)}},oE=class extends St{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},Cd=new Q,RX=new Dr,AEe=new Q,Ad=new Q,CX=class extends oE{constructor(e){super(e);this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Cd,RX,AEe),Ad.set(0,0,1).applyQuaternion(RX);let t=this.panner;if(t.positionX){let r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Cd.x,r),t.positionY.linearRampToValueAtTime(Cd.y,r),t.positionZ.linearRampToValueAtTime(Cd.z,r),t.orientationX.linearRampToValueAtTime(Ad.x,r),t.orientationY.linearRampToValueAtTime(Ad.y,r),t.orientationZ.linearRampToValueAtTime(Ad.z,r)}else t.setPosition(Cd.x,Cd.y,Cd.z),t.setOrientation(Ad.x,Ad.y,Ad.z)}},CI=class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}},AI=class{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,o,s;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let r=this.buffer,i=this.valueSize,o=e*i+i,s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=t}else{s+=t;let a=t/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){let t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){let l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-o,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let o=r,s=i;o!==s;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){Dr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){let s=this._workIndex*o;Dr.multiplyQuaternionsFlat(e,s,e,t,e,r),Dr.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,o){let s=1-i;for(let a=0;a!==o;++a){let l=t+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,t,r,i,o){for(let s=0;s!==o;++s){let a=t+s;e[a]=e[a]+e[r+s]*i}}},LI="\\[\\]\\.:\\/",LEe=new RegExp("["+LI+"]","g"),DI="[^"+LI+"]",DEe="[^"+LI.replace("\\.","")+"]",NEe=/((?:WC+[\/:])*)/.source.replace("WC",DI),IEe=/(WCOD+)?/.source.replace("WCOD",DEe),OEe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",DI),FEe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",DI),kEe=new RegExp("^"+NEe+IEe+OEe+FEe+"$"),BEe=["material","materials","bones"],AX=class{constructor(e,t,r){let i=r||Nt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},Nt=class{constructor(e,t,r){this.path=t,this.parsedPath=r||Nt.parseTrackName(t),this.node=Nt.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Nt.Composite(e,t,r):new Nt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(LEe,"")}static parseTrackName(e){let t=kEe.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let o=r.nodeName.substring(i+1);BEe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){let r=function(o){for(let s=0;s<o.length;s++){let a=o[s];if(a.name===t||a.uuid===t)return a;let l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,i=t.propertyName,o=t.propertyIndex;if(e||(e=Nt.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}let s=e[i];if(s===void 0){let c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};Nt.Composite=AX;Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray];Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var NI=class{constructor(){this.uuid=uo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length,a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){let p=arguments[u],f=p.uuid,g=t[f];if(g===void 0){g=l++,t[f]=g,e.push(p);for(let y=0,v=s;y!==v;++y)o[y].push(new Nt(p,r[y],i[y]))}else if(g<c){a=e[g];let y=--c,v=e[y];t[v.uuid]=g,e[g]=v,t[f]=y,e[y]=p;for(let m=0,h=s;m!==h;++m){let b=o[m],x=b[y],_=b[g];b[g]=x,_===void 0&&(_=new Nt(p,r[m],i[m])),b[y]=_}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){let l=arguments[s],c=l.uuid,u=t[c];if(u!==void 0&&u>=o){let d=o++,p=e[d];t[p.uuid]=u,e[u]=p,t[c]=d,e[d]=l;for(let f=0,g=i;f!==g;++f){let y=r[f],v=y[d],m=y[u];y[u]=v,y[d]=m}}}this.nCachedObjects_=o}uncache(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){let c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<o){let p=--o,f=e[p],g=--s,y=e[g];t[f.uuid]=d,e[d]=f,t[y.uuid]=p,e[p]=y,e.pop();for(let v=0,m=i;v!==m;++v){let h=r[v],b=h[p],x=h[g];h[d]=b,h[p]=x,h.pop()}}else{let p=--s,f=e[p];p>0&&(t[f.uuid]=d),e[d]=f,e.pop();for(let g=0,y=i;g!==y;++g){let v=r[g];v[d]=v[p],v.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){let r=this._bindingsIndicesByPath,i=r[e],o=this._bindings;if(i!==void 0)return o[i];let s=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=o.length,r[e]=i,s.push(e),a.push(t),o.push(d);for(let p=u,f=l.length;p!==f;++p){let g=l[p];d[p]=new Nt(g,e,t)}return d}unsubscribe_(e){let t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){let i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],c=e[a];t[c]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}};NI.prototype.isAnimationObjectGroup=!0;var LX=class{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;let o=t.tracks,s=o.length,a=new Array(s),l={endingStart:id,endingEnd:id};for(let c=0;c!==s;++c){let u=o[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=D$,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){let i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){let i=this._mixer,o=i.time,s=this.timeScale,a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);let l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}let o=this._startTime;if(o!==null){let l=(e-o)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);let s=this._updateTime(t),a=this._updateWeight(e);if(a>0){let l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case cN:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(a);break;case US:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let r=this._weightInterpolant;if(r!==null){let i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,r=this.loop,i=this.time+e,o=this._loopCount,s=r===N$;if(e===0)return o===-1?i:s&&(o&1)==1?t-i:i;if(r===L$){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){let a=Math.floor(i/t);i-=t*a,o+=Math.abs(a);let l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){let c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)==1)return t-i}return i}_setEndings(e,t,r){let i=this._interpolantSettings;r?(i.endingStart=od,i.endingEnd=od):(e?i.endingStart=this.zeroSlopeAtStart?od:id:i.endingStart=Vv,t?i.endingEnd=this.zeroSlopeAtEnd?od:id:i.endingEnd=Vv)}_scheduleFading(e,t,r){let i=this._mixer,o=i.time,s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);let a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=t,a[1]=o+e,l[1]=r,this}},II=class extends ka{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName,u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==o;++d){let p=i[d],f=p.name,g=u[f];if(g!==void 0)++g.referenceCount,s[d]=g;else{if(g=s[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,f));continue}let y=t&&t._propertyBindings[d].binding.parsedPath;g=new AI(Nt.create(r,f,y),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,f),s[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let o=t[r];o.useCount++==0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let o=t[r];--o.useCount==0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){let i=this._actions,o=this._actionsByClip,s=o[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{let a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){let t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;let o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;let d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let o=t[r];--o.referenceCount==0&&this._removeInactiveBinding(o)}}_lendAction(e){let t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){let t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){let i=this._bindingsByRootAndName,o=this._bindings,s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){let t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){let t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){let t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return r===void 0&&(r=new qM(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){let t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){let i=t||this._root,o=i.uuid,s=typeof e=="string"?qh.findByName(i,e):e,a=s!==null?s.uuid:e,l=this._actionsByClip[a],c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=US),l!==void 0){let d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;let u=new LX(this,s,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,o),u}existingAction(e,t){let r=t||this._root,i=r.uuid,o=typeof e=="string"?qh.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let t=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,o,s);let a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){let s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){let c=s[a];this._deactivateAction(c);let u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){let t=e.uuid,r=this._actionsByClip;for(let s in r){let a=r[s].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}let i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(let s in o){let a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){let r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}};II.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var R0=class{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new R0(this.value.clone===void 0?this.value:this.value.clone())}},OI=class extends Oc{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}};OI.prototype.isInstancedInterleavedBuffer=!0;var FI=class{constructor(e,t,r,i,o){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}};FI.prototype.isGLBufferAttribute=!0;var DX=class{constructor(e,t,r=0,i=Infinity){this.ray=new Ha(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new $v,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return kI(e,this,r,t),r.sort(NX),r}intersectObjects(e,t=!0,r=[]){for(let i=0,o=e.length;i<o;i++)kI(e[i],this,r,t);return r.sort(NX),r}};function NX(n,e){return n.distance-e.distance}function kI(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){let i=n.children;for(let o=0,s=i.length;o<s;o++)kI(i[o],e,t,!0)}}var IX=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){let e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Xr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},OX=class{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}},FX=new ze,Ld=class{constructor(e=new ze(Infinity,Infinity),t=new ze(-Infinity,-Infinity)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=FX.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return FX.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};Ld.prototype.isBox2=!0;var kX=new Q,sE=new Q,BI=class{constructor(e=new Q,t=new Q){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){kX.subVectors(e,this.start),sE.subVectors(this.end,this.start);let r=sE.dot(sE),o=sE.dot(kX)/r;return t&&(o=Xr(o,0,1)),o}closestPointToPoint(e,t,r){let i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},BX=new Q,zX=class extends St{constructor(e,t){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;let r=new mt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){let c=s/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new at(i,3));let o=new br({fog:!1,toneMapped:!1});this.cone=new Ri(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),BX.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(BX),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},jc=new Q,aE=new ct,zI=new ct,UI=class extends Ri{constructor(e){let t=UX(e),r=new mt,i=[],o=[],s=new Ke(0,0,1),a=new Ke(0,1,0);for(let c=0;c<t.length;c++){let u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new at(i,3)),r.setAttribute("color",new at(o,3));let l=new br({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let t=this.bones,r=this.geometry,i=r.getAttribute("position");zI.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){let a=t[o];a.parent&&a.parent.isBone&&(aE.multiplyMatrices(zI,a.matrixWorld),jc.setFromMatrixPosition(aE),i.setXYZ(s,jc.x,jc.y,jc.z),aE.multiplyMatrices(zI,a.parent.matrixWorld),jc.setFromMatrixPosition(aE),i.setXYZ(s+1,jc.x,jc.y,jc.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}};function UX(n){let e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,UX(n.children[t]));return e}var VX=class extends er{constructor(e,t,r){let i=new Hc(t,4,2),o=new Ws({wireframe:!0,fog:!1,toneMapped:!1});super(i,o);this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},zEe=new Q,HX=new Ke,WX=new Ke,GX=class extends St{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;let i=new Uc(t);i.rotateY(Math.PI*.5),this.material=new Ws({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);let o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new Lt(s,3)),this.add(new er(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{let t=e.geometry.getAttribute("color");HX.copy(this.light.color),WX.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){let o=r<i/2?HX:WX;t.setXYZ(r,o.r,o.g,o.b)}t.needsUpdate=!0}e.lookAt(zEe.setFromMatrixPosition(this.light.matrixWorld).negate())}},VI=class extends Ri{constructor(e=10,t=10,r=4473924,i=8947848){r=new Ke(r),i=new Ke(i);let o=t/2,s=e/t,a=e/2,l=[],c=[];for(let p=0,f=0,g=-a;p<=t;p++,g+=s){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);let y=p===o?r:i;y.toArray(c,f),f+=3,y.toArray(c,f),f+=3,y.toArray(c,f),f+=3,y.toArray(c,f),f+=3}let u=new mt;u.setAttribute("position",new at(l,3)),u.setAttribute("color",new at(c,3));let d=new br({vertexColors:!0,toneMapped:!1});super(u,d);this.type="GridHelper"}},jX=class extends Ri{constructor(e=10,t=16,r=8,i=64,o=4473924,s=8947848){o=new Ke(o),s=new Ke(s);let a=[],l=[];for(let d=0;d<=t;d++){let p=d/t*(Math.PI*2),f=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(f,0,g);let y=d&1?o:s;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let d=0;d<=r;d++){let p=d&1?o:s,f=e-e/r*d;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),v=Math.sin(y)*f,m=Math.cos(y)*f;a.push(v,0,m),l.push(p.r,p.g,p.b),y=(g+1)/i*(Math.PI*2),v=Math.sin(y)*f,m=Math.cos(y)*f,a.push(v,0,m),l.push(p.r,p.g,p.b)}}let c=new mt;c.setAttribute("position",new at(a,3)),c.setAttribute("color",new at(l,3));let u=new br({vertexColors:!0,toneMapped:!1});super(c,u);this.type="PolarGridHelper"}},qX=new Q,lE=new Q,$X=new Q,XX=class extends St{constructor(e,t,r){super();this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new mt;i.setAttribute("position",new at([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let o=new br({fog:!1,toneMapped:!1});this.lightPlane=new $s(i,o),this.add(this.lightPlane),i=new mt,i.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new $s(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){qX.setFromMatrixPosition(this.light.matrixWorld),lE.setFromMatrixPosition(this.light.target.matrixWorld),$X.subVectors(lE,qX),this.lightPlane.lookAt(lE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lE),this.targetLine.scale.z=$X.length()}},cE=new Q,Wn=new Th,YX=class extends Ri{constructor(e){let t=new mt,r=new br({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={},a=new Ke(16755200),l=new Ke(16711680),c=new Ke(43775),u=new Ke(16777215),d=new Ke(3355443);p("n1","n2",a),p("n2","n4",a),p("n4","n3",a),p("n3","n1",a),p("f1","f2",a),p("f2","f4",a),p("f4","f3",a),p("f3","f1",a),p("n1","f1",a),p("n2","f2",a),p("n3","f3",a),p("n4","f4",a),p("p","n1",l),p("p","n2",l),p("p","n3",l),p("p","n4",l),p("u1","u2",c),p("u2","u3",c),p("u3","u1",c),p("c","t",u),p("p","c",d),p("cn1","cn2",d),p("cn3","cn4",d),p("cf1","cf2",d),p("cf3","cf4",d);function p(g,y,v){f(g,v),f(y,v)}function f(g,y){i.push(0,0,0),o.push(y.r,y.g,y.b),s[g]===void 0&&(s[g]=[]),s[g].push(i.length/3-1)}t.setAttribute("position",new at(i,3)),t.setAttribute("color",new at(o,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}update(){let e=this.geometry,t=this.pointMap,r=1,i=1;Wn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),nr("c",t,e,Wn,0,0,-1),nr("t",t,e,Wn,0,0,1),nr("n1",t,e,Wn,-r,-i,-1),nr("n2",t,e,Wn,r,-i,-1),nr("n3",t,e,Wn,-r,i,-1),nr("n4",t,e,Wn,r,i,-1),nr("f1",t,e,Wn,-r,-i,1),nr("f2",t,e,Wn,r,-i,1),nr("f3",t,e,Wn,-r,i,1),nr("f4",t,e,Wn,r,i,1),nr("u1",t,e,Wn,r*.7,i*1.1,-1),nr("u2",t,e,Wn,-r*.7,i*1.1,-1),nr("u3",t,e,Wn,0,i*2,-1),nr("cf1",t,e,Wn,-r,0,1),nr("cf2",t,e,Wn,r,0,1),nr("cf3",t,e,Wn,0,-i,1),nr("cf4",t,e,Wn,0,i,1),nr("cn1",t,e,Wn,-r,0,-1),nr("cn2",t,e,Wn,r,0,-1),nr("cn3",t,e,Wn,0,-i,-1),nr("cn4",t,e,Wn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function nr(n,e,t,r,i,o,s){cE.set(i,o,s).unproject(r);let a=e[n];if(a!==void 0){let l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],cE.x,cE.y,cE.z)}}var uE=new Vi,HI=class extends Ri{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new mt;o.setIndex(new Lt(r,1)),o.setAttribute("position",new Lt(i,3)),super(o,new br({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&uE.setFromObject(this.object),uE.isEmpty())return;let t=uE.min,r=uE.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=t.x,o[4]=r.y,o[5]=r.z,o[6]=t.x,o[7]=t.y,o[8]=r.z,o[9]=r.x,o[10]=t.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=t.z,o[15]=t.x,o[16]=r.y,o[17]=t.z,o[18]=t.x,o[19]=t.y,o[20]=t.z,o[21]=r.x,o[22]=t.y,o[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Ri.prototype.copy.call(this,e),this.object=e.object,this}},JX=class extends Ri{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new mt;o.setIndex(new Lt(r,1)),o.setAttribute("position",new at(i,3)),super(o,new br({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}},ZX=class extends $s{constructor(e,t=1,r=16776960){let i=r,o=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new mt;s.setAttribute("position",new at(o,3)),s.computeBoundingSphere(),super(s,new br({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;let a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new mt;l.setAttribute("position",new at(a,3)),l.computeBoundingSphere(),this.add(new er(l,new Ws({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?Zn:Yu,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}},KX=new Q,dE,WI,QX=class extends St{constructor(e=new Q(0,0,1),t=new Q(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super();this.type="ArrowHelper",dE===void 0&&(dE=new mt,dE.setAttribute("position",new at([0,0,0,0,1,0],3)),WI=new $a(0,.5,1,5,1),WI.translate(0,-.5,0)),this.position.copy(t),this.line=new $s(dE,new br({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new er(WI,new Ws({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{KX.set(e.z,0,-e.x).normalize();let t=Math.acos(e.y);this.quaternion.setFromAxisAngle(KX,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},GI=class extends Ri{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new mt;i.setAttribute("position",new at(t,3)),i.setAttribute("color",new at(r,3));let o=new br({vertexColors:!0,toneMapped:!1});super(i,o);this.type="AxesHelper"}setColors(e,t,r){let i=new Ke,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(t),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},eY=class{constructor(){this.type="ShapePath",this.color=new Ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Hh,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,o,s){return this.currentPath.bezierCurveTo(e,t,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,t){function r(h){let b=[];for(let x=0,_=h.length;x<_;x++){let S=h[x],M=new us;M.curves=S.curves,b.push(M)}return b}function i(h,b){let x=b.length,_=!1;for(let S=x-1,M=0;M<x;S=M++){let E=b[S],L=b[M],I=L.x-E.x,T=L.y-E.y;if(Math.abs(T)>Number.EPSILON){if(T<0&&(E=b[M],I=-I,L=b[S],T=-T),h.y<E.y||h.y>L.y)continue;if(h.y===E.y){if(h.x===E.x)return!0}else{let A=T*(h.x-E.x)-I*(h.y-E.y);if(A===0)return!0;if(A<0)continue;_=!_}}else{if(h.y!==E.y)continue;if(L.x<=h.x&&h.x<=E.x||E.x<=h.x&&h.x<=L.x)return!0}}return _}let o=ds.isClockWise,s=this.subPaths;if(s.length===0)return[];if(t===!0)return r(s);let a,l,c,u=[];if(s.length===1)return l=s[0],c=new us,c.curves=l.curves,u.push(c),u;let d=!o(s[0].getPoints());d=e?!d:d;let p=[],f=[],g=[],y=0,v;f[y]=void 0,g[y]=[];for(let h=0,b=s.length;h<b;h++)l=s[h],v=l.getPoints(),a=o(v),a=e?!a:a,a?(!d&&f[y]&&y++,f[y]={s:new us,p:v},f[y].s.curves=l.curves,d&&y++,g[y]=[]):g[y].push({h:l,p:v[0]});if(!f[0])return r(s);if(f.length>1){let h=!1,b=[];for(let x=0,_=f.length;x<_;x++)p[x]=[];for(let x=0,_=f.length;x<_;x++){let S=g[x];for(let M=0;M<S.length;M++){let E=S[M],L=!0;for(let I=0;I<f.length;I++)i(E.p,f[I].p)&&(x!==I&&b.push({froms:x,tos:I,hole:M}),L?(L=!1,p[I].push(E)):h=!0);L&&p[x].push(E)}}b.length>0&&(h||(g=p))}let m;for(let h=0,b=f.length;h<b;h++){c=f[h].s,u.push(c),m=g[h];for(let x=0,_=m.length;x<_;x++)c.holes.push(m[x].h)}return u}},tY=new Float32Array(1),UEe=new Int32Array(tY.buffer),nY=class{static toHalfFloat(e){e>65504&&(console.warn("THREE.DataUtils.toHalfFloat(): value exceeds 65504."),e=65504),tY[0]=e;let t=UEe[0],r=t>>16&32768,i=t>>12&2047,o=t>>23&255;return o<103?r:o>142?(r|=31744,r|=(o==255?0:1)&&t&8388607,r):o<113?(i|=2048,r|=(i>>114-o)+(i>>113-o&1),r):(r|=o-112<<10|i>>1,r+=i&1,r)}},VEe=0,HEe=1,WEe=0,GEe=1,jEe=2;function qEe(n){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),n}function $Ee(n=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),n.isMultiMaterial=!0,n.materials=n,n.clone=function(){return n.slice()},n}function XEe(n,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new zh(n,e)}function YEe(n){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new d0(n)}function JEe(n,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new zh(n,e)}function ZEe(n){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Bc(n)}function KEe(n){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Bc(n)}function QEe(n){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Bc(n)}function e1e(n,e,t){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Q(n,e,t)}function t1e(n,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Lt(n,e).setUsage(ch)}function n1e(n,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new RN(n,e)}function r1e(n,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new CN(n,e)}function i1e(n,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new AN(n,e)}function o1e(n,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new LN(n,e)}function s1e(n,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Yv(n,e)}function a1e(n,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new DN(n,e)}function l1e(n,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Jv(n,e)}function c1e(n,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new at(n,e)}function u1e(n,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new IN(n,e)}Hi.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Hi.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};Hh.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};function d1e(n){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new GI(n)}function p1e(n,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new HI(n,e)}function f1e(n,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ri(new CM(n.geometry),new br({color:e!==void 0?e:16777215}))}VI.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};UI.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};function h1e(n,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ri(new kM(n.geometry),new br({color:e!==void 0?e:16777215}))}yi.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),P0.extractUrlBase(n)};yi.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};function m1e(n){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new fs(n)}function g1e(n){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new mI(n)}Ld.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};Ld.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Ld.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Ld.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};Vi.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Vi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Vi.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Vi.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Vi.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Ua.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Ph.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};BI.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};cr.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};cr.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};cr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};cr.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};cr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};cr.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};ct.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};ct.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};ct.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Q().setFromMatrixColumn(this,3)};ct.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};ct.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};ct.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ct.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ct.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};ct.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};ct.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ct.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};ct.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};ct.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};ct.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};ct.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};ct.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};ct.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};ct.prototype.makeFrustum=function(n,e,t,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,o)};ct.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};as.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Dr.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Dr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Ha.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Ha.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};Ha.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Hn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Hn.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};Hn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Hn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Hn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Hn.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Hn.getBarycoord(n,e,t,r,i)};Hn.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Hn.getNormal(n,e,t,r)};us.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};us.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ps(this,n)};us.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Vc(this,n)};ze.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};ze.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};ze.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Q.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Q.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Q.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};Q.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};Q.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};Q.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};Q.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Q.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Q.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};jt.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};jt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};St.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};St.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};St.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};St.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};St.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(St.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});er.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(er.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),I$},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});p0.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};xr.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(ko.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(Lt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ch},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ch)}}});Lt.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ch:lh),this};Lt.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Lt.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};mt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};mt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Lt(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};mt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};mt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};mt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};mt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};mt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(mt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Oc.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?ch:lh),this};Oc.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};ps.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};ps.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};ps.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};s0.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};R0.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(vr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Ke}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===ND}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(js.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Jt.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};Jt.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Jt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Jt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Jt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Jt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Jt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Jt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Jt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Jt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Jt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Jt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Jt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Jt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Jt.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Jt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Jt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Jt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Jt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Jt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Jt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Jt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Jt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Jt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Jt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Jt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?mn:Fa}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(F7.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});function y1e(n,e,t){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Qv(n,t)}Object.defineProperties(Ui.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});oE.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");let e=this;return new MI().load(n,function(r){e.setBuffer(r)}),this};CI.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Kv.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};Kv.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};Ba.crossOrigin=void 0;Ba.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");let i=new gI;i.setCrossOrigin(this.crossOrigin);let o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};Ba.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");let i=new hI;i.setCrossOrigin(this.crossOrigin);let o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};Ba.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Ba.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function v1e(){console.error("THREE.CanvasRenderer has been removed")}function x1e(){console.error("THREE.JSONLoader has been removed.")}var b1e={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function _1e(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}function w1e(){return console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),new mt}function T1e(){return console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),new mt}function S1e(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function M1e(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function E1e(){console.error("THREE.ImmediateRenderObject has been removed.")}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:AS}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=AS);O.ACESFilmicToneMapping=m$;O.AddEquation=Zu;O.AddOperation=d$;O.AdditiveAnimationBlendMode=cN;O.AdditiveBlending=ID;O.AlphaFormat=w$;O.AlwaysDepth=i$;O.AlwaysStencilFunc=B$;O.AmbientLight=eE;O.AmbientLightProbe=PI;O.AnimationClip=qh;O.AnimationLoader=fX;O.AnimationMixer=II;O.AnimationObjectGroup=NI;O.AnimationUtils=gn;O.ArcCurve=AM;O.ArrayCamera=fM;O.ArrowHelper=QX;O.Audio=oE;O.AudioAnalyser=CI;O.AudioContext=SI;O.AudioListener=PX;O.AudioLoader=MI;O.AxesHelper=GI;O.AxisHelper=d1e;O.BackSide=Zn;O.BasicDepthPacking=O$;O.BasicShadowMap=Lbe;O.BinaryTextureLoader=g1e;O.Bone=f0;O.BooleanKeyframeTrack=Wc;O.BoundingBoxHelper=p1e;O.Box2=Ld;O.Box3=Vi;O.Box3Helper=JX;O.BoxBufferGeometry=Gs;O.BoxGeometry=Gs;O.BoxHelper=HI;O.BufferAttribute=Lt;O.BufferGeometry=mt;O.BufferGeometryLoader=wI;O.ByteType=y$;O.Cache=Md;O.Camera=Th;O.CameraHelper=YX;O.CanvasRenderer=v1e;O.CanvasTexture=eI;O.CatmullRomCurve3=DM;O.CineonToneMapping=h$;O.CircleBufferGeometry=hd;O.CircleGeometry=hd;O.ClampToEdgeWrapping=jr;O.Clock=RI;O.Color=Ke;O.ColorKeyframeTrack=$M;O.CompressedTexture=MM;O.CompressedTextureLoader=hX;O.ConeBufferGeometry=md;O.ConeGeometry=md;O.CubeCamera=Kv;O.CubeReflectionMapping=Ku;O.CubeRefractionMapping=Qu;O.CubeTexture=dd;O.CubeTextureLoader=hI;O.CubeUVReflectionMapping=sh;O.CubeUVRefractionMapping=Ov;O.CubicBezierCurve=v0;O.CubicBezierCurve3=NM;O.CubicInterpolant=dI;O.CullFaceBack=LD;O.CullFaceFront=W9;O.CullFaceFrontBack=Abe;O.CullFaceNone=H9;O.Curve=Hi;O.CurvePath=lI;O.CustomBlending=j9;O.CustomToneMapping=g$;O.CylinderBufferGeometry=$a;O.CylinderGeometry=$a;O.Cylindrical=OX;O.DataTexture=Fc;O.DataTexture2DArray=t0;O.DataTexture3D=dM;O.DataTextureLoader=mI;O.DataUtils=nY;O.DecrementStencilOp=Hbe;O.DecrementWrapStencilOp=Gbe;O.DefaultLoadingManager=pX;O.DepthFormat=wc;O.DepthStencilFormat=rd;O.DepthTexture=o0;O.DirectionalLight=QM;O.DirectionalLightHelper=XX;O.DiscreteInterpolant=pI;O.DodecahedronBufferGeometry=gd;O.DodecahedronGeometry=gd;O.DoubleSide=Ju;O.DstAlphaFactor=K9;O.DstColorFactor=e$;O.DynamicBufferAttribute=t1e;O.DynamicCopyUsage=i_e;O.DynamicDrawUsage=ch;O.DynamicReadUsage=t_e;O.EdgesGeometry=CM;O.EdgesHelper=f1e;O.EllipseCurve=Uh;O.EqualDepth=s$;O.EqualStencilFunc=Xbe;O.EquirectangularReflectionMapping=Nv;O.EquirectangularRefractionMapping=Iv;O.Euler=Pc;O.EventDispatcher=ka;O.ExtrudeBufferGeometry=ps;O.ExtrudeGeometry=ps;O.FaceColors=GEe;O.FileLoader=fs;O.FlatShading=ND;O.Float16BufferAttribute=NN;O.Float32Attribute=c1e;O.Float32BufferAttribute=at;O.Float64Attribute=u1e;O.Float64BufferAttribute=IN;O.FloatType=Oa;O.Fog=Ih;O.FogExp2=Nh;O.Font=M1e;O.FontLoader=S1e;O.FramebufferTexture=QN;O.FrontSide=Yu;O.Frustum=Ph;O.GLBufferAttribute=FI;O.GLSL1=s_e;O.GLSL3=uN;O.GreaterDepth=l$;O.GreaterEqualDepth=a$;O.GreaterEqualStencilFunc=Kbe;O.GreaterStencilFunc=Jbe;O.GridHelper=VI;O.Group=Ic;O.HalfFloatType=td;O.HemisphereLight=YM;O.HemisphereLightHelper=GX;O.HemisphereLightProbe=EI;O.IcosahedronBufferGeometry=yd;O.IcosahedronGeometry=yd;O.ImageBitmapLoader=TI;O.ImageLoader=$h;O.ImageUtils=Ba;O.ImmediateRenderObject=E1e;O.IncrementStencilOp=Vbe;O.IncrementWrapStencilOp=Wbe;O.InstancedBufferAttribute=kc;O.InstancedBufferGeometry=rE;O.InstancedInterleavedBuffer=OI;O.InstancedMesh=bM;O.Int16Attribute=o1e;O.Int16BufferAttribute=LN;O.Int32Attribute=a1e;O.Int32BufferAttribute=DN;O.Int8Attribute=n1e;O.Int8BufferAttribute=RN;O.IntType=x$;O.InterleavedBuffer=Oc;O.InterleavedBufferAttribute=qa;O.Interpolant=Xs;O.InterpolateDiscrete=zv;O.InterpolateLinear=Uv;O.InterpolateSmooth=zS;O.InvertStencilOp=jbe;O.JSONLoader=x1e;O.KeepStencilOp=VS;O.KeyframeTrack=Fo;O.LOD=YN;O.LatheBufferGeometry=vd;O.LatheGeometry=vd;O.Layers=$v;O.LensFlare=_1e;O.LessDepth=o$;O.LessEqualDepth=LS;O.LessEqualStencilFunc=Ybe;O.LessStencilFunc=$be;O.Light=ko;O.LightProbe=Xh;O.Line=$s;O.Line3=BI;O.LineBasicMaterial=br;O.LineCurve=Vh;O.LineCurve3=sI;O.LineDashedMaterial=jM;O.LineLoop=wM;O.LinePieces=HEe;O.LineSegments=Ri;O.LineStrip=VEe;O.LinearEncoding=Fa;O.LinearFilter=In;O.LinearInterpolant=qM;O.LinearMipMapLinearFilter=Fbe;O.LinearMipMapNearestFilter=Obe;O.LinearMipmapLinearFilter=ed;O.LinearMipmapNearestFilter=VD;O.LinearToneMapping=p$;O.Loader=yi;O.LoaderUtils=P0;O.LoadingManager=XM;O.LoopOnce=L$;O.LoopPingPong=N$;O.LoopRepeat=D$;O.LuminanceAlphaFormat=S$;O.LuminanceFormat=T$;O.MOUSE=Rbe;O.Material=vr;O.MaterialLoader=_I;O.Math=V$;O.MathUtils=V$;O.Matrix3=cr;O.Matrix4=ct;O.MaxEquation=BD;O.Mesh=er;O.MeshBasicMaterial=Ws;O.MeshDepthMaterial=r0;O.MeshDistanceMaterial=i0;O.MeshFaceMaterial=qEe;O.MeshLambertMaterial=WM;O.MeshMatcapMaterial=GM;O.MeshNormalMaterial=HM;O.MeshPhongMaterial=UM;O.MeshPhysicalMaterial=zM;O.MeshStandardMaterial=M0;O.MeshToonMaterial=VM;O.MinEquation=kD;O.MirroredRepeatWrapping=kv;O.MixOperation=u$;O.MultiMaterial=$Ee;O.MultiplyBlending=FD;O.MultiplyOperation=Dv;O.NearestFilter=Kn;O.NearestMipMapLinearFilter=Ibe;O.NearestMipMapNearestFilter=Nbe;O.NearestMipmapLinearFilter=IS;O.NearestMipmapNearestFilter=NS;O.NeverDepth=r$;O.NeverStencilFunc=qbe;O.NoBlending=Da;O.NoColors=WEe;O.NoToneMapping=Na;O.NormalAnimationBlendMode=US;O.NormalBlending=oh;O.NotEqualDepth=c$;O.NotEqualStencilFunc=Zbe;O.NumberKeyframeTrack=Gh;O.Object3D=St;O.ObjectLoader=xX;O.ObjectSpaceNormalMap=k$;O.OctahedronBufferGeometry=Uc;O.OctahedronGeometry=Uc;O.OneFactor=Y9;O.OneMinusDstAlphaFactor=Q9;O.OneMinusDstColorFactor=t$;O.OneMinusSrcAlphaFactor=UD;O.OneMinusSrcColorFactor=Z9;O.OrthographicCamera=Rh;O.PCFShadowMap=DD;O.PCFSoftShadowMap=G9;O.PMREMGenerator=cM;O.ParametricGeometry=w1e;O.Particle=YEe;O.ParticleBasicMaterial=KEe;O.ParticleSystem=JEe;O.ParticleSystemMaterial=QEe;O.Path=Hh;O.PerspectiveCamera=xr;O.Plane=as;O.PlaneBufferGeometry=Lc;O.PlaneGeometry=Lc;O.PlaneHelper=ZX;O.PointCloud=XEe;O.PointCloudMaterial=ZEe;O.PointLight=KM;O.PointLightHelper=VX;O.Points=zh;O.PointsMaterial=Bc;O.PolarGridHelper=jX;O.PolyhedronBufferGeometry=cs;O.PolyhedronGeometry=cs;O.PositionalAudio=CX;O.PropertyBinding=Nt;O.PropertyMixer=AI;O.QuadraticBezierCurve=x0;O.QuadraticBezierCurve3=b0;O.Quaternion=Dr;O.QuaternionKeyframeTrack=Sd;O.QuaternionLinearInterpolant=fI;O.REVISION=AS;O.RGBADepthPacking=F$;O.RGBAFormat=qr;O.RGBAIntegerFormat=C$;O.RGBA_ASTC_10x10_Format=oN;O.RGBA_ASTC_10x5_Format=nN;O.RGBA_ASTC_10x6_Format=rN;O.RGBA_ASTC_10x8_Format=iN;O.RGBA_ASTC_12x10_Format=sN;O.RGBA_ASTC_12x12_Format=aN;O.RGBA_ASTC_4x4_Format=XD;O.RGBA_ASTC_5x4_Format=YD;O.RGBA_ASTC_5x5_Format=JD;O.RGBA_ASTC_6x5_Format=ZD;O.RGBA_ASTC_6x6_Format=KD;O.RGBA_ASTC_8x5_Format=QD;O.RGBA_ASTC_8x6_Format=eN;O.RGBA_ASTC_8x8_Format=tN;O.RGBA_BPTC_Format=lN;O.RGBA_ETC2_EAC_Format=$D;O.RGBA_PVRTC_2BPPV1_Format=jD;O.RGBA_PVRTC_4BPPV1_Format=GD;O.RGBA_S3TC_DXT1_Format=FS;O.RGBA_S3TC_DXT3_Format=kS;O.RGBA_S3TC_DXT5_Format=BS;O.RGB_ETC1_Format=A$;O.RGB_ETC2_Format=qD;O.RGB_PVRTC_2BPPV1_Format=WD;O.RGB_PVRTC_4BPPV1_Format=HD;O.RGB_S3TC_DXT1_Format=OS;O.RGFormat=P$;O.RGIntegerFormat=R$;O.RawShaderMaterial=pd;O.Ray=Ha;O.Raycaster=DX;O.RectAreaLight=tE;O.RedFormat=M$;O.RedIntegerFormat=E$;O.ReinhardToneMapping=f$;O.RepeatWrapping=Fv;O.ReplaceStencilOp=Ube;O.ReverseSubtractEquation=$9;O.RingBufferGeometry=xd;O.RingGeometry=xd;O.Scene=s0;O.SceneUtils=b1e;O.ShaderChunk=Mt;O.ShaderLib=ls;O.ShaderMaterial=js;O.ShadowMaterial=BM;O.Shape=us;O.ShapeBufferGeometry=Vc;O.ShapeGeometry=Vc;O.ShapePath=eY;O.ShapeUtils=ds;O.ShortType=v$;O.Skeleton=h0;O.SkeletonHelper=UI;O.SkinnedMesh=p0;O.SmoothShading=Dbe;O.Sphere=Ua;O.SphereBufferGeometry=Hc;O.SphereGeometry=Hc;O.Spherical=IX;O.SphericalHarmonics3=nE;O.SplineCurve=_0;O.SpotLight=ZM;O.SpotLightHelper=zX;O.Sprite=d0;O.SpriteMaterial=a0;O.SrcAlphaFactor=zD;O.SrcAlphaSaturateFactor=n$;O.SrcColorFactor=J9;O.StaticCopyUsage=r_e;O.StaticDrawUsage=lh;O.StaticReadUsage=e_e;O.StereoCamera=SX;O.StreamCopyUsage=o_e;O.StreamDrawUsage=Qbe;O.StreamReadUsage=n_e;O.StringKeyframeTrack=Gc;O.SubtractEquation=q9;O.SubtractiveBlending=OD;O.TOUCH=Cbe;O.TangentSpaceNormalMap=sd;O.TetrahedronBufferGeometry=bd;O.TetrahedronGeometry=bd;O.TextGeometry=T1e;O.Texture=Qn;O.TextureLoader=gI;O.TorusBufferGeometry=_d;O.TorusGeometry=_d;O.TorusKnotBufferGeometry=wd;O.TorusKnotGeometry=wd;O.Triangle=Hn;O.TriangleFanDrawMode=Bbe;O.TriangleStripDrawMode=kbe;O.TrianglesDrawMode=I$;O.TubeBufferGeometry=Td;O.TubeGeometry=Td;O.UVMapping=DS;O.Uint16Attribute=s1e;O.Uint16BufferAttribute=Yv;O.Uint32Attribute=l1e;O.Uint32BufferAttribute=Jv;O.Uint8Attribute=r1e;O.Uint8BufferAttribute=CN;O.Uint8ClampedAttribute=i1e;O.Uint8ClampedBufferAttribute=AN;O.Uniform=R0;O.UniformsLib=Ye;O.UniformsUtils=t7;O.UnsignedByteType=Ia;O.UnsignedInt248Type=nd;O.UnsignedIntType=Bv;O.UnsignedShort4444Type=b$;O.UnsignedShort5551Type=_$;O.UnsignedShortType=ah;O.VSMShadowMap=ih;O.Vector2=ze;O.Vector3=Q;O.Vector4=jt;O.VectorKeyframeTrack=jh;O.Vertex=e1e;O.VertexColors=jEe;O.VideoTexture=KN;O.WebGL1Renderer=$N;O.WebGLCubeRenderTarget=Qv;O.WebGLMultipleRenderTargets=gN;O.WebGLMultisampleRenderTarget=jv;O.WebGLRenderTarget=Ui;O.WebGLRenderTargetCube=y1e;O.WebGLRenderer=Jt;O.WebGLUtils=k7;O.WireframeGeometry=kM;O.WireframeHelper=h1e;O.WrapAroundEnding=Vv;O.XHRLoader=m1e;O.ZeroCurvatureEnding=id;O.ZeroFactor=X9;O.ZeroSlopeEnding=od;O.ZeroStencilOp=zbe;O._SRGBAFormat=HS;O.sRGBEncoding=mn});var oY=Re((Ult,iY)=>{iY.exports=function(n){function e(t,r){this.object=t,this.domElement=r!==void 0?r:document,this.enabled=!0,this.target=new n.Vector3,this.minDistance=0,this.maxDistance=Infinity,this.minZoom=0,this.maxZoom=Infinity,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-Infinity,this.maxAzimuthAngle=Infinity,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:n.MOUSE.LEFT,ZOOM:n.MOUSE.MIDDLE,PAN:n.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return d.phi},this.getAzimuthalAngle=function(){return d.theta},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(o),i.update(),c=l.NONE},this.update=function(){var w=new n.Vector3,H=new n.Quaternion().setFromUnitVectors(t.up,new n.Vector3(0,1,0)),ee=H.clone().inverse(),ue=new n.Vector3,G=new n.Quaternion;return function(){var fe=i.object.position;return w.copy(fe).sub(i.target),w.applyQuaternion(H),d.setFromVector3(w),i.autoRotate&&c===l.NONE&&T(L()),d.theta+=p.theta,d.phi+=p.phi,d.theta=Math.max(i.minAzimuthAngle,Math.min(i.maxAzimuthAngle,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=f,d.radius=Math.max(i.minDistance,Math.min(i.maxDistance,d.radius)),i.target.add(g),w.setFromSpherical(d),w.applyQuaternion(ee),fe.copy(i.target).add(w),i.object.lookAt(i.target),i.enableDamping===!0?(p.theta*=1-i.dampingFactor,p.phi*=1-i.dampingFactor):p.set(0,0,0),f=1,g.set(0,0,0),y||ue.distanceToSquared(i.object.position)>u||8*(1-G.dot(i.object.quaternion))>u?(i.dispatchEvent(o),ue.copy(i.object.position),G.copy(i.object.quaternion),y=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",C,!1),i.domElement.removeEventListener("mousedown",se,!1),i.domElement.removeEventListener("wheel",Ce,!1),i.domElement.removeEventListener("touchstart",Ne,!1),i.domElement.removeEventListener("touchend",Ue,!1),i.domElement.removeEventListener("touchmove",Ge,!1),document.removeEventListener("mousemove",Se,!1),document.removeEventListener("mouseup",be,!1),window.removeEventListener("keydown",Le,!1)};var i=this,o={type:"change"},s={type:"start"},a={type:"end"},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},c=l.NONE,u=1e-6,d=new n.Spherical,p=new n.Spherical,f=1,g=new n.Vector3,y=!1,v=new n.Vector2,m=new n.Vector2,h=new n.Vector2,b=new n.Vector2,x=new n.Vector2,_=new n.Vector2,S=new n.Vector2,M=new n.Vector2,E=new n.Vector2;function L(){return 2*Math.PI/60/60*i.autoRotateSpeed}function I(){return Math.pow(.95,i.zoomSpeed)}function T(w){p.theta-=w}function A(w){p.phi-=w}var k=function(){var w=new n.Vector3;return function(ee,ue){w.setFromMatrixColumn(ue,0),w.multiplyScalar(-ee),g.add(w)}}(),U=function(){var w=new n.Vector3;return function(ee,ue){w.setFromMatrixColumn(ue,1),w.multiplyScalar(ee),g.add(w)}}(),F=function(){var w=new n.Vector3;return function(ee,ue){var G=i.domElement===document?i.domElement.body:i.domElement;if(i.object instanceof n.PerspectiveCamera){var ge=i.object.position;w.copy(ge).sub(i.target);var fe=w.length();fe*=Math.tan(i.object.fov/2*Math.PI/180),k(2*ee*fe/G.clientHeight,i.object.matrix),U(2*ue*fe/G.clientHeight,i.object.matrix)}else i.object instanceof n.OrthographicCamera?(k(ee*(i.object.right-i.object.left)/i.object.zoom/G.clientWidth,i.object.matrix),U(ue*(i.object.top-i.object.bottom)/i.object.zoom/G.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function N(w){i.object instanceof n.PerspectiveCamera?f/=w:i.object instanceof n.OrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*w)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function j(w){i.object instanceof n.PerspectiveCamera?f*=w:i.object instanceof n.OrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/w)),i.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Y(w){v.set(w.clientX,w.clientY)}function pe(w){S.set(w.clientX,w.clientY)}function $(w){b.set(w.clientX,w.clientY)}function W(w){m.set(w.clientX,w.clientY),h.subVectors(m,v);var H=i.domElement===document?i.domElement.body:i.domElement;T(2*Math.PI*h.x/H.clientWidth*i.rotateSpeed),A(2*Math.PI*h.y/H.clientHeight*i.rotateSpeed),v.copy(m),i.update()}function J(w){M.set(w.clientX,w.clientY),E.subVectors(M,S),E.y>0?N(I()):E.y<0&&j(I()),S.copy(M),i.update()}function oe(w){x.set(w.clientX,w.clientY),_.subVectors(x,b),F(_.x,_.y),b.copy(x),i.update()}function re(w){}function D(w){w.deltaY<0?j(I()):w.deltaY>0&&N(I()),i.update()}function Te(w){switch(w.keyCode){case i.keys.UP:F(0,i.keyPanSpeed),i.update();break;case i.keys.BOTTOM:F(0,-i.keyPanSpeed),i.update();break;case i.keys.LEFT:F(i.keyPanSpeed,0),i.update();break;case i.keys.RIGHT:F(-i.keyPanSpeed,0),i.update();break}}function de(w){v.set(w.touches[0].pageX,w.touches[0].pageY)}function Me(w){var H=w.touches[0].pageX-w.touches[1].pageX,ee=w.touches[0].pageY-w.touches[1].pageY,ue=Math.sqrt(H*H+ee*ee);S.set(0,ue)}function me(w){b.set(w.touches[0].pageX,w.touches[0].pageY)}function Pe(w){m.set(w.touches[0].pageX,w.touches[0].pageY),h.subVectors(m,v);var H=i.domElement===document?i.domElement.body:i.domElement;T(2*Math.PI*h.x/H.clientWidth*i.rotateSpeed),A(2*Math.PI*h.y/H.clientHeight*i.rotateSpeed),v.copy(m),i.update()}function _e(w){var H=w.touches[0].pageX-w.touches[1].pageX,ee=w.touches[0].pageY-w.touches[1].pageY,ue=Math.sqrt(H*H+ee*ee);M.set(0,ue),E.subVectors(M,S),E.y>0?j(I()):E.y<0&&N(I()),S.copy(M),i.update()}function q(w){x.set(w.touches[0].pageX,w.touches[0].pageY),_.subVectors(x,b),F(_.x,_.y),b.copy(x),i.update()}function ce(w){}function se(w){if(i.enabled!==!1){if(w.preventDefault(),w.button===i.mouseButtons.ORBIT){if(i.enableRotate===!1)return;Y(w),c=l.ROTATE}else if(w.button===i.mouseButtons.ZOOM){if(i.enableZoom===!1)return;pe(w),c=l.DOLLY}else if(w.button===i.mouseButtons.PAN){if(i.enablePan===!1)return;$(w),c=l.PAN}c!==l.NONE&&(document.addEventListener("mousemove",Se,!1),document.addEventListener("mouseup",be,!1),i.dispatchEvent(s))}}function Se(w){if(i.enabled!==!1){if(w.preventDefault(),c===l.ROTATE){if(i.enableRotate===!1)return;W(w)}else if(c===l.DOLLY){if(i.enableZoom===!1)return;J(w)}else if(c===l.PAN){if(i.enablePan===!1)return;oe(w)}}}function be(w){i.enabled!==!1&&(re(w),document.removeEventListener("mousemove",Se,!1),document.removeEventListener("mouseup",be,!1),i.dispatchEvent(a),c=l.NONE)}function Ce(w){i.enabled===!1||i.enableZoom===!1||c!==l.NONE&&c!==l.ROTATE||(w.preventDefault(),w.stopPropagation(),D(w),i.dispatchEvent(s),i.dispatchEvent(a))}function Le(w){i.enabled===!1||i.enableKeys===!1||i.enablePan===!1||Te(w)}function Ne(w){if(i.enabled!==!1){switch(w.touches.length){case 1:if(i.enableRotate===!1)return;de(w),c=l.TOUCH_ROTATE;break;case 2:if(i.enableZoom===!1)return;Me(w),c=l.TOUCH_DOLLY;break;case 3:if(i.enablePan===!1)return;me(w),c=l.TOUCH_PAN;break;default:c=l.NONE}c!==l.NONE&&i.dispatchEvent(s)}}function Ge(w){if(i.enabled!==!1)switch(w.preventDefault(),w.stopPropagation(),w.touches.length){case 1:if(i.enableRotate===!1||c!==l.TOUCH_ROTATE)return;Pe(w);break;case 2:if(i.enableZoom===!1||c!==l.TOUCH_DOLLY)return;_e(w);break;case 3:if(i.enablePan===!1||c!==l.TOUCH_PAN)return;q(w);break;default:c=l.NONE}}function Ue(w){i.enabled!==!1&&(ce(w),i.dispatchEvent(a),c=l.NONE)}function C(w){w.preventDefault()}i.domElement.addEventListener("contextmenu",C,!1),i.domElement.addEventListener("mousedown",se,!1),i.domElement.addEventListener("wheel",Ce,!1),i.domElement.addEventListener("touchstart",Ne,!1),i.domElement.addEventListener("touchend",Ue,!1),i.domElement.addEventListener("touchmove",Ge,!1),window.addEventListener("keydown",Le,!1),this.update()}return e.prototype=Object.create(n.EventDispatcher.prototype),e.prototype.constructor=e,Object.defineProperties(e.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=t}}}),e}});var sY=Re(fE=>{"use strict";var C1e=et(),A1e=rr();Object.defineProperty(fE,"__esModule",{value:!0});fE.default=void 0;var L1e=A1e(we()),D1e=C1e(Ql()),N1e=(0,D1e.default)(L1e.createElement("path",{d:"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),"RotateLeft");fE.default=N1e});var aY=Re(hE=>{"use strict";var I1e=et(),O1e=rr();Object.defineProperty(hE,"__esModule",{value:!0});hE.default=void 0;var F1e=O1e(we()),k1e=I1e(Ql()),B1e=(0,k1e.default)(F1e.createElement("path",{d:"M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"}),"RotateRight");hE.default=B1e});var fY=Re(mE=>{"use strict";var pY=et();Object.defineProperty(mE,"__esModule",{value:!0});mE.default=void 0;var U1e=pY(an()),V1e=ni(),H1e=pY(S2());function W1e(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,V1e.makeStyles)(n,(0,U1e.default)({defaultTheme:H1e.default},e))}var G1e=W1e;mE.default=G1e});var bY=R(fr());var Ja=R(we()),Id=R(we());var NZ={black:"#000",white:"#fff"},hp=NZ;var IZ={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ym=IZ;var OZ={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Jm=OZ;var FZ={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Zm=FZ;var kZ={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Km=kZ;var BZ={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Qm=BZ;var zZ={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},eg=zZ;var UZ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},tg=UZ;var qk=R(st());function VP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.min(Math.max(e,n),t)}function zK(n){n=n.substr(1);var e=new RegExp(".{1,".concat(n.length>=6?2:1,"}"),"g"),t=n.match(e);return t&&t[0].length===1&&(t=t.map(function(r){return r+r})),t?"rgb".concat(t.length===4?"a":"","(").concat(t.map(function(r,i){return i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3}).join(", "),")"):""}function UK(n){n=au(n);var e=n,t=e.values,r=t[0],i=t[1]/100,o=t[2]/100,s=i*Math.min(o,1-o),a=function(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(d+r/30)%12;return o-s*Math.max(Math.min(p-3,9-p,1),-1)},l="rgb",c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(l+="a",c.push(t[3])),eb({type:l,values:c})}function au(n){if(n.type)return n;if(n.charAt(0)==="#")return au(zK(n));var e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla"].indexOf(t)===-1)throw new Error((0,qk.formatMuiErrorMessage)(3,n));var r=n.substring(e+1,n.length-1).split(",");return r=r.map(function(i){return parseFloat(i)}),{type:t,values:r}}function eb(n){var e=n.type,t=n.values;return e.indexOf("rgb")!==-1?t=t.map(function(r,i){return i<3?parseInt(r,10):r}):e.indexOf("hsl")!==-1&&(t[1]="".concat(t[1],"%"),t[2]="".concat(t[2],"%")),"".concat(e,"(").concat(t.join(", "),")")}function $k(n,e){var t=HP(n),r=HP(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function HP(n){n=au(n);var e=n.type==="hsl"?au(UK(n)).values:n.values;return e=e.map(function(t){return t/=255,t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function jo(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.15;return HP(n)>.5?ia(n,e):oa(n,e)}function vt(n,e){return n=au(n),e=VP(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.values[3]=e,eb(n)}function ia(n,e){if(n=au(n),e=VP(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)n.values[t]*=1-e;return eb(n)}function oa(n,e){if(n=au(n),e=VP(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(var t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;return eb(n)}function ft(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qo(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function ie(n,e){if(n==null)return{};var t=qo(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,r)||(t[r]=n[r]))}return t}var uR=R(st());function B(){return B=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},B.apply(this,arguments)}var kr=["xs","sm","md","lg","xl"];function WP(n){var e=n.values,t=e===void 0?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,r=n.unit,i=r===void 0?"px":r,o=n.step,s=o===void 0?5:o,a=ie(n,["values","unit","step"]);function l(f){var g=typeof t[f]=="number"?t[f]:f;return"@media (min-width:".concat(g).concat(i,")")}function c(f){var g=kr.indexOf(f)+1,y=t[kr[g]];if(g===kr.length)return l("xs");var v=typeof y=="number"&&g>0?y:f;return"@media (max-width:".concat(v-s/100).concat(i,")")}function u(f,g){var y=kr.indexOf(g);return y===kr.length-1?l(f):"@media (min-width:".concat(typeof t[f]=="number"?t[f]:f).concat(i,") and ")+"(max-width:".concat((y!==-1&&typeof t[kr[y+1]]=="number"?t[kr[y+1]]:g)-s/100).concat(i,")")}function d(f){return u(f,f)}function p(f){return t[f]}return B({keys:kr,values:t,up:l,down:c,between:u,only:d,width:p},a)}function GP(n,e,t){var r;return B({gutters:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return B({paddingLeft:e(2),paddingRight:e(2)},o,ft({},n.up("sm"),B({paddingLeft:e(3),paddingRight:e(3)},o[n.up("sm")])))},toolbar:(r={minHeight:56},ft(r,"".concat(n.up("xs")," and (orientation: landscape)"),{minHeight:48}),ft(r,n.up("sm"),{minHeight:64}),r)},t)}var jP=R(st()),Xk=R(st());var Yk={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hp.white,default:tg[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},qP={text:{primary:hp.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:tg[800],default:"#303030"},action:{active:hp.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Jk(n,e,t,r){var i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=oa(n.main,i):e==="dark"&&(n.dark=ia(n.main,o)))}function $P(n){var e=n.primary,t=e===void 0?{light:Zm[300],main:Zm[500],dark:Zm[700]}:e,r=n.secondary,i=r===void 0?{light:Jm.A200,main:Jm.A400,dark:Jm.A700}:r,o=n.error,s=o===void 0?{light:Ym[300],main:Ym[500],dark:Ym[700]}:o,a=n.warning,l=a===void 0?{light:eg[300],main:eg[500],dark:eg[700]}:a,c=n.info,u=c===void 0?{light:Km[300],main:Km[500],dark:Km[700]}:c,d=n.success,p=d===void 0?{light:Qm[300],main:Qm[500],dark:Qm[700]}:d,f=n.type,g=f===void 0?"light":f,y=n.contrastThreshold,v=y===void 0?3:y,m=n.tonalOffset,h=m===void 0?.2:m,b=ie(n,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(E){var L=$k(E,qP.text.primary)>=v?qP.text.primary:Yk.text.primary;if(!1)var I;return L}var _=function(L){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:500,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:300,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:700;if(L=B({},L),!L.main&&L[I]&&(L.main=L[I]),!L.main)throw new Error((0,jP.formatMuiErrorMessage)(4,I));if(typeof L.main!="string")throw new Error((0,jP.formatMuiErrorMessage)(5,JSON.stringify(L.main)));return Jk(L,"light",T,h),Jk(L,"dark",A,h),L.contrastText||(L.contrastText=x(L.main)),L},S={dark:qP,light:Yk},M=(0,Xk.deepmerge)(B({common:hp,type:g,primary:_(t),secondary:_(i,"A400","A200","A700"),error:_(s),warning:_(l),info:_(u),success:_(p),grey:tg,contrastThreshold:v,getContrastText:x,augmentColor:_,tonalOffset:h},S[g]),b);return M}var Zk=R(st());function Kk(n){return Math.round(n*1e5)/1e5}var Qk={textTransform:"uppercase"},eB='"Roboto", "Helvetica", "Arial", sans-serif';function XP(n,e){var t=typeof e=="function"?e(n):e,r=t.fontFamily,i=r===void 0?eB:r,o=t.fontSize,s=o===void 0?14:o,a=t.fontWeightLight,l=a===void 0?300:a,c=t.fontWeightRegular,u=c===void 0?400:c,d=t.fontWeightMedium,p=d===void 0?500:d,f=t.fontWeightBold,g=f===void 0?700:f,y=t.htmlFontSize,v=y===void 0?16:y,m=t.allVariants,h=t.pxToRem,b=ie(t,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]),x=s/14,_=h||function(E){return"".concat(E/v*x,"rem")},S=function(L,I,T,A,k){return B({fontFamily:i,fontWeight:L,fontSize:_(I),lineHeight:T},i===eB?{letterSpacing:"".concat(Kk(A/I),"em")}:{},k,m)},M={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(u,48,1.167,0),h4:S(u,34,1.235,.25),h5:S(u,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(u,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(u,16,1.5,.15),body2:S(u,14,1.43,.15),button:S(p,14,1.75,.4,Qk),caption:S(u,12,1.66,.4),overline:S(u,12,2.66,1,Qk)};return(0,Zk.deepmerge)(B({htmlFontSize:v,pxToRem:_,round:Kk,fontFamily:i,fontSize:s,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:p,fontWeightBold:g},M),b,{clone:!1})}var VK=.2,HK=.14,WK=.12;function vn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(VK,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(HK,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(WK,")")].join(",")}var GK=["none",vn(0,2,1,-1,0,1,1,0,0,1,3,0),vn(0,3,1,-2,0,2,2,0,0,1,5,0),vn(0,3,3,-2,0,3,4,0,0,1,8,0),vn(0,2,4,-1,0,4,5,0,0,1,10,0),vn(0,3,5,-1,0,5,8,0,0,1,14,0),vn(0,3,5,-1,0,6,10,0,0,1,18,0),vn(0,4,5,-2,0,7,10,1,0,2,16,1),vn(0,5,5,-3,0,8,10,1,0,3,14,2),vn(0,5,6,-3,0,9,12,1,0,3,16,2),vn(0,6,6,-3,0,10,14,1,0,4,18,3),vn(0,6,7,-4,0,11,15,1,0,4,20,3),vn(0,7,8,-4,0,12,17,2,0,5,22,4),vn(0,7,8,-4,0,13,19,2,0,5,24,4),vn(0,7,9,-4,0,14,21,2,0,5,26,4),vn(0,8,9,-5,0,15,22,2,0,6,28,5),vn(0,8,10,-5,0,16,24,2,0,6,30,5),vn(0,8,11,-5,0,17,26,2,0,6,32,5),vn(0,9,11,-5,0,18,28,2,0,7,34,6),vn(0,9,12,-6,0,19,29,2,0,7,36,6),vn(0,10,13,-6,0,20,31,3,0,8,38,7),vn(0,10,13,-6,0,21,33,3,0,8,40,7),vn(0,10,14,-6,0,22,35,3,0,8,42,7),vn(0,11,14,-7,0,23,36,3,0,9,44,8),vn(0,11,15,-7,0,24,38,3,0,9,46,8)],tB=GK;var jK={borderRadius:4},nB=jK;var jz=R(db());function cR(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:8;if(n.mui)return n;var e=(0,jz.createUnarySpacing)({spacing:n}),t=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return o.length===0?e(1):o.length===1?e(o[0]):o.map(function(a){if(typeof a=="string")return a;var l=e(a);return typeof l=="number"?"".concat(l,"px"):l}).join(" ")};return Object.defineProperty(t,"unit",{get:function(){return n}}),t.mui=!0,t}var qz={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},fn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $z(n){return"".concat(Math.round(n),"ms")}var Xz={easing:qz,duration:fn,create:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["all"],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.duration,i=r===void 0?fn.standard:r,o=t.easing,s=o===void 0?qz.easeInOut:o,a=t.delay,l=a===void 0?0:a,c=ie(t,["duration","easing","delay"]);if(!1)var u,d;return(Array.isArray(e)?e:[e]).map(function(p){return"".concat(p," ").concat(typeof i=="string"?i:$z(i)," ").concat(s," ").concat(typeof l=="string"?l:$z(l))}).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round((4+15*Math.pow(t,.25)+t/5)*10)}};var Ree={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},pb=Ree;function Cee(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.breakpoints,t=e===void 0?{}:e,r=n.mixins,i=r===void 0?{}:r,o=n.palette,s=o===void 0?{}:o,a=n.spacing,l=n.typography,c=l===void 0?{}:l,u=ie(n,["breakpoints","mixins","palette","spacing","typography"]),d=$P(s),p=WP(t),f=cR(a),g=(0,uR.deepmerge)({breakpoints:p,direction:"ltr",mixins:GP(p,f,i),overrides:{},palette:d,props:{},shadows:tB,typography:XP(d,c),spacing:f,shape:nB,transitions:Xz,zIndex:pb},u),y=arguments.length,v=new Array(y>1?y-1:0),m=1;m<y;m++)v[m-1]=arguments[m];if(g=v.reduce(function(x,_){return(0,uR.deepmerge)(x,_)},g),!1)var h,b;return g}var fb=Cee;var Aee=R(st());var V4=R(ni());function la(n){return(0,V4.createStyles)(n)}var H4=R(ni());var ioe=fb(),Ss=ioe;function ooe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,H4.makeStyles)(n,B({defaultTheme:Ss},e))}var ir=ooe;var soe=R(st());var W4=R(ni());var aoe=function(e){var t=(0,W4.styled)(e);return function(r,i){return t(r,B({defaultTheme:Ss},i))}},HC=aoe;var G4=R(ni()),k2e=R(we());function Pt(){var n=(0,G4.useTheme)()||Ss;return n}var j4=R(ni());function loe(n,e){return(0,j4.withStyles)(n,B({defaultTheme:Ss},e))}var ye=loe;var q4=R(ni());var j2e=(0,q4.withThemeCreator)({defaultTheme:Ss});var Ap=R(ni());var $4=R(st());function Fe(n){if(typeof n!="string")throw new Error((0,$4.formatMuiErrorMessage)(7));return n.charAt(0).toUpperCase()+n.slice(1)}function wi(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.reduce(function(r,i){return i==null?r:function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];r.apply(this,a),i.apply(this,a)}},function(){})}var Zb=R(we());var jg=R(we()),pLe=R(Ae()),X4=R(Be());var coe=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}},Y4=jg.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.color,a=s===void 0?"inherit":s,l=e.component,c=l===void 0?"svg":l,u=e.fontSize,d=u===void 0?"default":u,p=e.htmlColor,f=e.titleAccess,g=e.viewBox,y=g===void 0?"0 0 24 24":g,v=ie(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return jg.createElement(c,B({className:(0,X4.default)(i.root,o,a!=="inherit"&&i["color".concat(Fe(a))],d!=="default"&&i["fontSize".concat(Fe(d))]),focusable:"false",viewBox:y,color:p,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:t},v),r,f?jg.createElement("title",null,f):null)});Y4.muiName="SvgIcon";var gu=ye(coe,{name:"MuiSvgIcon"})(Y4);function Ht(n,e){var t=function(i,o){return Zb.default.createElement(gu,B({ref:o},i),n)};return t.muiName=gu.muiName,Zb.default.memo(Zb.default.forwardRef(t))}function Ti(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:166,t;function r(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=this,l=function(){n.apply(a,o)};clearTimeout(t),t=setTimeout(l,e)}return r.clear=function(){clearTimeout(t)},r}var J4=R(we());function Mo(n,e){return J4.isValidElement(n)&&e.indexOf(n.type.muiName)!==-1}function $t(n){return n&&n.ownerDocument||document}function Rl(n){var e=$t(n);return e.defaultView||window}function hr(n,e){typeof n=="function"?n(e):n&&(n.current=e)}var yu=R(we());function ri(n){var e=n.controlled,t=n.default,r=n.name,i=n.state,o=i===void 0?"value":i,s=yu.useRef(e!==void 0),a=s.current,l=yu.useState(t),c=l[0],u=l[1],d=a?e:c;if(!1)var p,f;var g=yu.useCallback(function(y){a||u(y)},[]);return[d,g]}var Cl=R(we()),uoe=typeof window!="undefined"?Cl.useLayoutEffect:Cl.useEffect;function Ct(n){var e=Cl.useRef(n);return uoe(function(){e.current=n}),Cl.useCallback(function(){return e.current.apply(void 0,arguments)},[])}var Z4=R(we());function pt(n,e){return Z4.useMemo(function(){return n==null&&e==null?null:function(t){hr(n,t),hr(e,t)}},[n,e])}var Kb=R(we());function ca(n){var e=Kb.useState(n),t=e[0],r=e[1],i=n||t;return Kb.useEffect(function(){t==null&&r("mui-".concat(Math.round(Math.random()*1e5)))},[t]),i}var WC=R(we()),K4=R(fr()),Qb=!0,GC=!1,Q4=null,doe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function poe(n){var e=n.type,t=n.tagName;return!!(t==="INPUT"&&doe[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function foe(n){n.metaKey||n.altKey||n.ctrlKey||(Qb=!0)}function jC(){Qb=!1}function hoe(){this.visibilityState==="hidden"&&GC&&(Qb=!0)}function moe(n){n.addEventListener("keydown",foe,!0),n.addEventListener("mousedown",jC,!0),n.addEventListener("pointerdown",jC,!0),n.addEventListener("touchstart",jC,!0),n.addEventListener("visibilitychange",hoe,!0)}function goe(n){var e=n.target;try{return e.matches(":focus-visible")}catch(t){}return Qb||poe(e)}function yoe(){GC=!0,window.clearTimeout(Q4),Q4=window.setTimeout(function(){GC=!1},100)}function Ms(){var n=WC.useCallback(function(e){var t=K4.findDOMNode(e);t!=null&&moe(t.ownerDocument)},[]);return{isFocusVisible:goe,onBlurVisible:yoe,ref:n}}function qg(n){if(Array.isArray(n))return n}function $g(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Lp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vu(n,e){if(!!n){if(typeof n=="string")return Lp(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lp(n,e)}}function Xg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yg(n){return qg(n)||$g(n)||vu(n)||Xg()}function qC(n,e){var t=n&&(typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,s,a;try{for(t=t.call(n);!(i=(s=t.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw a}}return r}}function An(n,e){return qg(n)||qC(n,e)||vu(n,e)||Xg()}var Ii=R(we()),aIe=R($i()),cIe=R(Ae()),dV=R(Be()),dIe=R(st());var Ni=R(we()),aV=R(Be()),ONe=R(Ae());function xu(n,e){return xu=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},xu(n,e)}function Xo(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,xu(n,e)}var GDe=R(Ae());function $C(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function XC(n,e){n.classList?n.classList.add(e):$C(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function eV(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function YC(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=eV(n.className,e):n.setAttribute("class",eV(n.className&&n.className.baseVal||"",e))}var JC=R(we());var IDe=R(Ae()),Jg=R(we()),t_=R(fr());var e_={disabled:!1};var RDe=R(Ae());var tV=R(we()),Al=tV.default.createContext(null);var Zg="unmounted",bu="exited",Qi="entering",Yo="entered",Dp="exiting",ua=function(n){Xo(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=bu,o.appearStatus=Qi):l=Yo:r.unmountOnExit||r.mountOnEnter?l=Zg:l=bu,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Zg?{status:bu}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Qi&&s!==Yo&&(o=Qi):(s===Qi||s===Yo)&&(o=Dp)}this.updateStatus(!1,o)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},t.updateStatus=function(i,o){i===void 0&&(i=!1),o!==null?(this.cancelNextCallback(),o===Qi?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===bu&&this.setState({status:Zg})},t.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[t_.default.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),p=a?d.appear:d.enter;if(!i&&!s||e_.disabled){this.safeSetState({status:Yo},function(){o.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:Qi},function(){o.props.onEntering(c,u),o.onTransitionEnd(p,function(){o.safeSetState({status:Yo},function(){o.props.onEntered(c,u)})})})},t.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:t_.default.findDOMNode(this);if(!o||e_.disabled){this.safeSetState({status:bu},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Dp},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:bu},function(){i.props.onExited(a)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},t.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},t.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:t_.default.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Zg)return null;var o=this.props,s=o.children,a=o.in,l=o.mountOnEnter,c=o.unmountOnExit,u=o.appear,d=o.enter,p=o.exit,f=o.timeout,g=o.addEndListener,y=o.onEnter,v=o.onEntering,m=o.onEntered,h=o.onExit,b=o.onExiting,x=o.onExited,_=o.nodeRef,S=qo(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Jg.default.createElement(Al.Provider,{value:null},typeof s=="function"?s(i,S):Jg.default.cloneElement(Jg.default.Children.only(s),S))},e}(Jg.default.Component);ua.contextType=Al;ua.propTypes={};function Np(){}ua.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Np,onEntering:Np,onEntered:Np,onExit:Np,onExiting:Np,onExited:Np};ua.UNMOUNTED=Zg;ua.EXITED=bu;ua.ENTERING=Qi;ua.ENTERED=Yo;ua.EXITING=Dp;var eo=ua;var voe=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return XC(e,r)})},ZC=function(e,t){return e&&t&&t.split(" ").forEach(function(r){return YC(e,r)})},nV=function(n){Xo(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1];r.removeClasses(u,"exit"),r.addClass(u,d?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(a,l)},r.onEntering=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],p=d?"appear":"enter";r.addClass(u,p,"active"),r.props.onEntering&&r.props.onEntering(a,l)},r.onEntered=function(a,l){var c=r.resolveArguments(a,l),u=c[0],d=c[1],p=d?"appear":"enter";r.removeClasses(u,p),r.addClass(u,p,"done"),r.props.onEntered&&r.props.onEntered(a,l)},r.onExit=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"appear"),r.removeClasses(c,"enter"),r.addClass(c,"exit","base"),r.props.onExit&&r.props.onExit(a)},r.onExiting=function(a){var l=r.resolveArguments(a),c=l[0];r.addClass(c,"exit","active"),r.props.onExiting&&r.props.onExiting(a)},r.onExited=function(a){var l=r.resolveArguments(a),c=l[0];r.removeClasses(c,"exit"),r.addClass(c,"exit","done"),r.props.onExited&&r.props.onExited(a)},r.resolveArguments=function(a,l){return r.props.nodeRef?[r.props.nodeRef.current,a]:[a,l]},r.getClassNames=function(a){var l=r.props.classNames,c=typeof l=="string",u=c&&l?l+"-":"",d=c?""+u+a:l[a],p=c?d+"-active":l[a+"Active"],f=c?d+"-done":l[a+"Done"];return{baseClassName:d,activeClassName:p,doneClassName:f}},r}var t=e.prototype;return t.addClass=function(i,o,s){var a=this.getClassNames(o)[s+"ClassName"],l=this.getClassNames("enter"),c=l.doneClassName;o==="appear"&&s==="done"&&c&&(a+=" "+c),s==="active"&&i&&i.scrollTop,a&&(this.appliedClasses[o][s]=a,voe(i,a))},t.removeClasses=function(i,o){var s=this.appliedClasses[o],a=s.base,l=s.active,c=s.done;this.appliedClasses[o]={},a&&ZC(i,a),l&&ZC(i,l),c&&ZC(i,c)},t.render=function(){var i=this.props,o=i.classNames,s=qo(i,["classNames"]);return JC.default.createElement(eo,B({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(JC.default.Component);nV.defaultProps={classNames:""};nV.propTypes={};var dNe=R(Ae()),wu=R(we()),oV=R(fr());function Kg(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var iNe=R(Ae()),Qg=R(we());var Eo=R(we());function n_(n,e){var t=function(o){return e&&(0,Eo.isValidElement)(o)?e(o):o},r=Object.create(null);return n&&Eo.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function xoe(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var r=Object.create(null),i=[];for(var o in n)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var c=r[l][s];a[r[l][s]]=t(c)}a[l]=t(l)}for(s=0;s<i.length;s++)a[i[s]]=t(i[s]);return a}function _u(n,e,t){return t[e]!=null?t[e]:n.props[e]}function rV(n,e){return n_(n.children,function(t){return(0,Eo.cloneElement)(t,{onExited:e.bind(null,t),in:!0,appear:_u(t,"appear",n),enter:_u(t,"enter",n),exit:_u(t,"exit",n)})})}function iV(n,e,t){var r=n_(n.children),i=xoe(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(!!(0,Eo.isValidElement)(s)){var a=o in e,l=o in r,c=e[o],u=(0,Eo.isValidElement)(c)&&!c.props.in;l&&(!a||u)?i[o]=(0,Eo.cloneElement)(s,{onExited:t.bind(null,s),in:!0,exit:_u(s,"exit",n),enter:_u(s,"enter",n)}):!l&&a&&!u?i[o]=(0,Eo.cloneElement)(s,{in:!1}):l&&a&&(0,Eo.isValidElement)(c)&&(i[o]=(0,Eo.cloneElement)(s,{onExited:t.bind(null,s),in:c.props.in,exit:_u(s,"exit",n),enter:_u(s,"enter",n)}))}}),i}var boe=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},_oe={component:"div",childFactory:function(e){return e}},KC=function(n){Xo(e,n);function e(r,i){var o;o=n.call(this,r,i)||this;var s=o.handleExited.bind(Kg(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?rV(i,a):iV(i,s,a),firstRender:!1}},t.handleExited=function(i,o){var s=n_(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=B({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=qo(i,["component","childFactory"]),l=this.state.contextValue,c=boe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?Qg.default.createElement(Al.Provider,{value:l},c):Qg.default.createElement(Al.Provider,{value:l},Qg.default.createElement(o,a,c))},e}(Qg.default.Component);KC.propTypes={};KC.defaultProps=_oe;var ey=KC;var woe=function(n){Xo(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.handleEnter=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return r.handleLifecycle("onEnter",0,l)},r.handleEntering=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return r.handleLifecycle("onEntering",0,l)},r.handleEntered=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return r.handleLifecycle("onEntered",0,l)},r.handleExit=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return r.handleLifecycle("onExit",1,l)},r.handleExiting=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return r.handleLifecycle("onExiting",1,l)},r.handleExited=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return r.handleLifecycle("onExited",1,l)},r}var t=e.prototype;return t.handleLifecycle=function(i,o,s){var a,l=this.props.children,c=wu.default.Children.toArray(l)[o];if(c.props[i]&&(a=c.props)[i].apply(a,s),this.props[i]){var u=c.props.nodeRef?void 0:oV.default.findDOMNode(this);this.props[i](u)}},t.render=function(){var i=this.props,o=i.children,s=i.in,a=qo(i,["children","in"]),l=wu.default.Children.toArray(o),c=l[0],u=l[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,wu.default.createElement(ey,a,s?wu.default.cloneElement(c,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):wu.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},e}(wu.default.Component);woe.propTypes={};var to=R(we()),gNe=R(Ae());var r_,i_;function Toe(n,e){return!(n===e||to.default.isValidElement(n)&&to.default.isValidElement(e)&&n.key!=null&&n.key===e.key)}var Ip={out:"out-in",in:"in-out"},o_=function(e,t,r){return function(){var i;e.props[t]&&(i=e.props)[t].apply(i,arguments),r()}},Soe=(r_={},r_[Ip.out]=function(n){var e=n.current,t=n.changeState;return to.default.cloneElement(e,{in:!1,onExited:o_(e,"onExited",function(){t(Qi,null)})})},r_[Ip.in]=function(n){var e=n.current,t=n.changeState,r=n.children;return[e,to.default.cloneElement(r,{in:!0,onEntered:o_(r,"onEntered",function(){t(Qi)})})]},r_),Moe=(i_={},i_[Ip.out]=function(n){var e=n.children,t=n.changeState;return to.default.cloneElement(e,{in:!0,onEntered:o_(e,"onEntered",function(){t(Yo,to.default.cloneElement(e,{in:!0}))})})},i_[Ip.in]=function(n){var e=n.current,t=n.children,r=n.changeState;return[to.default.cloneElement(e,{in:!1,onExited:o_(e,"onExited",function(){r(Yo,to.default.cloneElement(t,{in:!0}))})}),to.default.cloneElement(t,{in:!0})]},i_),sV=function(n){Xo(e,n);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=n.call.apply(n,[this].concat(o))||this,r.state={status:Yo,current:null},r.appeared=!1,r.changeState=function(a,l){l===void 0&&(l=r.state.current),r.setState({status:a,current:l})},r}var t=e.prototype;return t.componentDidMount=function(){this.appeared=!0},e.getDerivedStateFromProps=function(i,o){return i.children==null?{current:null}:o.status===Qi&&i.mode===Ip.in?{status:Qi}:o.current&&Toe(o.current,i.children)?{status:Dp}:{current:to.default.cloneElement(i.children,{in:!0})}},t.render=function(){var i=this.props,o=i.children,s=i.mode,a=this.state,l=a.status,c=a.current,u={children:o,current:c,changeState:this.changeState,status:l},d;switch(l){case Qi:d=Moe[s](u);break;case Dp:d=Soe[s](u);break;case Yo:d=c}return to.default.createElement(Al.Provider,{value:{isMounting:!this.appeared}},d)},e}(to.default.Component);sV.propTypes={};sV.defaultProps={mode:Ip.out};var Ll=function(e){return e.scrollTop};function Br(n,e){var t=n.timeout,r=n.style,i=r===void 0?{}:r;return{duration:i.transitionDuration||typeof t=="number"?t:t[e.mode]||0,delay:i.transitionDelay}}var Eoe=function(e){return{container:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},lV=Ni.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.collapsedHeight,a=s===void 0?"0px":s,l=e.component,c=l===void 0?"div":l,u=e.disableStrictModeCompat,d=u===void 0?!1:u,p=e.in,f=e.onEnter,g=e.onEntered,y=e.onEntering,v=e.onExit,m=e.onExited,h=e.onExiting,b=e.style,x=e.timeout,_=x===void 0?fn.standard:x,S=e.TransitionComponent,M=S===void 0?eo:S,E=ie(e,["children","classes","className","collapsedHeight","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),L=Pt(),I=Ni.useRef(),T=Ni.useRef(null),A=Ni.useRef(),k=typeof a=="number"?"".concat(a,"px"):a;Ni.useEffect(function(){return function(){clearTimeout(I.current)}},[]);var U=L.unstable_strictMode&&!d,F=Ni.useRef(null),N=pt(t,U?F:void 0),j=function(Te){return function(de,Me){if(Te){var me=U?[F.current,de]:[de,Me],Pe=An(me,2),_e=Pe[0],q=Pe[1];q===void 0?Te(_e):Te(_e,q)}}},Y=j(function(D,Te){D.style.height=k,f&&f(D,Te)}),pe=j(function(D,Te){var de=T.current?T.current.clientHeight:0,Me=Br({style:b,timeout:_},{mode:"enter"}),me=Me.duration;if(_==="auto"){var Pe=L.transitions.getAutoHeightDuration(de);D.style.transitionDuration="".concat(Pe,"ms"),A.current=Pe}else D.style.transitionDuration=typeof me=="string"?me:"".concat(me,"ms");D.style.height="".concat(de,"px"),y&&y(D,Te)}),$=j(function(D,Te){D.style.height="auto",g&&g(D,Te)}),W=j(function(D){var Te=T.current?T.current.clientHeight:0;D.style.height="".concat(Te,"px"),v&&v(D)}),J=j(m),oe=j(function(D){var Te=T.current?T.current.clientHeight:0,de=Br({style:b,timeout:_},{mode:"exit"}),Me=de.duration;if(_==="auto"){var me=L.transitions.getAutoHeightDuration(Te);D.style.transitionDuration="".concat(me,"ms"),A.current=me}else D.style.transitionDuration=typeof Me=="string"?Me:"".concat(Me,"ms");D.style.height=k,h&&h(D)}),re=function(Te,de){var Me=U?Te:de;_==="auto"&&(I.current=setTimeout(Me,A.current||0))};return Ni.createElement(M,B({in:p,onEnter:Y,onEntered:$,onEntering:pe,onExit:W,onExited:J,onExiting:oe,addEndListener:re,nodeRef:U?F:void 0,timeout:_==="auto"?null:_},E),function(D,Te){return Ni.createElement(c,B({className:(0,aV.default)(i.container,o,{entered:i.entered,exited:!p&&k==="0px"&&i.hidden}[D]),style:B({minHeight:k},b),ref:N},Te),Ni.createElement("div",{className:i.wrapper,ref:T},Ni.createElement("div",{className:i.wrapperInner},r)))})});lV.muiSupportAuto=!0;var Dl=ye(Eoe,{name:"MuiCollapse"})(lV);var s_=R(we()),XNe=R(Ae()),cV=R(Be()),JNe=R(st());var Poe=function(e){var t={};return e.shadows.forEach(function(r,i){t["elevation".concat(i)]={boxShadow:r}}),B({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)},Roe=s_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?"div":o,a=e.square,l=a===void 0?!1:a,c=e.elevation,u=c===void 0?1:c,d=e.variant,p=d===void 0?"elevation":d,f=ie(e,["classes","className","component","square","elevation","variant"]);return s_.createElement(s,B({className:(0,cV.default)(r.root,i,p==="outlined"?r.outlined:r["elevation".concat(u)],!l&&r.rounded),ref:t},f))}),zn=ye(Poe,{name:"MuiPaper"})(Roe);var uV=R(we()),Coe=uV.createContext({}),a_=Coe;var Aoe=function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}},Loe=Ii.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.defaultExpanded,a=s===void 0?!1:s,l=e.disabled,c=l===void 0?!1:l,u=e.expanded,d=e.onChange,p=e.square,f=p===void 0?!1:p,g=e.TransitionComponent,y=g===void 0?Dl:g,v=e.TransitionProps,m=ie(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),h=ri({controlled:u,default:a,name:"Accordion",state:"expanded"}),b=An(h,2),x=b[0],_=b[1],S=Ii.useCallback(function(A){_(!x),d&&d(A,!x)},[x,d,_]),M=Ii.Children.toArray(r),E=Yg(M),L=E[0],I=E.slice(1),T=Ii.useMemo(function(){return{expanded:x,disabled:c,toggle:S}},[x,c,S]);return Ii.createElement(zn,B({className:(0,dV.default)(i.root,o,x&&i.expanded,c&&i.disabled,!f&&i.rounded),ref:t,square:f},m),Ii.createElement(a_.Provider,{value:T},L),Ii.createElement(y,B({in:x,timeout:"auto"},v),Ii.createElement("div",{"aria-labelledby":L.props.id,id:L.props["aria-controls"],role:"region"},I)))}),pV=ye(Aoe,{name:"MuiAccordion"})(Loe);var l_=R(we()),TIe=R(Ae()),fV=R(Be());var Doe={root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},Noe=l_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.disableSpacing,s=o===void 0?!1:o,a=ie(e,["classes","className","disableSpacing"]);return l_.createElement("div",B({className:(0,fV.default)(r.root,i,!s&&r.spacing),ref:t},a))}),hV=ye(Doe,{name:"MuiAccordionActions"})(Noe);var c_=R(we()),LIe=R(Ae()),mV=R(Be());var Ioe=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}},Ooe=c_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=ie(e,["classes","className"]);return c_.createElement("div",B({className:(0,mV.default)(r.root,i),ref:t},o))}),gV=ye(Ioe,{name:"MuiAccordionDetails"})(Ooe);var Es=R(we()),I3e=R(Ae()),u_=R(Be());var Ur=R(we()),s3e=R(Ae()),bV=R(fr()),_V=R(Be()),l3e=R(st());function QC(n){if(Array.isArray(n))return Lp(n)}function eA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(n){return QC(n)||$g(n)||vu(n)||eA()}var rn=R(we()),KIe=R(Ae());var vV=R(Be());var da=R(we()),jIe=R(Ae()),tA=R(Be());var Foe=typeof window=="undefined"?da.useEffect:da.useLayoutEffect;function koe(n){var e=n.classes,t=n.pulsate,r=t===void 0?!1:t,i=n.rippleX,o=n.rippleY,s=n.rippleSize,a=n.in,l=n.onExited,c=l===void 0?function(){}:l,u=n.timeout,d=da.useState(!1),p=d[0],f=d[1],g=(0,tA.default)(e.ripple,e.rippleVisible,r&&e.ripplePulsate),y={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},v=(0,tA.default)(e.child,p&&e.childLeaving,r&&e.childPulsate),m=Ct(c);return Foe(function(){if(!a){f(!0);var h=setTimeout(m,u);return function(){clearTimeout(h)}}},[m,a,u]),da.createElement("span",{className:g,style:y},da.createElement("span",{className:v}))}var yV=koe;var nA=550,Boe=80,zoe=function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(nA,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(nA,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}},Uoe=rn.forwardRef(function(e,t){var r=e.center,i=r===void 0?!1:r,o=e.classes,s=e.className,a=ie(e,["center","classes","className"]),l=rn.useState([]),c=l[0],u=l[1],d=rn.useRef(0),p=rn.useRef(null);rn.useEffect(function(){p.current&&(p.current(),p.current=null)},[c]);var f=rn.useRef(!1),g=rn.useRef(null),y=rn.useRef(null),v=rn.useRef(null);rn.useEffect(function(){return function(){clearTimeout(g.current)}},[]);var m=rn.useCallback(function(_){var S=_.pulsate,M=_.rippleX,E=_.rippleY,L=_.rippleSize,I=_.cb;u(function(T){return[].concat(zr(T),[rn.createElement(yV,{key:d.current,classes:o,timeout:nA,pulsate:S,rippleX:M,rippleY:E,rippleSize:L})])}),d.current+=1,p.current=I},[o]),h=rn.useCallback(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=arguments.length>2?arguments[2]:void 0,E=S.pulsate,L=E===void 0?!1:E,I=S.center,T=I===void 0?i||S.pulsate:I,A=S.fakeElement,k=A===void 0?!1:A;if(_.type==="mousedown"&&f.current){f.current=!1;return}_.type==="touchstart"&&(f.current=!0);var U=k?null:v.current,F=U?U.getBoundingClientRect():{width:0,height:0,left:0,top:0},N,j,Y;if(T||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)N=Math.round(F.width/2),j=Math.round(F.height/2);else{var pe=_.touches?_.touches[0]:_,$=pe.clientX,W=pe.clientY;N=Math.round($-F.left),j=Math.round(W-F.top)}if(T)Y=Math.sqrt((2*Math.pow(F.width,2)+Math.pow(F.height,2))/3),Y%2==0&&(Y+=1);else{var J=Math.max(Math.abs((U?U.clientWidth:0)-N),N)*2+2,oe=Math.max(Math.abs((U?U.clientHeight:0)-j),j)*2+2;Y=Math.sqrt(Math.pow(J,2)+Math.pow(oe,2))}_.touches?y.current===null&&(y.current=function(){m({pulsate:L,rippleX:N,rippleY:j,rippleSize:Y,cb:M})},g.current=setTimeout(function(){y.current&&(y.current(),y.current=null)},Boe)):m({pulsate:L,rippleX:N,rippleY:j,rippleSize:Y,cb:M})},[i,m]),b=rn.useCallback(function(){h({},{pulsate:!0})},[h]),x=rn.useCallback(function(_,S){if(clearTimeout(g.current),_.type==="touchend"&&y.current){_.persist(),y.current(),y.current=null,g.current=setTimeout(function(){x(_,S)});return}y.current=null,u(function(M){return M.length>0?M.slice(1):M}),p.current=S},[]);return rn.useImperativeHandle(t,function(){return{pulsate:b,start:h,stop:x}},[b,h,x]),rn.createElement("span",B({className:(0,vV.default)(o.root,s),ref:v},a),rn.createElement(ey,{component:null,exit:!0},c))}),xV=ye(zoe,{flip:!1,name:"MuiTouchRipple"})(rn.memo(Uoe));var Voe={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},Hoe=Ur.forwardRef(function(e,t){var r=e.action,i=e.buttonRef,o=e.centerRipple,s=o===void 0?!1:o,a=e.children,l=e.classes,c=e.className,u=e.component,d=u===void 0?"button":u,p=e.disabled,f=p===void 0?!1:p,g=e.disableRipple,y=g===void 0?!1:g,v=e.disableTouchRipple,m=v===void 0?!1:v,h=e.focusRipple,b=h===void 0?!1:h,x=e.focusVisibleClassName,_=e.onBlur,S=e.onClick,M=e.onFocus,E=e.onFocusVisible,L=e.onKeyDown,I=e.onKeyUp,T=e.onMouseDown,A=e.onMouseLeave,k=e.onMouseUp,U=e.onTouchEnd,F=e.onTouchMove,N=e.onTouchStart,j=e.onDragLeave,Y=e.tabIndex,pe=Y===void 0?0:Y,$=e.TouchRippleProps,W=e.type,J=W===void 0?"button":W,oe=ie(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),re=Ur.useRef(null);function D(){return bV.findDOMNode(re.current)}var Te=Ur.useRef(null),de=Ur.useState(!1),Me=de[0],me=de[1];f&&Me&&me(!1);var Pe=Ms(),_e=Pe.isFocusVisible,q=Pe.onBlurVisible,ce=Pe.ref;Ur.useImperativeHandle(r,function(){return{focusVisible:function(){me(!0),re.current.focus()}}},[]),Ur.useEffect(function(){Me&&b&&!y&&Te.current.pulsate()},[y,b,Me]);function se(V,Ee){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m;return Ct(function(We){Ee&&Ee(We);var nt=Oe;return!nt&&Te.current&&Te.current[V](We),!0})}var Se=se("start",T),be=se("stop",j),Ce=se("stop",k),Le=se("stop",function(V){Me&&V.preventDefault(),A&&A(V)}),Ne=se("start",N),Ge=se("stop",U),Ue=se("stop",F),C=se("stop",function(V){Me&&(q(V),me(!1)),_&&_(V)},!1),w=Ct(function(V){re.current||(re.current=V.currentTarget),_e(V)&&(me(!0),E&&E(V)),M&&M(V)}),H=function(){var Ee=D();return d&&d!=="button"&&!(Ee.tagName==="A"&&Ee.href)},ee=Ur.useRef(!1),ue=Ct(function(V){b&&!ee.current&&Me&&Te.current&&V.key===" "&&(ee.current=!0,V.persist(),Te.current.stop(V,function(){Te.current.start(V)})),V.target===V.currentTarget&&H()&&V.key===" "&&V.preventDefault(),L&&L(V),V.target===V.currentTarget&&H()&&V.key==="Enter"&&!f&&(V.preventDefault(),S&&S(V))}),G=Ct(function(V){b&&V.key===" "&&Te.current&&Me&&!V.defaultPrevented&&(ee.current=!1,V.persist(),Te.current.stop(V,function(){Te.current.pulsate(V)})),I&&I(V),S&&V.target===V.currentTarget&&H()&&V.key===" "&&!V.defaultPrevented&&S(V)}),ge=d;ge==="button"&&oe.href&&(ge="a");var fe={};ge==="button"?(fe.type=J,fe.disabled=f):((ge!=="a"||!oe.href)&&(fe.role="button"),fe["aria-disabled"]=f);var le=pt(i,t),ve=pt(ce,re),De=pt(le,ve),z=Ur.useState(!1),xe=z[0],ne=z[1];Ur.useEffect(function(){ne(!0)},[]);var he=xe&&!y&&!f;return Ur.createElement(ge,B({className:(0,_V.default)(l.root,c,Me&&[l.focusVisible,x],f&&l.disabled),onBlur:C,onClick:S,onFocus:w,onKeyDown:ue,onKeyUp:G,onMouseDown:Se,onMouseLeave:Le,onMouseUp:Ce,onDragLeave:be,onTouchEnd:Ge,onTouchMove:Ue,onTouchStart:Ne,ref:De,tabIndex:f?-1:pe},fe,oe),a,he?Ur.createElement(xV,B({ref:Te,center:s},$)):null)}),kt=ye(Voe,{name:"MuiButtonBase"})(Hoe);var Tu=R(we()),_3e=R(Ae()),wV=R(Be()),T3e=R(st());var Woe=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:vt(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:vt(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:vt(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}},Goe=Tu.forwardRef(function(e,t){var r=e.edge,i=r===void 0?!1:r,o=e.children,s=e.classes,a=e.className,l=e.color,c=l===void 0?"default":l,u=e.disabled,d=u===void 0?!1:u,p=e.disableFocusRipple,f=p===void 0?!1:p,g=e.size,y=g===void 0?"medium":g,v=ie(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return Tu.createElement(kt,B({className:(0,wV.default)(s.root,a,c!=="default"&&s["color".concat(Fe(c))],d&&s.disabled,y==="small"&&s["size".concat(Fe(y))],{start:s.edgeStart,end:s.edgeEnd}[i]),centerRipple:!0,focusRipple:!f,disabled:d,ref:t},v),Tu.createElement("span",{className:s.label},o))}),or=ye(Woe,{name:"MuiIconButton"})(Goe);var joe=function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:8*6,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}},qoe=Es.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.expandIcon,a=e.IconButtonProps,l=e.onBlur,c=e.onClick,u=e.onFocusVisible,d=ie(e,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),p=Es.useState(!1),f=p[0],g=p[1],y=function(E){g(!0),u&&u(E)},v=function(E){g(!1),l&&l(E)},m=Es.useContext(a_),h=m.disabled,b=h===void 0?!1:h,x=m.expanded,_=m.toggle,S=function(E){_&&_(E),c&&c(E)};return Es.createElement(kt,B({focusRipple:!1,disableRipple:!0,disabled:b,component:"div","aria-expanded":x,className:(0,u_.default)(i.root,o,b&&i.disabled,x&&i.expanded,f&&i.focused),onFocusVisible:y,onBlur:v,onClick:S,ref:t},d),Es.createElement("div",{className:(0,u_.default)(i.content,x&&i.expanded)},r),s&&Es.createElement(or,B({className:(0,u_.default)(i.expandIcon,x&&i.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},a),s))}),TV=ye(joe,{name:"MuiAccordionSummary"})(qoe);var d_=R(we()),j3e=R(Ae()),SV=R(Be());var $oe=function(e){var t=e.palette.type==="light"?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}},Xoe=d_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.color,s=o===void 0?"primary":o,a=e.position,l=a===void 0?"fixed":a,c=ie(e,["classes","className","color","position"]);return d_.createElement(zn,B({square:!0,component:"header",elevation:4,className:(0,SV.default)(r.root,r["position".concat(Fe(l))],r["color".concat(Fe(s))],i,l==="fixed"&&"mui-fixed"),ref:t},c))}),MV=ye($oe,{name:"MuiAppBar"})(Xoe);var Ps=R(we()),rOe=R(Ae()),RV=R(Be());var EV=R(we());var PV=Ht(EV.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var Yoe=function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}};function Joe(n){var e=n.src,t=n.srcSet,r=Ps.useState(!1),i=r[0],o=r[1];return Ps.useEffect(function(){if(!(!e&&!t)){o(!1);var s=!0,a=new Image;return a.src=e,a.srcSet=t,a.onload=function(){!s||o("loaded")},a.onerror=function(){!s||o("error")},function(){s=!1}}},[e,t]),i}var Zoe=Ps.forwardRef(function(e,t){var r=e.alt,i=e.children,o=e.classes,s=e.className,a=e.component,l=a===void 0?"div":a,c=e.imgProps,u=e.sizes,d=e.src,p=e.srcSet,f=e.variant,g=f===void 0?"circle":f,y=ie(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),v=null,m=Joe({src:d,srcSet:p}),h=d||p,b=h&&m!=="error";return b?v=Ps.createElement("img",B({alt:r,src:d,srcSet:p,sizes:u,className:o.img},c)):i!=null?v=i:h&&r?v=r[0]:v=Ps.createElement(PV,{className:o.fallback}),Ps.createElement(l,B({className:(0,RV.default)(o.root,o.system,o[g],s,!b&&o.colorDefault),ref:t},y),v)}),CV=ye(Yoe,{name:"MuiAvatar"})(Zoe);var ty=R(we()),MOe=R(Ae()),AV=R(Be());var Nl=R(we()),fOe=R(Ae());var Koe={entering:{opacity:1},entered:{opacity:1}},Qoe={enter:fn.enteringScreen,exit:fn.leavingScreen},ese=Nl.forwardRef(function(e,t){var r=e.children,i=e.disableStrictModeCompat,o=i===void 0?!1:i,s=e.in,a=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,p=e.onExiting,f=e.style,g=e.TransitionComponent,y=g===void 0?eo:g,v=e.timeout,m=v===void 0?Qoe:v,h=ie(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),b=Pt(),x=b.unstable_strictMode&&!o,_=Nl.useRef(null),S=pt(r.ref,t),M=pt(x?_:void 0,S),E=function(N){return function(j,Y){if(N){var pe=x?[_.current,j]:[j,Y],$=An(pe,2),W=$[0],J=$[1];J===void 0?N(W):N(W,J)}}},L=E(c),I=E(function(F,N){Ll(F);var j=Br({style:f,timeout:m},{mode:"enter"});F.style.webkitTransition=b.transitions.create("opacity",j),F.style.transition=b.transitions.create("opacity",j),a&&a(F,N)}),T=E(l),A=E(p),k=E(function(F){var N=Br({style:f,timeout:m},{mode:"exit"});F.style.webkitTransition=b.transitions.create("opacity",N),F.style.transition=b.transitions.create("opacity",N),u&&u(F)}),U=E(d);return Nl.createElement(y,B({appear:!0,in:s,nodeRef:x?_:void 0,onEnter:I,onEntered:T,onEntering:L,onExit:k,onExited:U,onExiting:A,timeout:m},h),function(F,N){return Nl.cloneElement(r,B({style:B({opacity:0,visibility:F==="exited"&&!s?"hidden":void 0},Koe[F],f,r.props.style),ref:M},N))})}),Op=ese;var tse={root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},nse=ty.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.invisible,a=s===void 0?!1:s,l=e.open,c=e.transitionDuration,u=e.TransitionComponent,d=u===void 0?Op:u,p=ie(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return ty.createElement(d,B({in:l,timeout:c},p),ty.createElement("div",{className:(0,AV.default)(i.root,o,a&&i.invisible),"aria-hidden":!0,ref:t},r))}),Fp=ye(tse,{name:"MuiBackdrop"})(nse);var ny=R(we()),IOe=R(Ae()),rA=R(Be());var iA=10,oA=4,rse=function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:iA*2,lineHeight:1,padding:"0 6px",height:iA*2,borderRadius:iA,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:oA,height:oA*2,minWidth:oA*2,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}},ise=ny.forwardRef(function(e,t){var r=e.anchorOrigin,i=r===void 0?{vertical:"top",horizontal:"right"}:r,o=e.badgeContent,s=e.children,a=e.classes,l=e.className,c=e.color,u=c===void 0?"default":c,d=e.component,p=d===void 0?"span":d,f=e.invisible,g=e.max,y=g===void 0?99:g,v=e.overlap,m=v===void 0?"rectangle":v,h=e.showZero,b=h===void 0?!1:h,x=e.variant,_=x===void 0?"standard":x,S=ie(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),M=f;f==null&&(o===0&&!b||o==null&&_!=="dot")&&(M=!0);var E="";return _!=="dot"&&(E=o>y?"".concat(y,"+"):o),ny.createElement(p,B({className:(0,rA.default)(a.root,l),ref:t},S),s,ny.createElement("span",{className:(0,rA.default)(a.badge,a["".concat(i.horizontal).concat(Fe(i.vertical),"}")],a["anchorOrigin".concat(Fe(i.vertical)).concat(Fe(i.horizontal)).concat(Fe(m))],u!=="default"&&a["color".concat(Fe(u))],M&&a.invisible,_==="dot"&&a.dot)},E))}),LV=ye(rse,{name:"MuiBadge"})(ise);var Rs=R(we()),WOe=R($i()),jOe=R(Ae()),DV=R(Be());var ose=function(e){return{root:{display:"flex",justifyContent:"center",height:56,backgroundColor:e.palette.background.paper}}},sse=Rs.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.component,a=s===void 0?"div":s,l=e.onChange,c=e.showLabels,u=c===void 0?!1:c,d=e.value,p=ie(e,["children","classes","className","component","onChange","showLabels","value"]);return Rs.createElement(a,B({className:(0,DV.default)(i.root,o),ref:t},p),Rs.Children.map(r,function(f,g){if(!Rs.isValidElement(f))return null;var y=f.props.value===void 0?g:f.props.value;return Rs.cloneElement(f,{selected:y===d,showLabel:f.props.showLabel!==void 0?f.props.showLabel:u,value:y,onChange:l})}))}),NV=ye(ose,{name:"MuiBottomNavigation"})(sse);var kp=R(we()),QOe=R(Ae()),sA=R(Be());var ase=function(e){return{root:{transition:e.transitions.create(["color","padding-top"],{duration:e.transitions.duration.short}),padding:"6px 12px 8px",minWidth:80,maxWidth:168,color:e.palette.text.secondary,flex:"1","&$iconOnly":{paddingTop:16},"&$selected":{paddingTop:6,color:e.palette.primary.main}},selected:{},iconOnly:{},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"},label:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s","&$iconOnly":{opacity:0,transitionDelay:"0s"},"&$selected":{fontSize:e.typography.pxToRem(14)}}}},lse=kp.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.icon,s=e.label,a=e.onChange,l=e.onClick,c=e.selected,u=e.showLabel,d=e.value,p=ie(e,["classes","className","icon","label","onChange","onClick","selected","showLabel","value"]),f=function(y){a&&a(y,d),l&&l(y)};return kp.createElement(kt,B({ref:t,className:(0,sA.default)(r.root,i,c?r.selected:!u&&r.iconOnly),focusRipple:!0,onClick:f},p),kp.createElement("span",{className:r.wrapper},o,kp.createElement("span",{className:(0,sA.default)(r.label,c?r.selected:!u&&r.iconOnly)},s)))}),IV=ye(ase,{name:"MuiBottomNavigationAction"})(lse);var bn=R(db());var OV=(0,bn.css)((0,bn.compose)(bn.borders,bn.display,bn.flexbox,bn.grid,bn.positions,bn.palette,bn.shadows,bn.sizing,bn.spacing,bn.typography)),cFe=HC("div")(OV,{name:"MuiBox"});var Oi=R(we()),FFe=R($i()),BFe=R(Ae()),VV=R(Be());var p_=R(we()),mFe=R(Ae()),FV=R(Be());var use=function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},kV={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},dse=p_.forwardRef(function(e,t){var r=e.align,i=r===void 0?"inherit":r,o=e.classes,s=e.className,a=e.color,l=a===void 0?"initial":a,c=e.component,u=e.display,d=u===void 0?"initial":u,p=e.gutterBottom,f=p===void 0?!1:p,g=e.noWrap,y=g===void 0?!1:g,v=e.paragraph,m=v===void 0?!1:v,h=e.variant,b=h===void 0?"body1":h,x=e.variantMapping,_=x===void 0?kV:x,S=ie(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),M=c||(m?"p":_[b]||kV[b])||"span";return p_.createElement(M,B({className:(0,FV.default)(o.root,s,b!=="inherit"&&o[b],l!=="initial"&&o["color".concat(Fe(l))],y&&o.noWrap,f&&o.gutterBottom,m&&o.paragraph,i!=="inherit"&&o["align".concat(Fe(i))],d!=="initial"&&o["display".concat(Fe(d))]),ref:t},S))}),Xt=ye(use,{name:"MuiTypography"})(dse);var aA=R(we()),EFe=R(Ae());var BV=R(we());var zV=Ht(BV.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");var pse=function(e){return{root:{display:"flex",marginLeft:e.spacing(.5),marginRight:e.spacing(.5),backgroundColor:e.palette.grey[100],color:e.palette.grey[700],borderRadius:2,cursor:"pointer","&:hover, &:focus":{backgroundColor:e.palette.grey[200]},"&:active":{boxShadow:e.shadows[0],backgroundColor:jo(e.palette.grey[200],.12)}},icon:{width:24,height:16}}};function fse(n){var e=n.classes,t=ie(n,["classes"]);return aA.createElement(kt,B({component:"li",className:e.root,focusRipple:!0},t),aA.createElement(zV,{className:e.icon}))}var UV=ye(pse,{name:"PrivateBreadcrumbCollapsed"})(fse);var hse={root:{},ol:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"},li:{},separator:{display:"flex",userSelect:"none",marginLeft:8,marginRight:8}};function mse(n,e,t){return n.reduce(function(r,i,o){return o<n.length-1?r=r.concat(i,Oi.createElement("li",{"aria-hidden":!0,key:"separator-".concat(o),className:e},t)):r.push(i),r},[])}var gse=Oi.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.component,a=s===void 0?"nav":s,l=e.expandText,c=l===void 0?"Show path":l,u=e.itemsAfterCollapse,d=u===void 0?1:u,p=e.itemsBeforeCollapse,f=p===void 0?1:p,g=e.maxItems,y=g===void 0?8:g,v=e.separator,m=v===void 0?"/":v,h=ie(e,["children","classes","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"]),b=Oi.useState(!1),x=b[0],_=b[1],S=function(L){var I=function(A){_(!0);var k=A.currentTarget.parentNode.querySelector("a[href],button,[tabindex]");k&&k.focus()};return f+d>=L.length?L:[].concat(zr(L.slice(0,f)),[Oi.createElement(UV,{"aria-label":c,key:"ellipsis",onClick:I})],zr(L.slice(L.length-d,L.length)))},M=Oi.Children.toArray(r).filter(function(E){return Oi.isValidElement(E)}).map(function(E,L){return Oi.createElement("li",{className:i.li,key:"child-".concat(L)},E)});return Oi.createElement(Xt,B({ref:t,component:a,color:"textSecondary",className:(0,VV.default)(i.root,o)},h),Oi.createElement("ol",{className:i.ol},mse(x||y&&M.length<=y?M:S(M),i.separator,m)))}),HV=ye(hse,{name:"MuiBreadcrumbs"})(gse);var Su=R(we()),XFe=R(Ae()),ry=R(Be());var yse=function(e){return{root:B({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:vt(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:vt(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:vt(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(vt(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:vt(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(vt(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:vt(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}},vse=Su.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.color,a=s===void 0?"default":s,l=e.component,c=l===void 0?"button":l,u=e.disabled,d=u===void 0?!1:u,p=e.disableElevation,f=p===void 0?!1:p,g=e.disableFocusRipple,y=g===void 0?!1:g,v=e.endIcon,m=e.focusVisibleClassName,h=e.fullWidth,b=h===void 0?!1:h,x=e.size,_=x===void 0?"medium":x,S=e.startIcon,M=e.type,E=M===void 0?"button":M,L=e.variant,I=L===void 0?"text":L,T=ie(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),A=S&&Su.createElement("span",{className:(0,ry.default)(i.startIcon,i["iconSize".concat(Fe(_))])},S),k=v&&Su.createElement("span",{className:(0,ry.default)(i.endIcon,i["iconSize".concat(Fe(_))])},v);return Su.createElement(kt,B({className:(0,ry.default)(i.root,i[I],o,a==="inherit"?i.colorInherit:a!=="default"&&i["".concat(I).concat(Fe(a))],_!=="medium"&&[i["".concat(I,"Size").concat(Fe(_))],i["size".concat(Fe(_))]],f&&i.disableElevation,d&&i.disabled,b&&i.fullWidth),component:c,disabled:d,focusRipple:!y,focusVisibleClassName:(0,ry.default)(i.focusVisible,m),ref:t,type:E},T),Su.createElement("span",{className:i.label},A,r,k))}),Bp=ye(yse,{name:"MuiButton"})(vse);var Cs=R(we()),oke=R($i()),ake=R(Ae()),f_=R(Be());Bp.styles;var xse=function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},contained:{boxShadow:e.shadows[2]},disableElevation:{boxShadow:"none"},disabled:{},fullWidth:{width:"100%"},vertical:{flexDirection:"column"},grouped:{minWidth:40},groupedHorizontal:{"&:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{borderTopRightRadius:0,borderTopLeftRadius:0},"&:not(:last-child)":{borderBottomRightRadius:0,borderBottomLeftRadius:0}},groupedText:{},groupedTextHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")}},groupedTextPrimary:{"&:not(:last-child)":{borderColor:vt(e.palette.primary.main,.5)}},groupedTextSecondary:{"&:not(:last-child)":{borderColor:vt(e.palette.secondary.main,.5)}},groupedOutlined:{},groupedOutlinedHorizontal:{"&:not(:first-child)":{marginLeft:-1},"&:not(:last-child)":{borderRightColor:"transparent"}},groupedOutlinedVertical:{"&:not(:first-child)":{marginTop:-1},"&:not(:last-child)":{borderBottomColor:"transparent"}},groupedOutlinedPrimary:{"&:hover":{borderColor:e.palette.primary.main}},groupedOutlinedSecondary:{"&:hover":{borderColor:e.palette.secondary.main}},groupedContained:{boxShadow:"none"},groupedContainedHorizontal:{"&:not(:last-child)":{borderRight:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderRight:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedVertical:{"&:not(:last-child)":{borderBottom:"1px solid ".concat(e.palette.grey[400]),"&$disabled":{borderBottom:"1px solid ".concat(e.palette.action.disabled)}}},groupedContainedPrimary:{"&:not(:last-child)":{borderColor:e.palette.primary.dark}},groupedContainedSecondary:{"&:not(:last-child)":{borderColor:e.palette.secondary.dark}}}},bse=Cs.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.color,a=s===void 0?"default":s,l=e.component,c=l===void 0?"div":l,u=e.disabled,d=u===void 0?!1:u,p=e.disableElevation,f=p===void 0?!1:p,g=e.disableFocusRipple,y=g===void 0?!1:g,v=e.disableRipple,m=v===void 0?!1:v,h=e.fullWidth,b=h===void 0?!1:h,x=e.orientation,_=x===void 0?"horizontal":x,S=e.size,M=S===void 0?"medium":S,E=e.variant,L=E===void 0?"outlined":E,I=ie(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"]),T=(0,f_.default)(i.grouped,i["grouped".concat(Fe(_))],i["grouped".concat(Fe(L))],i["grouped".concat(Fe(L)).concat(Fe(_))],i["grouped".concat(Fe(L)).concat(a!=="default"?Fe(a):"")],d&&i.disabled);return Cs.createElement(c,B({role:"group",className:(0,f_.default)(i.root,o,b&&i.fullWidth,f&&i.disableElevation,L==="contained"&&i.contained,_==="vertical"&&i.vertical),ref:t},I),Cs.Children.map(r,function(A){return Cs.isValidElement(A)?Cs.cloneElement(A,{className:(0,f_.default)(T,A.props.className),color:A.props.color||a,disabled:A.props.disabled||d,disableElevation:A.props.disableElevation||f,disableFocusRipple:y,disableRipple:m,fullWidth:b,size:A.props.size||M,variant:A.props.variant||L}):null}))}),WV=ye(xse,{name:"MuiButtonGroup"})(bse);var h_=R(we()),vke=R(Ae()),GV=R(Be());var _se={root:{overflow:"hidden"}},wse=h_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.raised,s=o===void 0?!1:o,a=ie(e,["classes","className","raised"]);return h_.createElement(zn,B({className:(0,GV.default)(r.root,i),elevation:s?8:1,ref:t},a))}),jV=ye(_se,{name:"MuiCard"})(wse);var iy=R(we()),Pke=R(Ae()),lA=R(Be());var Tse=function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}},Sse=iy.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.focusVisibleClassName,a=ie(e,["children","classes","className","focusVisibleClassName"]);return iy.createElement(kt,B({className:(0,lA.default)(i.root,o),focusVisibleClassName:(0,lA.default)(s,i.focusVisible),ref:t},a),r,iy.createElement("span",{className:i.focusHighlight}))}),qV=ye(Tse,{name:"MuiCardActionArea"})(Sse);var m_=R(we()),Fke=R(Ae()),$V=R(Be());var Mse={root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},Ese=m_.forwardRef(function(e,t){var r=e.disableSpacing,i=r===void 0?!1:r,o=e.classes,s=e.className,a=ie(e,["disableSpacing","classes","className"]);return m_.createElement("div",B({className:(0,$V.default)(o.root,s,!i&&o.spacing),ref:t},a))}),XV=ye(Mse,{name:"MuiCardActions"})(Ese);var g_=R(we()),Gke=R(Ae()),YV=R(Be());var Pse={root:{padding:16,"&:last-child":{paddingBottom:24}}},Rse=g_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?"div":o,a=ie(e,["classes","className","component"]);return g_.createElement(s,B({className:(0,YV.default)(r.root,i),ref:t},a))}),JV=ye(Pse,{name:"MuiCardContent"})(Rse);var pa=R(we()),Kke=R(Ae()),ZV=R(Be());var Cse={root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},Ase=pa.forwardRef(function(e,t){var r=e.action,i=e.avatar,o=e.classes,s=e.className,a=e.component,l=a===void 0?"div":a,c=e.disableTypography,u=c===void 0?!1:c,d=e.subheader,p=e.subheaderTypographyProps,f=e.title,g=e.titleTypographyProps,y=ie(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),v=f;v!=null&&v.type!==Xt&&!u&&(v=pa.createElement(Xt,B({variant:i?"body2":"h5",className:o.title,component:"span",display:"block"},g),v));var m=d;return m!=null&&m.type!==Xt&&!u&&(m=pa.createElement(Xt,B({variant:i?"body2":"body1",className:o.subheader,color:"textSecondary",component:"span",display:"block"},p),m)),pa.createElement(l,B({className:(0,ZV.default)(o.root,s),ref:t},y),i&&pa.createElement("div",{className:o.avatar},i),pa.createElement("div",{className:o.content},v,m),r&&pa.createElement("div",{className:o.action},r))}),KV=ye(Cse,{name:"MuiCardHeader"})(Ase);var y_=R(we()),aBe=R(Ae()),QV=R(Be());var uBe=R(st()),Lse={root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},Dse=["video","audio","picture","iframe","img"],Nse=y_.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.component,a=s===void 0?"div":s,l=e.image,c=e.src,u=e.style,d=ie(e,["children","classes","className","component","image","src","style"]),p=Dse.indexOf(a)!==-1,f=!p&&l?B({backgroundImage:'url("'.concat(l,'")')},u):u;return y_.createElement(a,B({className:(0,QV.default)(i.root,o,p&&i.media,"picture img".indexOf(a)!==-1&&i.img),ref:t,style:f,src:p?l||c:void 0},d),r)}),eH=ye(Lse,{name:"MuiCardMedia"})(Nse);var As=R(we()),BBe=R(Ae()),uH=R(Be()),UBe=R(st());var oy=R(we()),_Be=R(Ae()),rH=R(Be()),TBe=R(st());var nH=R(we());var v_=R(we()),tH=v_.createContext();function x_(){return v_.useContext(tH)}var Il=tH;function ii(){return nH.useContext(Il)}var Ise={root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},Ose=oy.forwardRef(function(e,t){var r=e.autoFocus,i=e.checked,o=e.checkedIcon,s=e.classes,a=e.className,l=e.defaultChecked,c=e.disabled,u=e.icon,d=e.id,p=e.inputProps,f=e.inputRef,g=e.name,y=e.onBlur,v=e.onChange,m=e.onFocus,h=e.readOnly,b=e.required,x=e.tabIndex,_=e.type,S=e.value,M=ie(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),E=ri({controlled:i,default:Boolean(l),name:"SwitchBase",state:"checked"}),L=An(E,2),I=L[0],T=L[1],A=ii(),k=function(pe){m&&m(pe),A&&A.onFocus&&A.onFocus(pe)},U=function(pe){y&&y(pe),A&&A.onBlur&&A.onBlur(pe)},F=function(pe){var $=pe.target.checked;T($),v&&v(pe,$)},N=c;A&&typeof N=="undefined"&&(N=A.disabled);var j=_==="checkbox"||_==="radio";return oy.createElement(or,B({component:"span",className:(0,rH.default)(s.root,a,I&&s.checked,N&&s.disabled),disabled:N,tabIndex:null,role:void 0,onFocus:k,onBlur:U,ref:t},M),oy.createElement("input",B({autoFocus:r,checked:i,defaultChecked:l,className:s.input,disabled:N,id:j&&d,name:g,onChange:F,readOnly:h,ref:f,required:b,tabIndex:x,type:_,value:S},p)),I?o:u)}),zp=ye(Ise,{name:"PrivateSwitchBase"})(Ose);var iH=R(we());var oH=Ht(iH.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank");var sH=R(we());var aH=Ht(sH.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox");var lH=R(we());var cH=Ht(lH.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var Fse=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:vt(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:vt(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},kse=As.createElement(aH,null),Bse=As.createElement(oH,null),zse=As.createElement(cH,null),Use=As.forwardRef(function(e,t){var r=e.checkedIcon,i=r===void 0?kse:r,o=e.classes,s=e.color,a=s===void 0?"secondary":s,l=e.icon,c=l===void 0?Bse:l,u=e.indeterminate,d=u===void 0?!1:u,p=e.indeterminateIcon,f=p===void 0?zse:p,g=e.inputProps,y=e.size,v=y===void 0?"medium":y,m=ie(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),h=d?f:c,b=d?f:i;return As.createElement(zp,B({type:"checkbox",classes:{root:(0,uH.default)(o.root,o["color".concat(Fe(a))],d&&o.indeterminate),checked:o.checked,disabled:o.disabled},color:a,inputProps:B({"data-indeterminate":d},g),icon:As.cloneElement(h,{fontSize:h.props.fontSize===void 0&&v==="small"?v:h.props.fontSize}),checkedIcon:As.cloneElement(b,{fontSize:b.props.fontSize===void 0&&v==="small"?v:b.props.fontSize}),ref:t},m))}),dH=ye(Fse,{name:"MuiCheckbox"})(Use);var oi=R(we()),nze=R(Ae()),Ol=R(Be());var pH=R(we());var fH=Ht(pH.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");var Vse=function(e){var t=e.palette.type==="light"?e.palette.grey[300]:e.palette.grey[700],r=vt(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:e.palette.type==="light"?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:jo(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:jo(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:jo(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:jo(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:jo(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:jo(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat(e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:vt(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:vt(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:vt(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:e.palette.type==="light"?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:r,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:vt(r,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:vt(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:vt(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:vt(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:vt(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}};function hH(n){return n.key==="Backspace"||n.key==="Delete"}var Hse=oi.forwardRef(function(e,t){var r=e.avatar,i=e.classes,o=e.className,s=e.clickable,a=e.color,l=a===void 0?"default":a,c=e.component,u=e.deleteIcon,d=e.disabled,p=d===void 0?!1:d,f=e.icon,g=e.label,y=e.onClick,v=e.onDelete,m=e.onKeyDown,h=e.onKeyUp,b=e.size,x=b===void 0?"medium":b,_=e.variant,S=_===void 0?"default":_,M=ie(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),E=oi.useRef(null),L=pt(E,t),I=function(J){J.stopPropagation(),v&&v(J)},T=function(J){J.currentTarget===J.target&&hH(J)&&J.preventDefault(),m&&m(J)},A=function(J){J.currentTarget===J.target&&(v&&hH(J)?v(J):J.key==="Escape"&&E.current&&E.current.blur()),h&&h(J)},k=s!==!1&&y?!0:s,U=x==="small",F=c||(k?kt:"div"),N=F===kt?{component:"div"}:{},j=null;if(v){var Y=(0,Ol.default)(l!=="default"&&(S==="default"?i["deleteIconColor".concat(Fe(l))]:i["deleteIconOutlinedColor".concat(Fe(l))]),U&&i.deleteIconSmall);j=u&&oi.isValidElement(u)?oi.cloneElement(u,{className:(0,Ol.default)(u.props.className,i.deleteIcon,Y),onClick:I}):oi.createElement(fH,{className:(0,Ol.default)(i.deleteIcon,Y),onClick:I})}var pe=null;r&&oi.isValidElement(r)&&(pe=oi.cloneElement(r,{className:(0,Ol.default)(i.avatar,r.props.className,U&&i.avatarSmall,l!=="default"&&i["avatarColor".concat(Fe(l))])}));var $=null;return f&&oi.isValidElement(f)&&($=oi.cloneElement(f,{className:(0,Ol.default)(i.icon,f.props.className,U&&i.iconSmall,l!=="default"&&i["iconColor".concat(Fe(l))])})),oi.createElement(F,B({role:k||v?"button":void 0,className:(0,Ol.default)(i.root,o,l!=="default"&&[i["color".concat(Fe(l))],k&&i["clickableColor".concat(Fe(l))],v&&i["deletableColor".concat(Fe(l))]],S!=="default"&&[i.outlined,{primary:i.outlinedPrimary,secondary:i.outlinedSecondary}[l]],p&&i.disabled,U&&i.sizeSmall,k&&i.clickable,v&&i.deletable),"aria-disabled":p?!0:void 0,tabIndex:k||v?0:void 0,onClick:y,onKeyDown:T,onKeyUp:A,ref:L},N,M),pe||$,oi.createElement("span",{className:(0,Ol.default)(i.label,U&&i.labelSmall)},g),j)}),mH=ye(Vse,{name:"MuiChip"})(Hse);var Up=R(we()),yze=R(Ae()),cA=R(Be()),xze=R(st());var Fl=44,Wse=function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}},Gse=Up.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.color,s=o===void 0?"primary":o,a=e.disableShrink,l=a===void 0?!1:a,c=e.size,u=c===void 0?40:c,d=e.style,p=e.thickness,f=p===void 0?3.6:p,g=e.value,y=g===void 0?0:g,v=e.variant,m=v===void 0?"indeterminate":v,h=ie(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),b={},x={},_={};if(m==="determinate"||m==="static"){var S=2*Math.PI*((Fl-f)/2);b.strokeDasharray=S.toFixed(3),_["aria-valuenow"]=Math.round(y),b.strokeDashoffset="".concat(((100-y)/100*S).toFixed(3),"px"),x.transform="rotate(-90deg)"}return Up.createElement("div",B({className:(0,cA.default)(r.root,i,s!=="inherit"&&r["color".concat(Fe(s))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[m]),style:B({width:u,height:u},x,d),ref:t,role:"progressbar"},_,h),Up.createElement("svg",{className:r.svg,viewBox:"".concat(Fl/2," ").concat(Fl/2," ").concat(Fl," ").concat(Fl)},Up.createElement("circle",{className:(0,cA.default)(r.circle,l&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[m]),style:b,cx:Fl,cy:Fl,r:(Fl-f)/2,fill:"none",strokeWidth:f})))}),b_=ye(Wse,{name:"MuiCircularProgress",flip:!1})(Gse);var Vr=R(we()),gH=R(fr()),Eze=R(Ae());var Lze=R(st());function yH(n){return n.substring(2).toLowerCase()}function jse(n){return document.documentElement.clientWidth<n.clientX||document.documentElement.clientHeight<n.clientY}function qse(n){var e=n.children,t=n.disableReactTree,r=t===void 0?!1:t,i=n.mouseEvent,o=i===void 0?"onClick":i,s=n.onClickAway,a=n.touchEvent,l=a===void 0?"onTouchEnd":a,c=Vr.useRef(!1),u=Vr.useRef(null),d=Vr.useRef(!1),p=Vr.useRef(!1);Vr.useEffect(function(){return setTimeout(function(){d.current=!0},0),function(){d.current=!1}},[]);var f=Vr.useCallback(function(h){u.current=gH.findDOMNode(h)},[]),g=pt(e.ref,f),y=Ct(function(h){var b=p.current;if(p.current=!1,!(!d.current||!u.current||jse(h))){if(c.current){c.current=!1;return}var x;if(h.composedPath)x=h.composedPath().indexOf(u.current)>-1;else{var _=$t(u.current);x=!_.documentElement.contains(h.target)||u.current.contains(h.target)}!x&&(r||!b)&&s(h)}}),v=function(b){return function(x){p.current=!0;var _=e.props[b];_&&_(x)}},m={ref:g};return l!==!1&&(m[l]=v(l)),Vr.useEffect(function(){if(l!==!1){var h=yH(l),b=$t(u.current),x=function(){c.current=!0};return b.addEventListener(h,y),b.addEventListener("touchmove",x),function(){b.removeEventListener(h,y),b.removeEventListener("touchmove",x)}}},[y,l]),o!==!1&&(m[o]=v(o)),Vr.useEffect(function(){if(o!==!1){var h=yH(o),b=$t(u.current);return b.addEventListener(h,y),function(){b.removeEventListener(h,y)}}},[y,o]),Vr.createElement(Vr.Fragment,null,Vr.cloneElement(e,m))}var __=qse;var w_=R(we()),Uze=R(Ae()),vH=R(Be());var $se=function(e){return{root:ft({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce(function(t,r){var i=e.breakpoints.values[r];return i!==0&&(t[e.breakpoints.up(r)]={maxWidth:i}),t},{}),maxWidthXs:ft({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:ft({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:ft({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:ft({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:ft({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}},Xse=w_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?"div":o,a=e.disableGutters,l=a===void 0?!1:a,c=e.fixed,u=c===void 0?!1:c,d=e.maxWidth,p=d===void 0?"lg":d,f=ie(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return w_.createElement(s,B({className:(0,vH.default)(r.root,i,u&&r.fixed,l&&r.disableGutters,p!==!1&&r["maxWidth".concat(Fe(String(p)))]),ref:t},f))}),xH=ye($se,{name:"MuiContainer"})(Xse);var T_=R(we()),Xze=R(Ae());var Zze=R(st()),Yse={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},Jse=function(e){return B({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})},Zse=function(e){return{"@global":{html:Yse,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:B({margin:0},Jse(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}};function Kse(n){var e=n.children,t=e===void 0?null:e,r=n.classes;return T_.createElement(T_.Fragment,null,t)}var bH=ye(Zse,{name:"MuiCssBaseline"})(Kse);var fa=R(we()),o4e=R(Ae()),R_=R(Be());var Un=R(we()),PH=R(fr()),BUe=R(Ae()),P_=R(ni()),UUe=R(st());var Fi=R(we()),S_=R(fr()),nUe=R(Ae()),iUe=R(st());function Qse(n){return n=typeof n=="function"?n():n,S_.findDOMNode(n)}var uA=typeof window!="undefined"?Fi.useLayoutEffect:Fi.useEffect,eae=Fi.forwardRef(function(e,t){var r=e.children,i=e.container,o=e.disablePortal,s=o===void 0?!1:o,a=e.onRendered,l=Fi.useState(null),c=l[0],u=l[1],d=pt(Fi.isValidElement(r)?r.ref:null,t);return uA(function(){s||u(Qse(i)||document.body)},[i,s]),uA(function(){if(c&&!s)return hr(t,c),function(){hr(t,null)}},[t,c,s]),uA(function(){a&&(c||s)&&a()},[a,c,s]),s?Fi.isValidElement(r)?Fi.cloneElement(r,{ref:d}):r:c&&S_.createPortal(r,c)}),Vp=eae;function sy(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function ay(n,e,t){return e&&_H(n.prototype,e),t&&_H(n,t),n}function ly(){var n=document.createElement("div");n.style.width="99px",n.style.height="99px",n.style.position="absolute",n.style.top="-9999px",n.style.overflow="scroll",document.body.appendChild(n);var e=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),e}function tae(n){var e=$t(n);return e.body===n?Rl(e).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Hp(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function wH(n){return parseInt(window.getComputedStyle(n)["padding-right"],10)||0}function TH(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[e,t].concat(zr(r)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(n.children,function(a){a.nodeType===1&&o.indexOf(a)===-1&&s.indexOf(a.tagName)===-1&&Hp(a,i)})}function dA(n,e){var t=-1;return n.some(function(r,i){return e(r)?(t=i,!0):!1}),t}function nae(n,e){var t=[],r=[],i=n.container,o;if(!e.disableScrollLock){if(tae(i)){var s=ly();t.push({value:i.style.paddingRight,key:"padding-right",el:i}),i.style["padding-right"]="".concat(wH(i)+s,"px"),o=$t(i).querySelectorAll(".mui-fixed"),[].forEach.call(o,function(u){r.push(u.style.paddingRight),u.style.paddingRight="".concat(wH(u)+s,"px")})}var a=i.parentElement,l=a.nodeName==="HTML"&&window.getComputedStyle(a)["overflow-y"]==="scroll"?a:i;t.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}var c=function(){o&&[].forEach.call(o,function(d,p){r[p]?d.style.paddingRight=r[p]:d.style.removeProperty("padding-right")}),t.forEach(function(d){var p=d.value,f=d.el,g=d.key;p?f.style.setProperty(g,p):f.style.removeProperty(g)})};return c}function rae(n){var e=[];return[].forEach.call(n.children,function(t){t.getAttribute&&t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}var pA=function(){function n(){sy(this,n),this.modals=[],this.containers=[]}return ay(n,[{key:"add",value:function(t,r){var i=this.modals.indexOf(t);if(i!==-1)return i;i=this.modals.length,this.modals.push(t),t.modalRef&&Hp(t.modalRef,!1);var o=rae(r);TH(r,t.mountNode,t.modalRef,o,!0);var s=dA(this.containers,function(a){return a.container===r});return s!==-1?(this.containers[s].modals.push(t),i):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblingNodes:o}),i)}},{key:"mount",value:function(t,r){var i=dA(this.containers,function(s){return s.modals.indexOf(t)!==-1}),o=this.containers[i];o.restore||(o.restore=nae(o,r))}},{key:"remove",value:function(t){var r=this.modals.indexOf(t);if(r===-1)return r;var i=dA(this.containers,function(a){return a.modals.indexOf(t)!==-1}),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&Hp(t.modalRef,!0),TH(o.container,t.mountNode,t.modalRef,o.hiddenSiblingNodes,!1),this.containers.splice(i,1);else{var s=o.modals[o.modals.length-1];s.modalRef&&Hp(s.modalRef,!1)}return r}},{key:"isTopModal",value:function(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}]),n}();var sr=R(we()),SH=R(fr()),wUe=R(Ae());var EUe=R(st());function iae(n){var e=n.children,t=n.disableAutoFocus,r=t===void 0?!1:t,i=n.disableEnforceFocus,o=i===void 0?!1:i,s=n.disableRestoreFocus,a=s===void 0?!1:s,l=n.getDoc,c=n.isEnabled,u=n.open,d=sr.useRef(),p=sr.useRef(null),f=sr.useRef(null),g=sr.useRef(),y=sr.useRef(null),v=sr.useCallback(function(b){y.current=SH.findDOMNode(b)},[]),m=pt(e.ref,v),h=sr.useRef();return sr.useEffect(function(){h.current=u},[u]),!h.current&&u&&typeof window!="undefined"&&(g.current=l().activeElement),sr.useEffect(function(){if(!!u){var b=$t(y.current);!r&&y.current&&!y.current.contains(b.activeElement)&&(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex",-1),y.current.focus());var x=function(){var E=y.current;if(E!==null){if(!b.hasFocus()||o||!c()||d.current){d.current=!1;return}y.current&&!y.current.contains(b.activeElement)&&y.current.focus()}},_=function(E){o||!c()||E.keyCode!==9||b.activeElement===y.current&&(d.current=!0,E.shiftKey?f.current.focus():p.current.focus())};b.addEventListener("focus",x,!0),b.addEventListener("keydown",_,!0);var S=setInterval(function(){x()},50);return function(){clearInterval(S),b.removeEventListener("focus",x,!0),b.removeEventListener("keydown",_,!0),a||(g.current&&g.current.focus&&g.current.focus(),g.current=null)}}},[r,o,a,c,u]),sr.createElement(sr.Fragment,null,sr.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),sr.cloneElement(e,{ref:m}),sr.createElement("div",{tabIndex:0,ref:f,"data-test":"sentinelEnd"}))}var M_=iae;var E_=R(we()),NUe=R(Ae()),MH={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},oae=E_.forwardRef(function(e,t){var r=e.invisible,i=r===void 0?!1:r,o=e.open,s=ie(e,["invisible","open"]);return o?E_.createElement("div",B({"aria-hidden":!0,ref:t},s,{style:B({},MH.root,i?MH.invisible:{},s.style)})):null}),EH=oae;function sae(n){return n=typeof n=="function"?n():n,PH.findDOMNode(n)}function aae(n){return n.children?n.children.props.hasOwnProperty("in"):!1}var lae=new pA,cae=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},uae=Un.forwardRef(function(e,t){var r=(0,P_.useTheme)(),i=(0,P_.getThemeProps)({name:"MuiModal",props:B({},e),theme:r}),o=i.BackdropComponent,s=o===void 0?EH:o,a=i.BackdropProps,l=i.children,c=i.closeAfterTransition,u=c===void 0?!1:c,d=i.container,p=i.disableAutoFocus,f=p===void 0?!1:p,g=i.disableBackdropClick,y=g===void 0?!1:g,v=i.disableEnforceFocus,m=v===void 0?!1:v,h=i.disableEscapeKeyDown,b=h===void 0?!1:h,x=i.disablePortal,_=x===void 0?!1:x,S=i.disableRestoreFocus,M=S===void 0?!1:S,E=i.disableScrollLock,L=E===void 0?!1:E,I=i.hideBackdrop,T=I===void 0?!1:I,A=i.keepMounted,k=A===void 0?!1:A,U=i.manager,F=U===void 0?lae:U,N=i.onBackdropClick,j=i.onClose,Y=i.onEscapeKeyDown,pe=i.onRendered,$=i.open,W=ie(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),J=Un.useState(!0),oe=J[0],re=J[1],D=Un.useRef({}),Te=Un.useRef(null),de=Un.useRef(null),Me=pt(de,t),me=aae(i),Pe=function(){return $t(Te.current)},_e=function(){return D.current.modalRef=de.current,D.current.mountNode=Te.current,D.current},q=function(){F.mount(_e(),{disableScrollLock:L}),de.current.scrollTop=0},ce=Ct(function(){var w=sae(d)||Pe().body;F.add(_e(),w),de.current&&q()}),se=Un.useCallback(function(){return F.isTopModal(_e())},[F]),Se=Ct(function(w){Te.current=w,!!w&&(pe&&pe(),$&&se()?q():Hp(de.current,!0))}),be=Un.useCallback(function(){F.remove(_e())},[F]);if(Un.useEffect(function(){return function(){be()}},[be]),Un.useEffect(function(){$?ce():(!me||!u)&&be()},[$,be,me,u,ce]),!k&&!$&&(!me||oe))return null;var Ce=function(){re(!1)},Le=function(){re(!0),u&&be()},Ne=function(H){H.target===H.currentTarget&&(N&&N(H),!y&&j&&j(H,"backdropClick"))},Ge=function(H){H.key!=="Escape"||!se()||(Y&&Y(H),b||(H.stopPropagation(),j&&j(H,"escapeKeyDown")))},Ue=cae(r||{zIndex:pb}),C={};return l.props.tabIndex===void 0&&(C.tabIndex=l.props.tabIndex||"-1"),me&&(C.onEnter=wi(Ce,l.props.onEnter),C.onExited=wi(Le,l.props.onExited)),Un.createElement(Vp,{ref:Se,container:d,disablePortal:_},Un.createElement("div",B({ref:Me,onKeyDown:Ge,role:"presentation"},W,{style:B({},Ue.root,!$&&oe?Ue.hidden:{},W.style)}),T?null:Un.createElement(s,B({open:$,onClick:Ne},a)),Un.createElement(M_,{disableEnforceFocus:m,disableAutoFocus:f,disableRestoreFocus:M,getDoc:Pe,isEnabled:se,open:$},Un.cloneElement(l,C))))}),kl=uae;var dae=function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":ft({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":ft({},e.breakpoints.down(e.breakpoints.values.sm+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":ft({},e.breakpoints.down(e.breakpoints.values.md+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":ft({},e.breakpoints.down(e.breakpoints.values.lg+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":ft({},e.breakpoints.down(e.breakpoints.values.xl+32*2),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},pae={enter:fn.enteringScreen,exit:fn.leavingScreen},fae=fa.forwardRef(function(e,t){var r=e.BackdropProps,i=e.children,o=e.classes,s=e.className,a=e.disableBackdropClick,l=a===void 0?!1:a,c=e.disableEscapeKeyDown,u=c===void 0?!1:c,d=e.fullScreen,p=d===void 0?!1:d,f=e.fullWidth,g=f===void 0?!1:f,y=e.maxWidth,v=y===void 0?"sm":y,m=e.onBackdropClick,h=e.onClose,b=e.onEnter,x=e.onEntered,_=e.onEntering,S=e.onEscapeKeyDown,M=e.onExit,E=e.onExited,L=e.onExiting,I=e.open,T=e.PaperComponent,A=T===void 0?zn:T,k=e.PaperProps,U=k===void 0?{}:k,F=e.scroll,N=F===void 0?"paper":F,j=e.TransitionComponent,Y=j===void 0?Op:j,pe=e.transitionDuration,$=pe===void 0?pae:pe,W=e.TransitionProps,J=e["aria-describedby"],oe=e["aria-labelledby"],re=ie(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),D=fa.useRef(),Te=function(me){D.current=me.target},de=function(me){me.target===me.currentTarget&&me.target===D.current&&(D.current=null,m&&m(me),!l&&h&&h(me,"backdropClick"))};return fa.createElement(kl,B({className:(0,R_.default)(o.root,s),BackdropComponent:Fp,BackdropProps:B({transitionDuration:$},r),closeAfterTransition:!0,disableBackdropClick:l,disableEscapeKeyDown:u,onEscapeKeyDown:S,onClose:h,open:I,ref:t},re),fa.createElement(Y,B({appear:!0,in:I,timeout:$,onEnter:b,onEntering:_,onEntered:x,onExit:M,onExiting:L,onExited:E,role:"none presentation"},W),fa.createElement("div",{className:(0,R_.default)(o.container,o["scroll".concat(Fe(N))]),onMouseUp:de,onMouseDown:Te},fa.createElement(A,B({elevation:24,role:"dialog","aria-describedby":J,"aria-labelledby":oe},U,{className:(0,R_.default)(o.paper,o["paperScroll".concat(Fe(N))],o["paperWidth".concat(Fe(String(v)))],U.className,p&&o.paperFullScreen,g&&o.paperFullWidth)}),i))))}),RH=ye(dae,{name:"MuiDialog"})(fae);var C_=R(we()),x4e=R(Ae()),CH=R(Be());var hae={root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},mae=C_.forwardRef(function(e,t){var r=e.disableSpacing,i=r===void 0?!1:r,o=e.classes,s=e.className,a=ie(e,["disableSpacing","classes","className"]);return C_.createElement("div",B({className:(0,CH.default)(o.root,s,!i&&o.spacing),ref:t},a))}),AH=ye(hae,{name:"MuiDialogActions"})(mae);var A_=R(we()),P4e=R(Ae()),LH=R(Be());var gae=function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}},yae=A_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.dividers,s=o===void 0?!1:o,a=ie(e,["classes","className","dividers"]);return A_.createElement("div",B({className:(0,LH.default)(r.root,i,s&&r.dividers),ref:t},a))}),DH=ye(gae,{name:"MuiDialogContent"})(yae);var L_=R(we()),I4e=R(Ae());var vae={root:{marginBottom:12}},xae=L_.forwardRef(function(e,t){return L_.createElement(Xt,B({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}),NH=ye(vae,{name:"MuiDialogContentText"})(xae);var cy=R(we()),W4e=R(Ae()),IH=R(Be());var bae={root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},_ae=cy.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.disableTypography,a=s===void 0?!1:s,l=ie(e,["children","classes","className","disableTypography"]);return cy.createElement("div",B({className:(0,IH.default)(i.root,o),ref:t},l),a?r:cy.createElement(Xt,{component:"h2",variant:"h6"},r))}),OH=ye(bae,{name:"MuiDialogTitle"})(_ae);var D_=R(we()),K4e=R(Ae()),FH=R(Be());var wae=function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:vt(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}},Tae=D_.forwardRef(function(e,t){var r=e.absolute,i=r===void 0?!1:r,o=e.classes,s=e.className,a=e.component,l=a===void 0?"hr":a,c=e.flexItem,u=c===void 0?!1:c,d=e.light,p=d===void 0?!1:d,f=e.orientation,g=f===void 0?"horizontal":f,y=e.role,v=y===void 0?l!=="hr"?"separator":void 0:y,m=e.variant,h=m===void 0?"fullWidth":m,b=ie(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return D_.createElement(l,B({className:(0,FH.default)(o.root,s,h!=="fullWidth"&&o[h],i&&o.absolute,u&&o.flexItem,p&&o.light,g==="vertical"&&o.vertical),role:v,ref:t},b))}),kH=ye(wae,{name:"MuiDivider"})(Tae);var Po=R(we()),wVe=R(Ae()),uy=R(Be());var ki=R(we()),aVe=R(Ae()),BH=R(fr());var dVe=R(st());function Sae(n,e){var t=e.getBoundingClientRect(),r;if(e.fakeTransform)r=e.fakeTransform;else{var i=window.getComputedStyle(e);r=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,s=0;if(r&&r!=="none"&&typeof r=="string"){var a=r.split("(")[1].split(")")[0].split(",");o=parseInt(a[4],10),s=parseInt(a[5],10)}return n==="left"?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-t.left,"px)"):n==="right"?"translateX(-".concat(t.left+t.width-o,"px)"):n==="up"?"translateY(".concat(window.innerHeight,"px) translateY(").concat(s-t.top,"px)"):"translateY(-".concat(t.top+t.height-s,"px)")}function N_(n,e){var t=Sae(n,e);t&&(e.style.webkitTransform=t,e.style.transform=t)}var Mae={enter:fn.enteringScreen,exit:fn.leavingScreen},Eae=ki.forwardRef(function(e,t){var r=e.children,i=e.direction,o=i===void 0?"down":i,s=e.in,a=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,p=e.onExiting,f=e.style,g=e.timeout,y=g===void 0?Mae:g,v=e.TransitionComponent,m=v===void 0?eo:v,h=ie(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),b=Pt(),x=ki.useRef(null),_=ki.useCallback(function(N){x.current=BH.findDOMNode(N)},[]),S=pt(r.ref,_),M=pt(S,t),E=function(j){return function(Y){j&&(Y===void 0?j(x.current):j(x.current,Y))}},L=E(function(N,j){N_(o,N),Ll(N),a&&a(N,j)}),I=E(function(N,j){var Y=Br({timeout:y,style:f},{mode:"enter"});N.style.webkitTransition=b.transitions.create("-webkit-transform",B({},Y,{easing:b.transitions.easing.easeOut})),N.style.transition=b.transitions.create("transform",B({},Y,{easing:b.transitions.easing.easeOut})),N.style.webkitTransform="none",N.style.transform="none",c&&c(N,j)}),T=E(l),A=E(p),k=E(function(N){var j=Br({timeout:y,style:f},{mode:"exit"});N.style.webkitTransition=b.transitions.create("-webkit-transform",B({},j,{easing:b.transitions.easing.sharp})),N.style.transition=b.transitions.create("transform",B({},j,{easing:b.transitions.easing.sharp})),N_(o,N),u&&u(N)}),U=E(function(N){N.style.webkitTransition="",N.style.transition="",d&&d(N)}),F=ki.useCallback(function(){x.current&&N_(o,x.current)},[o]);return ki.useEffect(function(){if(!(s||o==="down"||o==="right")){var N=Ti(function(){x.current&&N_(o,x.current)});return window.addEventListener("resize",N),function(){N.clear(),window.removeEventListener("resize",N)}}},[o,s]),ki.useEffect(function(){s||F()},[s,F]),ki.createElement(m,B({nodeRef:x,onEnter:L,onEntered:T,onEntering:I,onExit:k,onExited:U,onExiting:A,appear:!0,in:s,timeout:y},h),function(N,j){return ki.cloneElement(r,B({ref:M,style:B({visibility:N==="exited"&&!s?"hidden":void 0},f,r.props.style)},j))})}),I_=Eae;var Pae=function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}},zH={left:"right",right:"left",top:"down",bottom:"up"};function Bl(n){return["left","right"].indexOf(n)!==-1}function Wp(n,e){return n.direction==="rtl"&&Bl(e)?zH[e]:e}var Rae={enter:fn.enteringScreen,exit:fn.leavingScreen},Cae=Po.forwardRef(function(e,t){var r=e.anchor,i=r===void 0?"left":r,o=e.BackdropProps,s=e.children,a=e.classes,l=e.className,c=e.elevation,u=c===void 0?16:c,d=e.ModalProps;d=d===void 0?{}:d;var p=d.BackdropProps,f=ie(d,["BackdropProps"]),g=e.onClose,y=e.open,v=y===void 0?!1:y,m=e.PaperProps,h=m===void 0?{}:m,b=e.SlideProps,x=e.TransitionComponent,_=x===void 0?I_:x,S=e.transitionDuration,M=S===void 0?Rae:S,E=e.variant,L=E===void 0?"temporary":E,I=ie(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),T=Pt(),A=Po.useRef(!1);Po.useEffect(function(){A.current=!0},[]);var k=Wp(T,i),U=Po.createElement(zn,B({elevation:L==="temporary"?u:0,square:!0},h,{className:(0,uy.default)(a.paper,a["paperAnchor".concat(Fe(k))],h.className,L!=="temporary"&&a["paperAnchorDocked".concat(Fe(k))])}),s);if(L==="permanent")return Po.createElement("div",B({className:(0,uy.default)(a.root,a.docked,l),ref:t},I),U);var F=Po.createElement(_,B({in:v,direction:zH[k],timeout:M,appear:A.current},b),U);return L==="persistent"?Po.createElement("div",B({className:(0,uy.default)(a.root,a.docked,l),ref:t},I),F):Po.createElement(kl,B({BackdropProps:B({},o,p,{transitionDuration:M}),BackdropComponent:Fp,className:(0,uy.default)(a.root,a.modal,l),open:v,onClose:g,ref:t},I,f),F)}),O_=ye(Pae,{name:"MuiDrawer",flip:!1})(Cae);var Bi=R(we()),UVe=R($i()),HVe=R(Ae()),VH=R(Be()),GVe=R(st());var UH=R(we()),Aae=UH.createContext({}),F_=Aae;var Lae=function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}};var Dae=Bi.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.defaultExpanded,a=s===void 0?!1:s,l=e.disabled,c=l===void 0?!1:l,u=e.expanded,d=e.onChange,p=e.square,f=p===void 0?!1:p,g=e.TransitionComponent,y=g===void 0?Dl:g,v=e.TransitionProps,m=ie(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),h=ri({controlled:u,default:a,name:"ExpansionPanel",state:"expanded"}),b=An(h,2),x=b[0],_=b[1],S=Bi.useCallback(function(A){_(!x),d&&d(A,!x)},[x,d,_]),M=Bi.Children.toArray(r),E=Yg(M),L=E[0],I=E.slice(1),T=Bi.useMemo(function(){return{expanded:x,disabled:c,toggle:S}},[x,c,S]);return Bi.createElement(zn,B({className:(0,VH.default)(i.root,o,x&&i.expanded,c&&i.disabled,!f&&i.rounded),ref:t,square:f},m),Bi.createElement(F_.Provider,{value:T},L),Bi.createElement(y,B({in:x,timeout:"auto"},v),Bi.createElement("div",{"aria-labelledby":L.props.id,id:L.props["aria-controls"],role:"region"},I)))}),HH=ye(Lae,{name:"MuiExpansionPanel"})(Dae);var k_=R(we()),nHe=R(Ae()),WH=R(Be());var Nae={root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},spacing:{"& > :not(:first-child)":{marginLeft:8}}};var Iae=k_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.disableSpacing,s=o===void 0?!1:o,a=ie(e,["classes","className","disableSpacing"]);return k_.createElement("div",B({className:(0,WH.default)(r.root,i,!s&&r.spacing),ref:t},a))}),GH=ye(Nae,{name:"MuiExpansionPanelActions"})(Iae);var B_=R(we()),uHe=R(Ae()),jH=R(Be());var Oae=function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}};var Fae=B_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=ie(e,["classes","className"]);return B_.createElement("div",B({className:(0,jH.default)(r.root,i),ref:t},o))}),qH=ye(Oae,{name:"MuiExpansionPanelDetails"})(Fae);var Ls=R(we()),vHe=R(Ae()),z_=R(Be());var kae=function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:8*6,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}};var Bae=Ls.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.expandIcon,a=e.IconButtonProps,l=e.onBlur,c=e.onClick,u=e.onFocusVisible,d=ie(e,["children","classes","className","expandIcon","IconButtonProps","onBlur","onClick","onFocusVisible"]),p=Ls.useState(!1),f=p[0],g=p[1],y=function(E){g(!0),u&&u(E)},v=function(E){g(!1),l&&l(E)},m=Ls.useContext(F_),h=m.disabled,b=h===void 0?!1:h,x=m.expanded,_=m.toggle,S=function(E){_&&_(E),c&&c(E)};return Ls.createElement(kt,B({focusRipple:!1,disableRipple:!0,disabled:b,component:"div","aria-expanded":x,className:(0,z_.default)(i.root,o,b&&i.disabled,x&&i.expanded,f&&i.focused),onFocusVisible:y,onBlur:v,onClick:S,ref:t},d),Ls.createElement("div",{className:(0,z_.default)(i.content,x&&i.expanded)},r),s&&Ls.createElement(or,B({className:(0,z_.default)(i.expandIcon,x&&i.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},a),s))}),$H=ye(kae,{name:"MuiExpansionPanelSummary"})(Bae);var dy=R(we()),CHe=R(Ae()),fA=R(Be());var zae=function(e){return{root:B({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},Uae=dy.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.color,a=s===void 0?"default":s,l=e.component,c=l===void 0?"button":l,u=e.disabled,d=u===void 0?!1:u,p=e.disableFocusRipple,f=p===void 0?!1:p,g=e.focusVisibleClassName,y=e.size,v=y===void 0?"large":y,m=e.variant,h=m===void 0?"round":m,b=ie(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return dy.createElement(kt,B({className:(0,fA.default)(i.root,o,h!=="round"&&i.extended,v!=="large"&&i["size".concat(Fe(v))],d&&i.disabled,{primary:i.primary,secondary:i.secondary,inherit:i.colorInherit}[a]),component:c,disabled:d,focusRipple:!f,focusVisibleClassName:(0,fA.default)(i.focusVisible,g),ref:t},b),dy.createElement("span",{className:i.label},r))}),XH=ye(zae,{name:"MuiFab"})(Uae);var H_=R(we()),p5e=R(Ae()),KH=R(Be()),h5e=R(st());var ZH=R(st()),$n=R(we()),JHe=R(Ae()),hA=R(Be()),KHe=R(st());function no(n){var e=n.props,t=n.states,r=n.muiFormControl;return t.reduce(function(i,o){return i[o]=e[o],r&&typeof e[o]=="undefined"&&(i[o]=r[o]),i},{})}var Ln=R(we()),UHe=R(Ae());function U_(n,e){return parseInt(n[e],10)||0}var Vae=typeof window!="undefined"?Ln.useLayoutEffect:Ln.useEffect,Hae={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},Wae=Ln.forwardRef(function(e,t){var r=e.onChange,i=e.rows,o=e.rowsMax,s=e.rowsMin,a=s===void 0?1:s,l=e.style,c=e.value,u=ie(e,["onChange","rows","rowsMax","rowsMin","style","value"]),d=i||a,p=Ln.useRef(c!=null),f=p.current,g=Ln.useRef(null),y=pt(t,g),v=Ln.useRef(null),m=Ln.useRef(0),h=Ln.useState({}),b=h[0],x=h[1],_=Ln.useCallback(function(){var M=g.current,E=window.getComputedStyle(M),L=v.current;L.style.width=E.width,L.value=M.value||e.placeholder||"x",L.value.slice(-1)===`
`&&(L.value+=" ");var I=E["box-sizing"],T=U_(E,"padding-bottom")+U_(E,"padding-top"),A=U_(E,"border-bottom-width")+U_(E,"border-top-width"),k=L.scrollHeight-T;L.value="x";var U=L.scrollHeight-T,F=k;d&&(F=Math.max(Number(d)*U,F)),o&&(F=Math.min(Number(o)*U,F)),F=Math.max(F,U);var N=F+(I==="border-box"?T+A:0),j=Math.abs(F-k)<=1;x(function(Y){return m.current<20&&(N>0&&Math.abs((Y.outerHeightStyle||0)-N)>1||Y.overflow!==j)?(m.current+=1,{overflow:j,outerHeightStyle:N}):Y})},[o,d,e.placeholder]);Ln.useEffect(function(){var M=Ti(function(){m.current=0,_()});return window.addEventListener("resize",M),function(){M.clear(),window.removeEventListener("resize",M)}},[_]),Vae(function(){_()}),Ln.useEffect(function(){m.current=0},[c]);var S=function(E){m.current=0,f||_(),r&&r(E)};return Ln.createElement(Ln.Fragment,null,Ln.createElement("textarea",B({value:c,onChange:S,ref:y,rows:d,style:B({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},l)},u)),Ln.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:B({},Hae.shadow,l)}))}),V_=Wae;function YH(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function Gp(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return n&&(YH(n.value)&&n.value!==""||e&&YH(n.defaultValue)&&n.defaultValue!=="")}function JH(n){return n.startAdornment}var Gae=function(e){var t=e.palette.type==="light",r={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},i={opacity:"0 !important"},o={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:B({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),"&$marginDense":{paddingTop:4-1}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(8-2,"px 0 ").concat(8-1,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:4-1},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}},jae=typeof window=="undefined"?$n.useEffect:$n.useLayoutEffect,qae=$n.forwardRef(function(e,t){var r=e["aria-describedby"],i=e.autoComplete,o=e.autoFocus,s=e.classes,a=e.className,l=e.color,c=e.defaultValue,u=e.disabled,d=e.endAdornment,p=e.error,f=e.fullWidth,g=f===void 0?!1:f,y=e.id,v=e.inputComponent,m=v===void 0?"input":v,h=e.inputProps,b=h===void 0?{}:h,x=e.inputRef,_=e.margin,S=e.multiline,M=S===void 0?!1:S,E=e.name,L=e.onBlur,I=e.onChange,T=e.onClick,A=e.onFocus,k=e.onKeyDown,U=e.onKeyUp,F=e.placeholder,N=e.readOnly,j=e.renderSuffix,Y=e.rows,pe=e.rowsMax,$=e.rowsMin,W=e.startAdornment,J=e.type,oe=J===void 0?"text":J,re=e.value,D=ie(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),Te=b.value!=null?b.value:re,de=$n.useRef(Te!=null),Me=de.current,me=$n.useRef(),Pe=$n.useCallback(function(fe){},[]),_e=pt(b.ref,Pe),q=pt(x,_e),ce=pt(me,q),se=$n.useState(!1),Se=se[0],be=se[1],Ce=x_(),Le=no({props:e,muiFormControl:Ce,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});Le.focused=Ce?Ce.focused:Se,$n.useEffect(function(){!Ce&&u&&Se&&(be(!1),L&&L())},[Ce,u,Se,L]);var Ne=Ce&&Ce.onFilled,Ge=Ce&&Ce.onEmpty,Ue=$n.useCallback(function(fe){Gp(fe)?Ne&&Ne():Ge&&Ge()},[Ne,Ge]);jae(function(){Me&&Ue({value:Te})},[Te,Ue,Me]);var C=function(le){if(Le.disabled){le.stopPropagation();return}A&&A(le),b.onFocus&&b.onFocus(le),Ce&&Ce.onFocus?Ce.onFocus(le):be(!0)},w=function(le){L&&L(le),b.onBlur&&b.onBlur(le),Ce&&Ce.onBlur?Ce.onBlur(le):be(!1)},H=function(le){if(!Me){var ve=le.target||me.current;if(ve==null)throw new Error((0,ZH.formatMuiErrorMessage)(1));Ue({value:ve.value})}for(var De=arguments.length,z=new Array(De>1?De-1:0),xe=1;xe<De;xe++)z[xe-1]=arguments[xe];b.onChange&&b.onChange.apply(b,[le].concat(z)),I&&I.apply(void 0,[le].concat(z))};$n.useEffect(function(){Ue(me.current)},[]);var ee=function(le){me.current&&le.currentTarget===le.target&&me.current.focus(),T&&T(le)},ue=m,G=B({},b,{ref:ce});typeof ue!="string"?G=B({inputRef:ce,type:oe},G,{ref:null}):M?Y&&!pe&&!$?ue="textarea":(G=B({rows:Y,rowsMax:pe},G),ue=V_):G=B({type:oe},G);var ge=function(le){Ue(le.animationName==="mui-auto-fill-cancel"?me.current:{value:"x"})};return $n.useEffect(function(){Ce&&Ce.setAdornedStart(Boolean(W))},[Ce,W]),$n.createElement("div",B({className:(0,hA.default)(s.root,s["color".concat(Fe(Le.color||"primary"))],a,Le.disabled&&s.disabled,Le.error&&s.error,g&&s.fullWidth,Le.focused&&s.focused,Ce&&s.formControl,M&&s.multiline,W&&s.adornedStart,d&&s.adornedEnd,Le.margin==="dense"&&s.marginDense),onClick:ee,ref:t},D),W,$n.createElement(Il.Provider,{value:null},$n.createElement(ue,B({"aria-invalid":Le.error,"aria-describedby":r,autoComplete:i,autoFocus:o,defaultValue:c,disabled:Le.disabled,id:y,onAnimationStart:ge,name:E,placeholder:F,readOnly:N,required:Le.required,rows:Y,value:Te,onKeyDown:k,onKeyUp:U},G,{className:(0,hA.default)(s.input,b.className,Le.disabled&&s.disabled,M&&s.inputMultiline,Le.hiddenLabel&&s.inputHiddenLabel,W&&s.inputAdornedStart,d&&s.inputAdornedEnd,oe==="search"&&s.inputTypeSearch,Le.margin==="dense"&&s.inputMarginDense),onBlur:w,onChange:H,onFocus:C}))),d,j?j(B({},Le,{startAdornment:W})):null)}),Ds=ye(Gae,{name:"MuiInputBase"})(qae);var $ae=function(e){var t=e.palette.type==="light",r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:i,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:i}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},QH=H_.forwardRef(function(e,t){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,s=o===void 0?!1:o,a=e.inputComponent,l=a===void 0?"input":a,c=e.multiline,u=c===void 0?!1:c,d=e.type,p=d===void 0?"text":d,f=ie(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return H_.createElement(Ds,B({classes:B({},i,{root:(0,KH.default)(i.root,!r&&i.underline),underline:null}),fullWidth:s,inputComponent:l,multiline:u,ref:t,type:p},f))});QH.muiName="Input";var jp=ye($ae,{name:"MuiFilledInput"})(QH);var si=R(we()),T5e=R(Ae()),e5=R(Be());var Xae={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},Yae=si.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.color,a=s===void 0?"primary":s,l=e.component,c=l===void 0?"div":l,u=e.disabled,d=u===void 0?!1:u,p=e.error,f=p===void 0?!1:p,g=e.fullWidth,y=g===void 0?!1:g,v=e.focused,m=e.hiddenLabel,h=m===void 0?!1:m,b=e.margin,x=b===void 0?"none":b,_=e.required,S=_===void 0?!1:_,M=e.size,E=e.variant,L=E===void 0?"standard":E,I=ie(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),T=si.useState(function(){var Te=!1;return r&&si.Children.forEach(r,function(de){if(!!Mo(de,["Input","Select"])){var Me=Mo(de,["Select"])?de.props.input:de;Me&&JH(Me.props)&&(Te=!0)}}),Te}),A=T[0],k=T[1],U=si.useState(function(){var Te=!1;return r&&si.Children.forEach(r,function(de){!Mo(de,["Input","Select"])||Gp(de.props,!0)&&(Te=!0)}),Te}),F=U[0],N=U[1],j=si.useState(!1),Y=j[0],pe=j[1],$=v!==void 0?v:Y;d&&$&&pe(!1);var W;if(!1)var J;var oe=si.useCallback(function(){N(!0)},[]),re=si.useCallback(function(){N(!1)},[]),D={adornedStart:A,setAdornedStart:k,color:a,disabled:d,error:f,filled:F,focused:$,fullWidth:y,hiddenLabel:h,margin:(M==="small"?"dense":void 0)||x,onBlur:function(){pe(!1)},onEmpty:re,onFilled:oe,onFocus:function(){pe(!0)},registerEffect:W,required:S,variant:L};return si.createElement(Il.Provider,{value:D},si.createElement(c,B({className:(0,e5.default)(i.root,o,x!=="none"&&i["margin".concat(Fe(x))],y&&i.fullWidth),ref:t},I),r))}),W_=ye(Xae,{name:"MuiFormControl"})(Yae);var Mu=R(we()),F5e=R(Ae()),mA=R(Be()),B5e=R(st());var Jae=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}},Zae=Mu.forwardRef(function(e,t){var r=e.checked,i=e.classes,o=e.className,s=e.control,a=e.disabled,l=e.inputRef,c=e.label,u=e.labelPlacement,d=u===void 0?"end":u,p=e.name,f=e.onChange,g=e.value,y=ie(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"]),v=ii(),m=a;typeof m=="undefined"&&typeof s.props.disabled!="undefined"&&(m=s.props.disabled),typeof m=="undefined"&&v&&(m=v.disabled);var h={disabled:m};return["checked","name","onChange","value","inputRef"].forEach(function(b){typeof s.props[b]=="undefined"&&typeof e[b]!="undefined"&&(h[b]=e[b])}),Mu.createElement("label",B({className:(0,mA.default)(i.root,o,d!=="end"&&i["labelPlacement".concat(Fe(d))],m&&i.disabled),ref:t},y),Mu.cloneElement(s,h),Mu.createElement(Xt,{component:"span",className:(0,mA.default)(i.label,m&&i.disabled)},c))}),t5=ye(Jae,{name:"MuiFormControlLabel"})(Zae);var G_=R(we()),Y5e=R(Ae()),n5=R(Be());var Kae={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},Qae=G_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.row,s=o===void 0?!1:o,a=ie(e,["classes","className","row"]);return G_.createElement("div",B({className:(0,n5.default)(r.root,i,s&&r.row),ref:t},a))}),j_=ye(Kae,{name:"MuiFormGroup"})(Qae);var py=R(we()),rWe=R(Ae()),r5=R(Be());var ele=function(e){return{root:B({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}},tle=py.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.component,a=s===void 0?"p":s,l=e.disabled,c=e.error,u=e.filled,d=e.focused,p=e.margin,f=e.required,g=e.variant,y=ie(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"]),v=ii(),m=no({props:e,muiFormControl:v,states:["variant","margin","disabled","error","filled","focused","required"]});return py.createElement(a,B({className:(0,r5.default)(i.root,(m.variant==="filled"||m.variant==="outlined")&&i.contained,o,m.disabled&&i.disabled,m.error&&i.error,m.filled&&i.filled,m.focused&&i.focused,m.required&&i.required,m.margin==="dense"&&i.marginDense),ref:t},y),r===" "?py.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)}),q_=ye(ele,{name:"MuiFormHelperText"})(tle);var fy=R(we()),fWe=R(Ae()),gA=R(Be());var nle=function(e){return{root:B({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}},rle=fy.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.color,a=e.component,l=a===void 0?"label":a,c=e.disabled,u=e.error,d=e.filled,p=e.focused,f=e.required,g=ie(e,["children","classes","className","color","component","disabled","error","filled","focused","required"]),y=ii(),v=no({props:e,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]});return fy.createElement(l,B({className:(0,gA.default)(i.root,i["color".concat(Fe(v.color||"primary"))],o,v.disabled&&i.disabled,v.error&&i.error,v.filled&&i.filled,v.focused&&i.focused,v.required&&i.required),ref:t},g),r,v.required&&fy.createElement("span",{"aria-hidden":!0,className:(0,gA.default)(i.asterisk,v.error&&i.error)},"\u2009","*"))}),$_=ye(nle,{name:"MuiFormLabel"})(rle);var X_=R(we()),SWe=R(Ae()),i5=R(Be());var ile=[0,1,2,3,4,5,6,7,8,9,10],ole=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function sle(n,e,t){var r={};ole.forEach(function(i){var o="grid-".concat(t,"-").concat(i);if(i===!0){r[o]={flexBasis:0,flexGrow:1,maxWidth:"100%"};return}if(i==="auto"){r[o]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};return}var s="".concat(Math.round(i/12*1e8)/1e6,"%");r[o]={flexBasis:s,flexGrow:0,maxWidth:s}}),t==="xs"?B(n,r):n[e.breakpoints.up(t)]=r}function yA(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=parseFloat(n);return"".concat(t/e).concat(String(n).replace(String(t),"")||"px")}function ale(n,e){var t={};return ile.forEach(function(r){var i=n.spacing(r);i!==0&&(t["spacing-".concat(e,"-").concat(r)]={margin:"-".concat(yA(i,2)),width:"calc(100% + ".concat(yA(i),")"),"& > $item":{padding:yA(i,2)}})}),t}var lle=function(e){return B({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},ale(e,"xs"),e.breakpoints.keys.reduce(function(t,r){return sle(t,e,r),t},{}))},cle=X_.forwardRef(function(e,t){var r=e.alignContent,i=r===void 0?"stretch":r,o=e.alignItems,s=o===void 0?"stretch":o,a=e.classes,l=e.className,c=e.component,u=c===void 0?"div":c,d=e.container,p=d===void 0?!1:d,f=e.direction,g=f===void 0?"row":f,y=e.item,v=y===void 0?!1:y,m=e.justify,h=m===void 0?"flex-start":m,b=e.lg,x=b===void 0?!1:b,_=e.md,S=_===void 0?!1:_,M=e.sm,E=M===void 0?!1:M,L=e.spacing,I=L===void 0?0:L,T=e.wrap,A=T===void 0?"wrap":T,k=e.xl,U=k===void 0?!1:k,F=e.xs,N=F===void 0?!1:F,j=e.zeroMinWidth,Y=j===void 0?!1:j,pe=ie(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),$=(0,i5.default)(a.root,l,p&&[a.container,I!==0&&a["spacing-xs-".concat(String(I))]],v&&a.item,Y&&a.zeroMinWidth,g!=="row"&&a["direction-xs-".concat(String(g))],A!=="wrap"&&a["wrap-xs-".concat(String(A))],s!=="stretch"&&a["align-items-xs-".concat(String(s))],i!=="stretch"&&a["align-content-xs-".concat(String(i))],h!=="flex-start"&&a["justify-xs-".concat(String(h))],N!==!1&&a["grid-xs-".concat(String(N))],E!==!1&&a["grid-sm-".concat(String(E))],S!==!1&&a["grid-md-".concat(String(S))],x!==!1&&a["grid-lg-".concat(String(x))],U!==!1&&a["grid-xl-".concat(String(U))]);return X_.createElement(u,B({className:$,ref:t},pe))}),ule=ye(lle,{name:"MuiGrid"})(cle);var Eu=ule;var Ns=R(we()),IWe=R($i()),FWe=R(Ae()),o5=R(Be());var dle={root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},ple=Ns.forwardRef(function(e,t){var r=e.cellHeight,i=r===void 0?180:r,o=e.children,s=e.classes,a=e.className,l=e.cols,c=l===void 0?2:l,u=e.component,d=u===void 0?"ul":u,p=e.spacing,f=p===void 0?4:p,g=e.style,y=ie(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return Ns.createElement(d,B({className:(0,o5.default)(s.root,a),ref:t,style:B({margin:-f/2},g)},y),Ns.Children.map(o,function(v){if(!Ns.isValidElement(v))return null;var m=v.props.cols||1,h=v.props.rows||1;return Ns.cloneElement(v,{style:B({width:"".concat(100/c*m,"%"),height:i==="auto"?"auto":i*h+f,padding:f/2},v.props.style)})}))}),s5=ye(dle,{name:"MuiGridList"})(ple);var ai=R(we()),jWe=R(Ae()),a5=R(Be());var fle={root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},vA=function(e,t){if(!(!e||!e.complete))if(e.width/e.height>e.parentElement.offsetWidth/e.parentElement.offsetHeight){var r,i;(r=e.classList).remove.apply(r,zr(t.imgFullWidth.split(" "))),(i=e.classList).add.apply(i,zr(t.imgFullHeight.split(" ")))}else{var o,s;(o=e.classList).remove.apply(o,zr(t.imgFullHeight.split(" "))),(s=e.classList).add.apply(s,zr(t.imgFullWidth.split(" ")))}};function hle(n,e){!n||(n.complete?vA(n,e):n.addEventListener("load",function(){vA(n,e)}))}var mle=ai.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.cols,a=s===void 0?1:s,l=e.component,c=l===void 0?"li":l,u=e.rows,d=u===void 0?1:u,p=ie(e,["children","classes","className","cols","component","rows"]),f=ai.useRef(null);return ai.useEffect(function(){hle(f.current,i)}),ai.useEffect(function(){var g=Ti(function(){vA(f.current,i)});return window.addEventListener("resize",g),function(){g.clear(),window.removeEventListener("resize",g)}},[i]),ai.createElement(c,B({className:(0,a5.default)(i.root,o),ref:t},p),ai.createElement("div",{className:i.tile},ai.Children.map(r,function(g){return ai.isValidElement(g)?g.type==="img"||Mo(g,["Image"])?ai.cloneElement(g,{ref:f}):g:null})))}),l5=ye(fle,{name:"MuiGridListTile"})(mle);var zl=R(we()),tGe=R(Ae()),Y_=R(Be());var gle=function(e){return{root:{position:"absolute",left:0,right:0,height:48,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},titlePositionBottom:{bottom:0},titlePositionTop:{top:0},rootSubtitle:{height:68},titleWrap:{flexGrow:1,marginLeft:16,marginRight:16,color:e.palette.common.white,overflow:"hidden"},titleWrapActionPosLeft:{marginLeft:0},titleWrapActionPosRight:{marginRight:0},title:{fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIcon:{},actionIconActionPosLeft:{order:-1}}},yle=zl.forwardRef(function(e,t){var r=e.actionIcon,i=e.actionPosition,o=i===void 0?"right":i,s=e.classes,a=e.className,l=e.subtitle,c=e.title,u=e.titlePosition,d=u===void 0?"bottom":u,p=ie(e,["actionIcon","actionPosition","classes","className","subtitle","title","titlePosition"]),f=r&&o;return zl.createElement("div",B({className:(0,Y_.default)(s.root,a,d==="top"?s.titlePositionTop:s.titlePositionBottom,l&&s.rootSubtitle),ref:t},p),zl.createElement("div",{className:(0,Y_.default)(s.titleWrap,{left:s.titleWrapActionPosLeft,right:s.titleWrapActionPosRight}[f])},zl.createElement("div",{className:s.title},c),l?zl.createElement("div",{className:s.subtitle},l):null),r?zl.createElement("div",{className:(0,Y_.default)(s.actionIcon,f==="left"&&s.actionIconActionPosLeft)},r):null)}),c5=ye(gle,{name:"MuiGridListTileBar"})(yle);var Ro=R(we()),uGe=R(Ae());function xA(n){return"scale(".concat(n,", ").concat(Math.pow(n,2),")")}var vle={entering:{opacity:1,transform:xA(1)},entered:{opacity:1,transform:"none"}},u5=Ro.forwardRef(function(e,t){var r=e.children,i=e.disableStrictModeCompat,o=i===void 0?!1:i,s=e.in,a=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,p=e.onExiting,f=e.style,g=e.timeout,y=g===void 0?"auto":g,v=e.TransitionComponent,m=v===void 0?eo:v,h=ie(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),b=Ro.useRef(),x=Ro.useRef(),_=Pt(),S=_.unstable_strictMode&&!o,M=Ro.useRef(null),E=pt(r.ref,t),L=pt(S?M:void 0,E),I=function(pe){return function($,W){if(pe){var J=S?[M.current,$]:[$,W],oe=An(J,2),re=oe[0],D=oe[1];D===void 0?pe(re):pe(re,D)}}},T=I(c),A=I(function(Y,pe){Ll(Y);var $=Br({style:f,timeout:y},{mode:"enter"}),W=$.duration,J=$.delay,oe;y==="auto"?(oe=_.transitions.getAutoHeightDuration(Y.clientHeight),x.current=oe):oe=W,Y.style.transition=[_.transitions.create("opacity",{duration:oe,delay:J}),_.transitions.create("transform",{duration:oe*.666,delay:J})].join(","),a&&a(Y,pe)}),k=I(l),U=I(p),F=I(function(Y){var pe=Br({style:f,timeout:y},{mode:"exit"}),$=pe.duration,W=pe.delay,J;y==="auto"?(J=_.transitions.getAutoHeightDuration(Y.clientHeight),x.current=J):J=$,Y.style.transition=[_.transitions.create("opacity",{duration:J,delay:W}),_.transitions.create("transform",{duration:J*.666,delay:W||J*.333})].join(","),Y.style.opacity="0",Y.style.transform=xA(.75),u&&u(Y)}),N=I(d),j=function(pe,$){var W=S?pe:$;y==="auto"&&(b.current=setTimeout(W,x.current||0))};return Ro.useEffect(function(){return function(){clearTimeout(b.current)}},[]),Ro.createElement(m,B({appear:!0,in:s,nodeRef:S?M:void 0,onEnter:A,onEntered:k,onEntering:T,onExit:F,onExited:N,onExiting:U,addEndListener:j,timeout:y==="auto"?null:y},h),function(Y,pe){return Ro.cloneElement(r,B({style:B({opacity:0,transform:xA(.75),visibility:Y==="exited"&&!s?"hidden":void 0},vle[Y],f,r.props.style),ref:L},pe))})});u5.muiSupportAuto=!0;var Ul=u5;var Mle=R(we()),ZGe=R(Ae());var ar=R(Ae()),FGe=R(st());var Vl=R(we()),MGe=R(Ae()),PGe=R(st()),d5=R(ni()),p5=R(Hg());var hy=R(we()),J_=R(ni());function my(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=(0,J_.useTheme)(),r=(0,J_.getThemeProps)({theme:t,name:"MuiUseMediaQuery",props:{}}),i=typeof n=="function"?n(t):n;i=i.replace(/^@media( ?)/m,"");var o=typeof window!="undefined"&&typeof window.matchMedia!="undefined",s=B({},r,e),a=s.defaultMatches,l=a===void 0?!1:a,c=s.matchMedia,u=c===void 0?o?window.matchMedia:null:c,d=s.noSsr,p=d===void 0?!1:d,f=s.ssrMatchMedia,g=f===void 0?null:f,y=hy.useState(function(){return p&&o?u(i).matches:g?g(i).matches:l}),v=y[0],m=y[1];return hy.useEffect(function(){var h=!0;if(!!o){var b=u(i),x=function(){h&&m(b.matches)};return x(),b.addListener(x),function(){h=!1,b.removeListener(x)}}},[i,u,o]),v}var f5=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r?kr.indexOf(e)<=kr.indexOf(t):kr.indexOf(e)<kr.indexOf(t)},bA=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r?kr.indexOf(t)<=kr.indexOf(e):kr.indexOf(t)<kr.indexOf(e)},xle=typeof window=="undefined"?Vl.useEffect:Vl.useLayoutEffect,ble=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(t){var r=e.withTheme,i=r===void 0?!1:r,o=e.noSSR,s=o===void 0?!1:o,a=e.initialWidth;function l(c){var u=Pt(),d=c.theme||u,p=(0,d5.getThemeProps)({theme:d,name:"MuiWithWidth",props:B({},c)}),f=p.initialWidth,g=p.width,y=ie(p,["initialWidth","width"]),v=Vl.useState(!1),m=v[0],h=v[1];xle(function(){h(!0)},[]);var b=d.breakpoints.keys.slice().reverse(),x=b.reduce(function(S,M){var E=my(d.breakpoints.up(M));return!S&&E?M:S},null),_=B({width:g||(m||s?x:void 0)||f||a},i?{theme:d}:{},y);return _.width===void 0?null:Vl.createElement(t,_)}return(0,p5.default)(l,t),l}},gy=ble;function h5(n){var e=n.children,t=n.only,r=n.width,i=Pt(),o=!0;if(t)if(Array.isArray(t))for(var s=0;s<t.length;s+=1){var a=t[s];if(r===a){o=!1;break}}else t&&r===t&&(o=!1);if(o)for(var l=0;l<i.breakpoints.keys.length;l+=1){var c=i.breakpoints.keys[l],u=n["".concat(c,"Up")],d=n["".concat(c,"Down")];if(u&&f5(c,r)||d&&bA(c,r)){o=!1;break}}return o?e:null}h5.propTypes={children:ar.default.node,className:ar.default.string,implementation:ar.default.oneOf(["js","css"]),initialWidth:ar.default.oneOf(["xs","sm","md","lg","xl"]),lgDown:ar.default.bool,lgUp:ar.default.bool,mdDown:ar.default.bool,mdUp:ar.default.bool,only:ar.default.oneOfType([ar.default.oneOf(["xs","sm","md","lg","xl"]),ar.default.arrayOf(ar.default.oneOf(["xs","sm","md","lg","xl"]))]),smDown:ar.default.bool,smUp:ar.default.bool,width:ar.default.string.isRequired,xlDown:ar.default.bool,xlUp:ar.default.bool,xsDown:ar.default.bool,xsUp:ar.default.bool};var _le=gy()(h5);var m5=R(we()),WGe=R(Ae());var wle=function(e){var t={display:"none"};return e.breakpoints.keys.reduce(function(r,i){return r["only".concat(Fe(i))]=ft({},e.breakpoints.only(i),t),r["".concat(i,"Up")]=ft({},e.breakpoints.up(i),t),r["".concat(i,"Down")]=ft({},e.breakpoints.down(i),t),r},{})};function Tle(n){var e=n.children,t=n.classes,r=n.className,i=n.only,o=ie(n,["children","classes","className","only"]),s=Pt();if(!1)var a;var l=[];r&&l.push(r);for(var c=0;c<s.breakpoints.keys.length;c+=1){var u=s.breakpoints.keys[c],d=n["".concat(u,"Up")],p=n["".concat(u,"Down")];d&&l.push(t["".concat(u,"Up")]),p&&l.push(t["".concat(u,"Down")])}if(i){var f=Array.isArray(i)?i:[i];f.forEach(function(g){l.push(t["only".concat(Fe(g))])})}return m5.createElement("div",{className:l.join(" ")},e)}var Sle=ye(wle,{name:"PrivateHiddenCss"})(Tle);var Z_=R(we()),s6e=R(Ae()),g5=R(Be());var Ple=function(e){return{root:{userSelect:"none",fontSize:e.typography.pxToRem(24),width:"1em",height:"1em",overflow:"hidden",flexShrink:0},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(36)}}},y5=Z_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.color,s=o===void 0?"inherit":o,a=e.component,l=a===void 0?"span":a,c=e.fontSize,u=c===void 0?"default":c,d=ie(e,["classes","className","color","component","fontSize"]);return Z_.createElement(l,B({className:(0,g5.default)("material-icons",r.root,i,s!=="inherit"&&r["color".concat(Fe(s))],u!=="default"&&r["fontSize".concat(Fe(u))]),"aria-hidden":!0,ref:t},d))});y5.muiName="Icon";var v5=ye(Ple,{name:"MuiIcon"})(y5);var K_=R(we()),m6e=R(Ae()),x5=R(Be()),y6e=R(st());var Rle=function(e){var t=e.palette.type==="light",r=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}},b5=K_.forwardRef(function(e,t){var r=e.disableUnderline,i=e.classes,o=e.fullWidth,s=o===void 0?!1:o,a=e.inputComponent,l=a===void 0?"input":a,c=e.multiline,u=c===void 0?!1:c,d=e.type,p=d===void 0?"text":d,f=ie(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return K_.createElement(Ds,B({classes:B({},i,{root:(0,x5.default)(i.root,!r&&i.underline),underline:null}),fullWidth:s,inputComponent:l,multiline:u,ref:t,type:p},f))});b5.muiName="Input";var Hl=ye(Rle,{name:"MuiInput"})(b5);var qp=R(we()),E6e=R(Ae()),_5=R(Be());var Cle={root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},Ale=qp.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.component,a=s===void 0?"div":s,l=e.disablePointerEvents,c=l===void 0?!1:l,u=e.disableTypography,d=u===void 0?!1:u,p=e.position,f=e.variant,g=ie(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),y=x_()||{},v=f;return f&&y.variant,y&&!v&&(v=y.variant),qp.createElement(Il.Provider,{value:null},qp.createElement(a,B({className:(0,_5.default)(i.root,o,c&&i.disablePointerEvents,y.hiddenLabel&&i.hiddenLabel,v==="filled"&&i.filled,{start:i.positionStart,end:i.positionEnd}[p],y.margin==="dense"&&i.marginDense),ref:t},g),typeof r=="string"&&!d?qp.createElement(Xt,{color:"textSecondary"},r):r))}),w5=ye(Cle,{name:"MuiInputAdornment"})(Ale);var Q_=R(we()),F6e=R(Ae()),T5=R(Be());var Lle=function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}},Dle=Q_.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.disableAnimation,s=o===void 0?!1:o,a=e.margin,l=e.shrink,c=e.variant,u=ie(e,["classes","className","disableAnimation","margin","shrink","variant"]),d=ii(),p=l;typeof p=="undefined"&&d&&(p=d.filled||d.focused||d.adornedStart);var f=no({props:e,muiFormControl:d,states:["margin","variant"]});return Q_.createElement($_,B({"data-shrink":p,className:(0,T5.default)(r.root,i,d&&r.formControl,!s&&r.animated,p&&r.shrink,f.margin==="dense"&&r.marginDense,{filled:r.filled,outlined:r.outlined}[f.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:t},u))}),ew=ye(Lle,{name:"MuiInputLabel"})(Dle);var Pu=R(we()),$6e=R(Ae()),yy=R(Be());var _A=4,Nle=function(e){var t=function(s){return e.palette.type==="light"?oa(s,.62):ia(s,.5)},r=t(e.palette.primary.main),i=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:r},colorSecondary:{backgroundColor:i},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(_A,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(_A,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(_A,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}},Ile=Pu.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.color,s=o===void 0?"primary":o,a=e.value,l=e.valueBuffer,c=e.variant,u=c===void 0?"indeterminate":c,d=ie(e,["classes","className","color","value","valueBuffer","variant"]),p=Pt(),f={},g={bar1:{},bar2:{}};if((u==="determinate"||u==="buffer")&&a!==void 0){f["aria-valuenow"]=Math.round(a),f["aria-valuemin"]=0,f["aria-valuemax"]=100;var y=a-100;p.direction==="rtl"&&(y=-y),g.bar1.transform="translateX(".concat(y,"%)")}if(u==="buffer"&&l!==void 0){var v=(l||0)-100;p.direction==="rtl"&&(v=-v),g.bar2.transform="translateX(".concat(v,"%)")}return Pu.createElement("div",B({className:(0,yy.default)(r.root,r["color".concat(Fe(s))],i,{determinate:r.determinate,indeterminate:r.indeterminate,buffer:r.buffer,query:r.query}[u]),role:"progressbar"},f,{ref:t},d),u==="buffer"?Pu.createElement("div",{className:(0,yy.default)(r.dashed,r["dashedColor".concat(Fe(s))])}):null,Pu.createElement("div",{className:(0,yy.default)(r.bar,r["barColor".concat(Fe(s))],(u==="indeterminate"||u==="query")&&r.bar1Indeterminate,{determinate:r.bar1Determinate,buffer:r.bar1Buffer}[u]),style:g.bar1}),u==="determinate"?null:Pu.createElement("div",{className:(0,yy.default)(r.bar,(u==="indeterminate"||u==="query")&&r.bar2Indeterminate,u==="buffer"?[r["color".concat(Fe(s))],r.bar2Buffer]:r["barColor".concat(Fe(s))]),style:g.bar2}))}),tw=ye(Nle,{name:"MuiLinearProgress"})(Ile);var $p=R(we()),i8e=R(Ae()),S5=R(Be());var l8e=R(st());var Ole={root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},Fle=$p.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.color,s=o===void 0?"primary":o,a=e.component,l=a===void 0?"a":a,c=e.onBlur,u=e.onFocus,d=e.TypographyClasses,p=e.underline,f=p===void 0?"hover":p,g=e.variant,y=g===void 0?"inherit":g,v=ie(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),m=Ms(),h=m.isFocusVisible,b=m.onBlurVisible,x=m.ref,_=$p.useState(!1),S=_[0],M=_[1],E=pt(t,x),L=function(A){S&&(b(),M(!1)),c&&c(A)},I=function(A){h(A)&&M(!0),u&&u(A)};return $p.createElement(Xt,B({className:(0,S5.default)(r.root,r["underline".concat(Fe(f))],i,S&&r.focusVisible,l==="button"&&r.button),classes:d,color:s,component:l,onBlur:L,onFocus:I,ref:E,variant:y},v))}),M5=ye(Ole,{name:"MuiLink"})(Fle);var Ru=R(we()),x8e=R(Ae()),P5=R(Be());var E5=R(we()),kle=E5.createContext({}),Co=kle;var Ble={root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},zle=Ru.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.component,a=s===void 0?"ul":s,l=e.dense,c=l===void 0?!1:l,u=e.disablePadding,d=u===void 0?!1:u,p=e.subheader,f=ie(e,["children","classes","className","component","dense","disablePadding","subheader"]),g=Ru.useMemo(function(){return{dense:c}},[c]);return Ru.createElement(Co.Provider,{value:g},Ru.createElement(a,B({className:(0,P5.default)(i.root,o,c&&i.dense,!d&&i.padding,p&&i.subheader),ref:t},f),p,r))}),nw=ye(Ble,{name:"MuiList"})(zle);var lr=R(we()),R8e=R(Ae()),rw=R(Be()),A8e=R(st());var R5=R(fr()),Ule=function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}},Vle=typeof window=="undefined"?lr.useEffect:lr.useLayoutEffect,Hle=lr.forwardRef(function(e,t){var r=e.alignItems,i=r===void 0?"center":r,o=e.autoFocus,s=o===void 0?!1:o,a=e.button,l=a===void 0?!1:a,c=e.children,u=e.classes,d=e.className,p=e.component,f=e.ContainerComponent,g=f===void 0?"li":f,y=e.ContainerProps;y=y===void 0?{}:y;var v=y.className,m=ie(y,["className"]),h=e.dense,b=h===void 0?!1:h,x=e.disabled,_=x===void 0?!1:x,S=e.disableGutters,M=S===void 0?!1:S,E=e.divider,L=E===void 0?!1:E,I=e.focusVisibleClassName,T=e.selected,A=T===void 0?!1:T,k=ie(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),U=lr.useContext(Co),F={dense:b||U.dense||!1,alignItems:i},N=lr.useRef(null);Vle(function(){s&&N.current&&N.current.focus()},[s]);var j=lr.Children.toArray(c),Y=j.length&&Mo(j[j.length-1],["ListItemSecondaryAction"]),pe=lr.useCallback(function(oe){N.current=R5.findDOMNode(oe)},[]),$=pt(pe,t),W=B({className:(0,rw.default)(u.root,d,F.dense&&u.dense,!M&&u.gutters,L&&u.divider,_&&u.disabled,l&&u.button,i!=="center"&&u.alignItemsFlexStart,Y&&u.secondaryAction,A&&u.selected),disabled:_},k),J=p||"li";return l&&(W.component=p||"div",W.focusVisibleClassName=(0,rw.default)(u.focusVisible,I),J=kt),Y?(J=!W.component&&!p?"div":J,g==="li"&&(J==="li"?J="div":W.component==="li"&&(W.component="div")),lr.createElement(Co.Provider,{value:F},lr.createElement(g,B({className:(0,rw.default)(u.container,v),ref:$},m),lr.createElement(J,W,j),j.pop()))):lr.createElement(Co.Provider,{value:F},lr.createElement(J,B({ref:$},W),j))}),iw=ye(Ule,{name:"MuiListItem"})(Hle);var Xp=R(we()),H8e=R(Ae()),C5=R(Be());var Wle={root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},Gle=Xp.forwardRef(function(e,t){var r=e.classes,i=e.className,o=ie(e,["classes","className"]),s=Xp.useContext(Co);return Xp.createElement("div",B({className:(0,C5.default)(r.root,i,s.alignItems==="flex-start"&&r.alignItemsFlexStart),ref:t},o))}),A5=ye(Wle,{name:"MuiListItemAvatar"})(Gle);var Yp=R(we()),Z8e=R(Ae()),L5=R(Be());var jle=function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}},qle=Yp.forwardRef(function(e,t){var r=e.classes,i=e.className,o=ie(e,["classes","className"]),s=Yp.useContext(Co);return Yp.createElement("div",B({className:(0,L5.default)(r.root,i,s.alignItems==="flex-start"&&r.alignItemsFlexStart),ref:t},o))}),D5=ye(jle,{name:"MuiListItemIcon"})(qle);var ow=R(we()),sje=R(Ae()),N5=R(Be());var $le={root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},I5=ow.forwardRef(function(e,t){var r=e.classes,i=e.className,o=ie(e,["classes","className"]);return ow.createElement("div",B({className:(0,N5.default)(r.root,i),ref:t},o))});I5.muiName="ListItemSecondaryAction";var O5=ye($le,{name:"MuiListItemSecondaryAction"})(I5);var Wl=R(we()),hje=R(Ae()),F5=R(Be());var Xle={root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},Yle=Wl.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.disableTypography,a=s===void 0?!1:s,l=e.inset,c=l===void 0?!1:l,u=e.primary,d=e.primaryTypographyProps,p=e.secondary,f=e.secondaryTypographyProps,g=ie(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),y=Wl.useContext(Co),v=y.dense,m=u??r;m!=null&&m.type!==Xt&&!a&&(m=Wl.createElement(Xt,B({variant:v?"body2":"body1",className:i.primary,component:"span",display:"block"},d),m));var h=p;return h!=null&&h.type!==Xt&&!a&&(h=Wl.createElement(Xt,B({variant:"body2",className:i.secondary,color:"textSecondary",display:"block"},f),h)),Wl.createElement("div",B({className:(0,F5.default)(i.root,o,v&&i.dense,c&&i.inset,m&&h&&i.multiline),ref:t},g),m,h)}),k5=ye(Xle,{name:"MuiListItemText"})(Yle);var sw=R(we()),Sje=R(Ae()),B5=R(Be());var Jle=function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}},Zle=sw.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.color,s=o===void 0?"default":o,a=e.component,l=a===void 0?"li":a,c=e.disableGutters,u=c===void 0?!1:c,d=e.disableSticky,p=d===void 0?!1:d,f=e.inset,g=f===void 0?!1:f,y=ie(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return sw.createElement(l,B({className:(0,B5.default)(r.root,i,s!=="default"&&r["color".concat(Fe(s))],g&&r.inset,!p&&r.sticky,!u&&r.gutters),ref:t},y))}),z5=ye(Jle,{name:"MuiListSubheader"})(Zle);var Si=R(we()),pqe=R($i()),hqe=R(Ae()),$5=R(Be()),gqe=R(st());var Xn=R(we()),Nje=R(Ae()),U5=R(fr()),Oje=R(st());var wA=R(Be());function V5(n,e){var t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function H5(n,e){var t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function W5(n){return[n.horizontal,n.vertical].map(function(e){return typeof e=="number"?"".concat(e,"px"):e}).join(" ")}function Kle(n,e){for(var t=e,r=0;t&&t!==n;)t=t.parentElement,r+=t.scrollTop;return r}function TA(n){return typeof n=="function"?n():n}var Qle={root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},ece=Xn.forwardRef(function(e,t){var r=e.action,i=e.anchorEl,o=e.anchorOrigin,s=o===void 0?{vertical:"top",horizontal:"left"}:o,a=e.anchorPosition,l=e.anchorReference,c=l===void 0?"anchorEl":l,u=e.children,d=e.classes,p=e.className,f=e.container,g=e.elevation,y=g===void 0?8:g,v=e.getContentAnchorEl,m=e.marginThreshold,h=m===void 0?16:m,b=e.onEnter,x=e.onEntered,_=e.onEntering,S=e.onExit,M=e.onExited,E=e.onExiting,L=e.open,I=e.PaperProps,T=I===void 0?{}:I,A=e.transformOrigin,k=A===void 0?{vertical:"top",horizontal:"left"}:A,U=e.TransitionComponent,F=U===void 0?Ul:U,N=e.transitionDuration,j=N===void 0?"auto":N,Y=e.TransitionProps,pe=Y===void 0?{}:Y,$=ie(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),W=Xn.useRef(),J=Xn.useCallback(function(_e){if(c==="anchorPosition")return a;var q=TA(i),ce=q&&q.nodeType===1?q:$t(W.current).body,se=ce.getBoundingClientRect();if(!1)var Se;var be=_e===0?s.vertical:"center";return{top:se.top+V5(se,be),left:se.left+H5(se,s.horizontal)}},[i,s.horizontal,s.vertical,a,c]),oe=Xn.useCallback(function(_e){var q=0;if(v&&c==="anchorEl"){var ce=v(_e);if(ce&&_e.contains(ce)){var se=Kle(_e,ce);q=ce.offsetTop+ce.clientHeight/2-se||0}}return q},[s.vertical,c,v]),re=Xn.useCallback(function(_e){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{vertical:V5(_e,k.vertical)+q,horizontal:H5(_e,k.horizontal)}},[k.horizontal,k.vertical]),D=Xn.useCallback(function(_e){var q=oe(_e),ce={width:_e.offsetWidth,height:_e.offsetHeight},se=re(ce,q);if(c==="none")return{top:null,left:null,transformOrigin:W5(se)};var Se=J(q),be=Se.top-se.vertical,Ce=Se.left-se.horizontal,Le=be+ce.height,Ne=Ce+ce.width,Ge=Rl(TA(i)),Ue=Ge.innerHeight-h,C=Ge.innerWidth-h;if(be<h){var w=be-h;be-=w,se.vertical+=w}else if(Le>Ue){var H=Le-Ue;be-=H,se.vertical+=H}if(Ce<h){var ee=Ce-h;Ce-=ee,se.horizontal+=ee}else if(Ne>C){var ue=Ne-C;Ce-=ue,se.horizontal+=ue}return{top:"".concat(Math.round(be),"px"),left:"".concat(Math.round(Ce),"px"),transformOrigin:W5(se)}},[i,c,J,oe,re,h]),Te=Xn.useCallback(function(){var _e=W.current;if(!!_e){var q=D(_e);q.top!==null&&(_e.style.top=q.top),q.left!==null&&(_e.style.left=q.left),_e.style.transformOrigin=q.transformOrigin}},[D]),de=function(q,ce){_&&_(q,ce),Te()},Me=Xn.useCallback(function(_e){W.current=U5.findDOMNode(_e)},[]);Xn.useEffect(function(){L&&Te()}),Xn.useImperativeHandle(r,function(){return L?{updatePosition:function(){Te()}}:null},[L,Te]),Xn.useEffect(function(){if(!!L){var _e=Ti(function(){Te()});return window.addEventListener("resize",_e),function(){_e.clear(),window.removeEventListener("resize",_e)}}},[L,Te]);var me=j;j==="auto"&&!F.muiSupportAuto&&(me=void 0);var Pe=f||(i?$t(TA(i)).body:void 0);return Xn.createElement(kl,B({container:Pe,open:L,ref:t,BackdropProps:{invisible:!0},className:(0,wA.default)(d.root,p)},$),Xn.createElement(F,B({appear:!0,in:L,onEnter:b,onEntered:x,onExit:S,onExited:M,onExiting:E,timeout:me},pe,{onEntering:wi(de,pe.onEntering)}),Xn.createElement(zn,B({elevation:y,ref:Me},T,{className:(0,wA.default)(d.paper,T.className)}),u)))}),aw=ye(Qle,{name:"MuiPopover"})(ece);var Vn=R(we()),Qje=R($i()),tqe=R(Ae()),G5=R(fr());function SA(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function j5(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function q5(n,e){if(e===void 0)return!0;var t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.indexOf(e.keys.join(""))===0}function vy(n,e,t,r,i,o){for(var s=!1,a=i(n,e,e?t:!1);a;){if(a===n.firstChild){if(s)return;s=!0}var l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!q5(a,o)||l)a=i(n,a,t);else{a.focus();return}}}var tce=typeof window=="undefined"?Vn.useEffect:Vn.useLayoutEffect,nce=Vn.forwardRef(function(e,t){var r=e.actions,i=e.autoFocus,o=i===void 0?!1:i,s=e.autoFocusItem,a=s===void 0?!1:s,l=e.children,c=e.className,u=e.disabledItemsFocusable,d=u===void 0?!1:u,p=e.disableListWrap,f=p===void 0?!1:p,g=e.onKeyDown,y=e.variant,v=y===void 0?"selectedMenu":y,m=ie(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),h=Vn.useRef(null),b=Vn.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});tce(function(){o&&h.current.focus()},[o]),Vn.useImperativeHandle(r,function(){return{adjustStyleForScrollbar:function(I,T){var A=!h.current.style.width;if(I.clientHeight<h.current.clientHeight&&A){var k="".concat(ly(!0),"px");h.current.style[T.direction==="rtl"?"paddingLeft":"paddingRight"]=k,h.current.style.width="calc(100% + ".concat(k,")")}return h.current}}},[]);var x=function(I){var T=h.current,A=I.key,k=$t(T).activeElement;if(A==="ArrowDown")I.preventDefault(),vy(T,k,f,d,SA);else if(A==="ArrowUp")I.preventDefault(),vy(T,k,f,d,j5);else if(A==="Home")I.preventDefault(),vy(T,null,f,d,SA);else if(A==="End")I.preventDefault(),vy(T,null,f,d,j5);else if(A.length===1){var U=b.current,F=A.toLowerCase(),N=performance.now();U.keys.length>0&&(N-U.lastTime>500?(U.keys=[],U.repeating=!0,U.previousKeyMatched=!0):U.repeating&&F!==U.keys[0]&&(U.repeating=!1)),U.lastTime=N,U.keys.push(F);var j=k&&!U.repeating&&q5(k,U);U.previousKeyMatched&&(j||vy(T,k,!1,d,SA,U))?I.preventDefault():U.previousKeyMatched=!1}g&&g(I)},_=Vn.useCallback(function(L){h.current=G5.findDOMNode(L)},[]),S=pt(_,t),M=-1;Vn.Children.forEach(l,function(L,I){!Vn.isValidElement(L)||L.props.disabled||(v==="selectedMenu"&&L.props.selected||M===-1)&&(M=I)});var E=Vn.Children.map(l,function(L,I){if(I===M){var T={};return a&&(T.autoFocus=!0),L.props.tabIndex===void 0&&v==="selectedMenu"&&(T.tabIndex=0),Vn.cloneElement(L,T)}return L});return Vn.createElement(nw,B({role:"menu",ref:S,className:c,onKeyDown:x,tabIndex:o?0:-1},m),E)}),lw=nce;var X5=R(fr());var Y5={vertical:"top",horizontal:"right"},J5={vertical:"top",horizontal:"left"},rce={paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},ice=Si.forwardRef(function(e,t){var r=e.autoFocus,i=r===void 0?!0:r,o=e.children,s=e.classes,a=e.disableAutoFocusItem,l=a===void 0?!1:a,c=e.MenuListProps,u=c===void 0?{}:c,d=e.onClose,p=e.onEntering,f=e.open,g=e.PaperProps,y=g===void 0?{}:g,v=e.PopoverClasses,m=e.transitionDuration,h=m===void 0?"auto":m,b=e.variant,x=b===void 0?"selectedMenu":b,_=ie(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),S=Pt(),M=i&&!l&&f,E=Si.useRef(null),L=Si.useRef(null),I=function(){return L.current},T=function(N,j){E.current&&E.current.adjustStyleForScrollbar(N,S),p&&p(N,j)},A=function(N){N.key==="Tab"&&(N.preventDefault(),d&&d(N,"tabKeyDown"))},k=-1;Si.Children.map(o,function(F,N){!Si.isValidElement(F)||F.props.disabled||(x!=="menu"&&F.props.selected||k===-1)&&(k=N)});var U=Si.Children.map(o,function(F,N){return N===k?Si.cloneElement(F,{ref:function(Y){L.current=X5.findDOMNode(Y),hr(F.ref,Y)}}):F});return Si.createElement(aw,B({getContentAnchorEl:I,classes:v,onClose:d,onEntering:T,anchorOrigin:S.direction==="rtl"?Y5:J5,transformOrigin:S.direction==="rtl"?Y5:J5,PaperProps:B({},y,{classes:B({},y.classes,{root:s.paper})}),open:f,ref:t,transitionDuration:h},_),Si.createElement(lw,B({onKeyDown:A,actions:E,autoFocus:i&&(k===-1||l),autoFocusItem:M,variant:x},u,{className:(0,$5.default)(s.list,u.className)}),U))}),Jp=ye(rce,{name:"MuiMenu"})(ice);var cw=R(we()),Cqe=R(Ae()),Z5=R(Be());var oce=function(e){return{root:B({},e.typography.body1,ft({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:B({},e.typography.body2,{minHeight:"auto"})}},sce=cw.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?"li":o,a=e.disableGutters,l=a===void 0?!1:a,c=e.ListItemClasses,u=e.role,d=u===void 0?"menuitem":u,p=e.selected,f=e.tabIndex,g=ie(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]),y;return e.disabled||(y=f!==void 0?f:-1),cw.createElement(iw,B({button:!0,role:d,tabIndex:y,component:s,selected:p,disableGutters:l,classes:B({dense:r.dense},c),className:(0,Z5.default)(r.root,i,p&&r.selected,!l&&r.gutters),ref:t},g))}),Zp=ye(oce,{name:"MuiMenuItem"})(sce);var Is=R(we()),zqe=R(Ae()),MA=R(Be());var ace=function(e){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:e.palette.background.default,padding:8},positionBottom:{position:"fixed",bottom:0,left:0,right:0,zIndex:e.zIndex.mobileStepper},positionTop:{position:"fixed",top:0,left:0,right:0,zIndex:e.zIndex.mobileStepper},positionStatic:{},dots:{display:"flex",flexDirection:"row"},dot:{backgroundColor:e.palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"},dotActive:{backgroundColor:e.palette.primary.main},progress:{width:"50%"}}},lce=Is.forwardRef(function(e,t){var r=e.activeStep,i=r===void 0?0:r,o=e.backButton,s=e.classes,a=e.className,l=e.LinearProgressProps,c=e.nextButton,u=e.position,d=u===void 0?"bottom":u,p=e.steps,f=e.variant,g=f===void 0?"dots":f,y=ie(e,["activeStep","backButton","classes","className","LinearProgressProps","nextButton","position","steps","variant"]);return Is.createElement(zn,B({square:!0,elevation:0,className:(0,MA.default)(s.root,s["position".concat(Fe(d))],a),ref:t},y),o,g==="text"&&Is.createElement(Is.Fragment,null,i+1," / ",p),g==="dots"&&Is.createElement("div",{className:s.dots},zr(new Array(p)).map(function(v,m){return Is.createElement("div",{key:m,className:(0,MA.default)(s.dot,m===i&&s.dotActive)})})),g==="progress"&&Is.createElement(tw,B({className:s.progress,variant:"determinate",value:Math.ceil(i/(p-1)*100)},l)),c)}),K5=ye(ace,{name:"MuiMobileStepper"})(lce);var Kp=R(we()),s9e=R(Ae());var Gl=R(we()),Jqe=R(Ae()),EA=R(Be()),Kqe=R(st());var cce=Gl.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.disabled,s=e.IconComponent,a=e.inputRef,l=e.variant,c=l===void 0?"standard":l,u=ie(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return Gl.createElement(Gl.Fragment,null,Gl.createElement("select",B({className:(0,EA.default)(r.root,r.select,r[c],i,o&&r.disabled),disabled:o,ref:a||t},u)),e.multiple?null:Gl.createElement(s,{className:(0,EA.default)(r.icon,r["icon".concat(Fe(c))],o&&r.disabled)}))}),uw=cce;var Q5=R(we());var dw=Ht(Q5.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var PA=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:e.palette.type==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},uce=Kp.createElement(Hl,null),eW=Kp.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.IconComponent,s=o===void 0?dw:o,a=e.input,l=a===void 0?uce:a,c=e.inputProps,u=e.variant,d=ie(e,["children","classes","IconComponent","input","inputProps","variant"]),p=ii(),f=no({props:e,muiFormControl:p,states:["variant"]});return Kp.cloneElement(l,B({inputComponent:uw,inputProps:B({children:r,classes:i,IconComponent:s,variant:f.variant,type:void 0},c,l?l.props.inputProps:{}),ref:t},d))});eW.muiName="Select";var tW=ye(PA,{name:"MuiNativeSelect"})(eW);var Jo=R(we()),y9e=R(Ae()),x9e=R(st()),dce=typeof window!="undefined"?Jo.useLayoutEffect:Jo.useEffect;function pce(n){var e=n.children,t=n.defer,r=t===void 0?!1:t,i=n.fallback,o=i===void 0?null:i,s=Jo.useState(!1),a=s[0],l=s[1];return dce(function(){r||l(!0)},[r]),Jo.useEffect(function(){r&&l(!0)},[r]),Jo.createElement(Jo.Fragment,null,a?e:o)}var pw=pce;var xy=R(we()),O9e=R(Ae()),rW=R(Be()),k9e=R(st());var Os=R(we()),P9e=R(Ae()),fw=R(Be());var fce=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}},hce=Os.forwardRef(function(e,t){var r=e.children,i=e.classes,o=e.className,s=e.label,a=e.labelWidth,l=e.notched,c=e.style,u=ie(e,["children","classes","className","label","labelWidth","notched","style"]),d=Pt(),p=d.direction==="rtl"?"right":"left";if(s!==void 0)return Os.createElement("fieldset",B({"aria-hidden":!0,className:(0,fw.default)(i.root,o),ref:t,style:c},u),Os.createElement("legend",{className:(0,fw.default)(i.legendLabelled,l&&i.legendNotched)},s?Os.createElement("span",null,s):Os.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var f=a>0?a*.75+8:.01;return Os.createElement("fieldset",B({"aria-hidden":!0,style:B(ft({},"padding".concat(Fe(p)),8),c),className:(0,fw.default)(i.root,o),ref:t},u),Os.createElement("legend",{className:i.legend,style:{width:l?f:.01}},Os.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}),nW=ye(fce,{name:"PrivateNotchedOutline"})(hce);var mce=function(e){var t=e.palette.type==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:e.palette.type==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.type==="light"?null:"#fff",caretColor:e.palette.type==="light"?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}},iW=xy.forwardRef(function(e,t){var r=e.classes,i=e.fullWidth,o=i===void 0?!1:i,s=e.inputComponent,a=s===void 0?"input":s,l=e.label,c=e.labelWidth,u=c===void 0?0:c,d=e.multiline,p=d===void 0?!1:d,f=e.notched,g=e.type,y=g===void 0?"text":g,v=ie(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return xy.createElement(Ds,B({renderSuffix:function(h){return xy.createElement(nW,{className:r.notchedOutline,label:l,labelWidth:u,notched:typeof f!="undefined"?f:Boolean(h.startAdornment||h.filled||h.focused)})},classes:B({},r,{root:(0,rW.default)(r.root,r.underline),notchedOutline:null}),fullWidth:o,inputComponent:a,multiline:p,ref:t,type:y},v))});iW.muiName="Input";var Qp=ye(mce,{name:"MuiOutlinedInput"})(iW);var hn=R(we()),X9e=R(Ae());var by=typeof window!="undefined"&&typeof document!="undefined"&&typeof navigator!="undefined",gce=function(){for(var n=["Edge","Trident","Firefox"],e=0;e<n.length;e+=1)if(by&&navigator.userAgent.indexOf(n[e])>=0)return 1;return 0}();function yce(n){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,n()}))}}function vce(n){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,n()},gce))}}var xce=by&&window.Promise,bce=xce?yce:vce;function oW(n){var e={};return n&&e.toString.call(n)==="[object Function]"}function Cu(n,e){if(n.nodeType!==1)return[];var t=n.ownerDocument.defaultView,r=t.getComputedStyle(n,null);return e?r[e]:r}function RA(n){return n.nodeName==="HTML"?n:n.parentNode||n.host}function _y(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}var e=Cu(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/(auto|scroll|overlay)/.test(t+i+r)?n:_y(RA(n))}function sW(n){return n&&n.referenceNode?n.referenceNode:n}var aW=by&&!!(window.MSInputMethodContext&&document.documentMode),lW=by&&/MSIE 10/.test(navigator.userAgent);function ef(n){return n===11?aW:n===10?lW:aW||lW}function tf(n){if(!n)return document.documentElement;for(var e=ef(10)?document.body:null,t=n.offsetParent||null;t===e&&n.nextElementSibling;)t=(n=n.nextElementSibling).offsetParent;var r=t&&t.nodeName;return!r||r==="BODY"||r==="HTML"?n?n.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(t.nodeName)!==-1&&Cu(t,"position")==="static"?tf(t):t}function _ce(n){var e=n.nodeName;return e==="BODY"?!1:e==="HTML"||tf(n.firstElementChild)===n}function CA(n){return n.parentNode!==null?CA(n.parentNode):n}function hw(n,e){if(!n||!n.nodeType||!e||!e.nodeType)return document.documentElement;var t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var s=o.commonAncestorContainer;if(n!==s&&e!==s||r.contains(i))return _ce(s)?s:tf(s);var a=CA(n);return a.host?hw(a.host,e):hw(n,CA(e).host)}function nf(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",t=e==="top"?"scrollTop":"scrollLeft",r=n.nodeName;if(r==="BODY"||r==="HTML"){var i=n.ownerDocument.documentElement,o=n.ownerDocument.scrollingElement||i;return o[t]}return n[t]}function wce(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=nf(e,"top"),i=nf(e,"left"),o=t?-1:1;return n.top+=r*o,n.bottom+=r*o,n.left+=i*o,n.right+=i*o,n}function cW(n,e){var t=e==="x"?"Left":"Top",r=t==="Left"?"Right":"Bottom";return parseFloat(n["border"+t+"Width"])+parseFloat(n["border"+r+"Width"])}function uW(n,e,t,r){return Math.max(e["offset"+n],e["scroll"+n],t["client"+n],t["offset"+n],t["scroll"+n],ef(10)?parseInt(t["offset"+n])+parseInt(r["margin"+(n==="Height"?"Top":"Left")])+parseInt(r["margin"+(n==="Height"?"Bottom":"Right")]):0)}function dW(n){var e=n.body,t=n.documentElement,r=ef(10)&&getComputedStyle(t);return{height:uW("Height",e,t,r),width:uW("Width",e,t,r)}}var Tce=function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")},Sce=function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),rf=function(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n},Ao=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function jl(n){return Ao({},n,{right:n.left+n.width,bottom:n.top+n.height})}function AA(n){var e={};try{if(ef(10)){e=n.getBoundingClientRect();var t=nf(n,"top"),r=nf(n,"left");e.top+=t,e.left+=r,e.bottom+=t,e.right+=r}else e=n.getBoundingClientRect()}catch(d){}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o=n.nodeName==="HTML"?dW(n.ownerDocument):{},s=o.width||n.clientWidth||i.width,a=o.height||n.clientHeight||i.height,l=n.offsetWidth-s,c=n.offsetHeight-a;if(l||c){var u=Cu(n);l-=cW(u,"x"),c-=cW(u,"y"),i.width-=l,i.height-=c}return jl(i)}function LA(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=ef(10),i=e.nodeName==="HTML",o=AA(n),s=AA(e),a=_y(n),l=Cu(e),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);t&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=jl({top:o.top-s.top-c,left:o.left-s.left-u,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var p=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);d.top-=c-p,d.bottom-=c-p,d.left-=u-f,d.right-=u-f,d.marginTop=p,d.marginLeft=f}return(r&&!t?e.contains(a):e===a&&a.nodeName!=="BODY")&&(d=wce(d,e)),d}function Mce(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=n.ownerDocument.documentElement,r=LA(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),o=Math.max(t.clientHeight,window.innerHeight||0),s=e?0:nf(t),a=e?0:nf(t,"left"),l={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:i,height:o};return jl(l)}function pW(n){var e=n.nodeName;if(e==="BODY"||e==="HTML")return!1;if(Cu(n,"position")==="fixed")return!0;var t=RA(n);return t?pW(t):!1}function fW(n){if(!n||!n.parentElement||ef())return document.documentElement;for(var e=n.parentElement;e&&Cu(e,"transform")==="none";)e=e.parentElement;return e||document.documentElement}function DA(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o={top:0,left:0},s=i?fW(n):hw(n,sW(e));if(r==="viewport")o=Mce(s,i);else{var a=void 0;r==="scrollParent"?(a=_y(RA(e)),a.nodeName==="BODY"&&(a=n.ownerDocument.documentElement)):r==="window"?a=n.ownerDocument.documentElement:a=r;var l=LA(a,s,i);if(a.nodeName==="HTML"&&!pW(s)){var c=dW(n.ownerDocument),u=c.height,d=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}else o=l}t=t||0;var p=typeof t=="number";return o.left+=p?t:t.left||0,o.top+=p?t:t.top||0,o.right-=p?t:t.right||0,o.bottom-=p?t:t.bottom||0,o}function Ece(n){var e=n.width,t=n.height;return e*t}function hW(n,e,t,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(n.indexOf("auto")===-1)return n;var s=DA(t,r,o,i),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(p){return Ao({key:p},a[p],{area:Ece(a[p])})}).sort(function(p,f){return f.area-p.area}),c=l.filter(function(p){var f=p.width,g=p.height;return f>=t.clientWidth&&g>=t.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=n.split("-")[1];return u+(d?"-"+d:"")}function mW(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=r?fW(e):hw(e,sW(t));return LA(t,i,r)}function gW(n){var e=n.ownerDocument.defaultView,t=e.getComputedStyle(n),r=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0),o={width:n.offsetWidth+i,height:n.offsetHeight+r};return o}function mw(n){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,function(t){return e[t]})}function yW(n,e,t){t=t.split("-")[0];var r=gW(n),i={width:r.width,height:r.height},o=["right","left"].indexOf(t)!==-1,s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[s]=e[s]+e[l]/2-r[l]/2,t===a?i[a]=e[a]-r[c]:i[a]=e[mw(a)],i}function wy(n,e){return Array.prototype.find?n.find(e):n.filter(e)[0]}function Pce(n,e,t){if(Array.prototype.findIndex)return n.findIndex(function(i){return i[e]===t});var r=wy(n,function(i){return i[e]===t});return n.indexOf(r)}function vW(n,e,t){var r=t===void 0?n:n.slice(0,Pce(n,"name",t));return r.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=i.function||i.fn;i.enabled&&oW(o)&&(e.offsets.popper=jl(e.offsets.popper),e.offsets.reference=jl(e.offsets.reference),e=o(e,i))}),e}function Rce(){if(!this.state.isDestroyed){var n={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};n.offsets.reference=mW(this.state,this.popper,this.reference,this.options.positionFixed),n.placement=hW(this.options.placement,n.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),n.originalPlacement=n.placement,n.positionFixed=this.options.positionFixed,n.offsets.popper=yW(this.popper,n.offsets.reference,n.placement),n.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",n=vW(this.modifiers,n),this.state.isCreated?this.options.onUpdate(n):(this.state.isCreated=!0,this.options.onCreate(n))}}function xW(n,e){return n.some(function(t){var r=t.name,i=t.enabled;return i&&r===e})}function NA(n){for(var e=[!1,"ms","Webkit","Moz","O"],t=n.charAt(0).toUpperCase()+n.slice(1),r=0;r<e.length;r++){var i=e[r],o=i?""+i+t:n;if(typeof document.body.style[o]!="undefined")return o}return null}function Cce(){return this.state.isDestroyed=!0,xW(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[NA("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function bW(n){var e=n.ownerDocument;return e?e.defaultView:window}function _W(n,e,t,r){var i=n.nodeName==="BODY",o=i?n.ownerDocument.defaultView:n;o.addEventListener(e,t,{passive:!0}),i||_W(_y(o.parentNode),e,t,r),r.push(o)}function Ace(n,e,t,r){t.updateBound=r,bW(n).addEventListener("resize",t.updateBound,{passive:!0});var i=_y(n);return _W(i,"scroll",t.updateBound,t.scrollParents),t.scrollElement=i,t.eventsEnabled=!0,t}function Lce(){this.state.eventsEnabled||(this.state=Ace(this.reference,this.options,this.state,this.scheduleUpdate))}function Dce(n,e){return bW(n).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function Nce(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Dce(this.reference,this.state))}function IA(n){return n!==""&&!isNaN(parseFloat(n))&&isFinite(n)}function OA(n,e){Object.keys(e).forEach(function(t){var r="";["width","height","top","right","bottom","left"].indexOf(t)!==-1&&IA(e[t])&&(r="px"),n.style[t]=e[t]+r})}function Ice(n,e){Object.keys(e).forEach(function(t){var r=e[t];r!==!1?n.setAttribute(t,e[t]):n.removeAttribute(t)})}function Oce(n){return OA(n.instance.popper,n.styles),Ice(n.instance.popper,n.attributes),n.arrowElement&&Object.keys(n.arrowStyles).length&&OA(n.arrowElement,n.arrowStyles),n}function Fce(n,e,t,r,i){var o=mW(i,e,n,t.positionFixed),s=hW(t.placement,o,e,n,t.modifiers.flip.boundariesElement,t.modifiers.flip.padding);return e.setAttribute("x-placement",s),OA(e,{position:t.positionFixed?"fixed":"absolute"}),t}function kce(n,e){var t=n.offsets,r=t.popper,i=t.reference,o=Math.round,s=Math.floor,a=function(m){return m},l=o(i.width),c=o(r.width),u=["left","right"].indexOf(n.placement)!==-1,d=n.placement.indexOf("-")!==-1,p=l%2==c%2,f=l%2==1&&c%2==1,g=e?u||d||p?o:s:a,y=e?o:a;return{left:g(f&&!d&&e?r.left-1:r.left),top:y(r.top),bottom:y(r.bottom),right:g(r.right)}}var Bce=by&&/Firefox/i.test(navigator.userAgent);function zce(n,e){var t=e.x,r=e.y,i=n.offsets.popper,o=wy(n.instance.modifiers,function(b){return b.name==="applyStyle"}).gpuAcceleration;o!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=o!==void 0?o:e.gpuAcceleration,a=tf(n.instance.popper),l=AA(a),c={position:i.position},u=kce(n,window.devicePixelRatio<2||!Bce),d=t==="bottom"?"top":"bottom",p=r==="right"?"left":"right",f=NA("transform"),g=void 0,y=void 0;if(d==="bottom"?a.nodeName==="HTML"?y=-a.clientHeight+u.bottom:y=-l.height+u.bottom:y=u.top,p==="right"?a.nodeName==="HTML"?g=-a.clientWidth+u.right:g=-l.width+u.right:g=u.left,s&&f)c[f]="translate3d("+g+"px, "+y+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var v=d==="bottom"?-1:1,m=p==="right"?-1:1;c[d]=y*v,c[p]=g*m,c.willChange=d+", "+p}var h={"x-placement":n.placement};return n.attributes=Ao({},h,n.attributes),n.styles=Ao({},c,n.styles),n.arrowStyles=Ao({},n.offsets.arrow,n.arrowStyles),n}function wW(n,e,t){var r=wy(n,function(a){var l=a.name;return l===e}),i=!!r&&n.some(function(a){return a.name===t&&a.enabled&&a.order<r.order});if(!i){var o="`"+e+"`",s="`"+t+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}function Uce(n,e){var t;if(!wW(n.instance.modifiers,"arrow","keepTogether"))return n;var r=e.element;if(typeof r=="string"){if(r=n.instance.popper.querySelector(r),!r)return n}else if(!n.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),n;var i=n.placement.split("-")[0],o=n.offsets,s=o.popper,a=o.reference,l=["left","right"].indexOf(i)!==-1,c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),p=l?"left":"top",f=l?"bottom":"right",g=gW(r)[c];a[f]-g<s[d]&&(n.offsets.popper[d]-=s[d]-(a[f]-g)),a[d]+g>s[f]&&(n.offsets.popper[d]+=a[d]+g-s[f]),n.offsets.popper=jl(n.offsets.popper);var y=a[d]+a[c]/2-g/2,v=Cu(n.instance.popper),m=parseFloat(v["margin"+u]),h=parseFloat(v["border"+u+"Width"]),b=y-n.offsets.popper[d]-m-h;return b=Math.max(Math.min(s[c]-g,b),0),n.arrowElement=r,n.offsets.arrow=(t={},rf(t,d,Math.round(b)),rf(t,p,""),t),n}function Vce(n){return n==="end"?"start":n==="start"?"end":n}var TW=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],FA=TW.slice(3);function SW(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=FA.indexOf(n),r=FA.slice(t+1).concat(FA.slice(0,t));return e?r.reverse():r}var kA={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Hce(n,e){if(xW(n.instance.modifiers,"inner")||n.flipped&&n.placement===n.originalPlacement)return n;var t=DA(n.instance.popper,n.instance.reference,e.padding,e.boundariesElement,n.positionFixed),r=n.placement.split("-")[0],i=mw(r),o=n.placement.split("-")[1]||"",s=[];switch(e.behavior){case kA.FLIP:s=[r,i];break;case kA.CLOCKWISE:s=SW(r);break;case kA.COUNTERCLOCKWISE:s=SW(r,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(r!==a||s.length===l+1)return n;r=n.placement.split("-")[0],i=mw(r);var c=n.offsets.popper,u=n.offsets.reference,d=Math.floor,p=r==="left"&&d(c.right)>d(u.left)||r==="right"&&d(c.left)<d(u.right)||r==="top"&&d(c.bottom)>d(u.top)||r==="bottom"&&d(c.top)<d(u.bottom),f=d(c.left)<d(t.left),g=d(c.right)>d(t.right),y=d(c.top)<d(t.top),v=d(c.bottom)>d(t.bottom),m=r==="left"&&f||r==="right"&&g||r==="top"&&y||r==="bottom"&&v,h=["top","bottom"].indexOf(r)!==-1,b=!!e.flipVariations&&(h&&o==="start"&&f||h&&o==="end"&&g||!h&&o==="start"&&y||!h&&o==="end"&&v),x=!!e.flipVariationsByContent&&(h&&o==="start"&&g||h&&o==="end"&&f||!h&&o==="start"&&v||!h&&o==="end"&&y),_=b||x;(p||m||_)&&(n.flipped=!0,(p||m)&&(r=s[l+1]),_&&(o=Vce(o)),n.placement=r+(o?"-"+o:""),n.offsets.popper=Ao({},n.offsets.popper,yW(n.instance.popper,n.offsets.reference,n.placement)),n=vW(n.instance.modifiers,n,"flip"))}),n}function Wce(n){var e=n.offsets,t=e.popper,r=e.reference,i=n.placement.split("-")[0],o=Math.floor,s=["top","bottom"].indexOf(i)!==-1,a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return t[a]<o(r[l])&&(n.offsets.popper[l]=o(r[l])-t[c]),t[l]>o(r[a])&&(n.offsets.popper[l]=o(r[a])),n}function Gce(n,e,t,r){var i=n.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],s=i[2];if(!o)return n;if(s.indexOf("%")===0){var a=void 0;switch(s){case"%p":a=t;break;case"%":case"%r":default:a=r}var l=jl(a);return l[e]/100*o}else if(s==="vh"||s==="vw"){var c=void 0;return s==="vh"?c=Math.max(document.documentElement.clientHeight,window.innerHeight||0):c=Math.max(document.documentElement.clientWidth,window.innerWidth||0),c/100*o}else return o}function jce(n,e,t,r){var i=[0,0],o=["right","left"].indexOf(r)!==-1,s=n.split(/(\+|\-)/).map(function(u){return u.trim()}),a=s.indexOf(wy(s,function(u){return u.search(/,|\s/)!==-1}));s[a]&&s[a].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=a!==-1?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return c=c.map(function(u,d){var p=(d===1?!o:o)?"height":"width",f=!1;return u.reduce(function(g,y){return g[g.length-1]===""&&["+","-"].indexOf(y)!==-1?(g[g.length-1]=y,f=!0,g):f?(g[g.length-1]+=y,f=!1,g):g.concat(y)},[]).map(function(g){return Gce(g,p,e,t)})}),c.forEach(function(u,d){u.forEach(function(p,f){IA(p)&&(i[d]+=p*(u[f-1]==="-"?-1:1))})}),i}function qce(n,e){var t=e.offset,r=n.placement,i=n.offsets,o=i.popper,s=i.reference,a=r.split("-")[0],l=void 0;return IA(+t)?l=[+t,0]:l=jce(t,o,s,a),a==="left"?(o.top+=l[0],o.left-=l[1]):a==="right"?(o.top+=l[0],o.left+=l[1]):a==="top"?(o.left+=l[0],o.top-=l[1]):a==="bottom"&&(o.left+=l[0],o.top+=l[1]),n.popper=o,n}function $ce(n,e){var t=e.boundariesElement||tf(n.instance.popper);n.instance.reference===t&&(t=tf(t));var r=NA("transform"),i=n.instance.popper.style,o=i.top,s=i.left,a=i[r];i.top="",i.left="",i[r]="";var l=DA(n.instance.popper,n.instance.reference,e.padding,t,n.positionFixed);i.top=o,i.left=s,i[r]=a,e.boundaries=l;var c=e.priority,u=n.offsets.popper,d={primary:function(f){var g=u[f];return u[f]<l[f]&&!e.escapeWithReference&&(g=Math.max(u[f],l[f])),rf({},f,g)},secondary:function(f){var g=f==="right"?"left":"top",y=u[g];return u[f]>l[f]&&!e.escapeWithReference&&(y=Math.min(u[g],l[f]-(f==="right"?u.width:u.height))),rf({},g,y)}};return c.forEach(function(p){var f=["left","top"].indexOf(p)!==-1?"primary":"secondary";u=Ao({},u,d[f](p))}),n.offsets.popper=u,n}function Xce(n){var e=n.placement,t=e.split("-")[0],r=e.split("-")[1];if(r){var i=n.offsets,o=i.reference,s=i.popper,a=["bottom","top"].indexOf(t)!==-1,l=a?"left":"top",c=a?"width":"height",u={start:rf({},l,o[l]),end:rf({},l,o[l]+o[c]-s[c])};n.offsets.popper=Ao({},s,u[r])}return n}function Yce(n){if(!wW(n.instance.modifiers,"hide","preventOverflow"))return n;var e=n.offsets.reference,t=wy(n.instance.modifiers,function(r){return r.name==="preventOverflow"}).boundaries;if(e.bottom<t.top||e.left>t.right||e.top>t.bottom||e.right<t.left){if(n.hide===!0)return n;n.hide=!0,n.attributes["x-out-of-boundaries"]=""}else{if(n.hide===!1)return n;n.hide=!1,n.attributes["x-out-of-boundaries"]=!1}return n}function Jce(n){var e=n.placement,t=e.split("-")[0],r=n.offsets,i=r.popper,o=r.reference,s=["left","right"].indexOf(t)!==-1,a=["top","left"].indexOf(t)===-1;return i[s?"left":"top"]=o[t]-(a?i[s?"width":"height"]:0),n.placement=mw(e),n.offsets.popper=jl(i),n}var Zce={shift:{order:100,enabled:!0,fn:Xce},offset:{order:200,enabled:!0,fn:qce,offset:0},preventOverflow:{order:300,enabled:!0,fn:$ce,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Wce},arrow:{order:500,enabled:!0,fn:Uce,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:Hce,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:Jce},hide:{order:800,enabled:!0,fn:Yce},computeStyle:{order:850,enabled:!0,fn:zce,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:Oce,onLoad:Fce,gpuAcceleration:void 0}},Kce={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Zce},gw=function(){function n(e,t){var r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Tce(this,n),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=bce(this.update.bind(this)),this.options=Ao({},n.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=t&&t.jquery?t[0]:t,this.options.modifiers={},Object.keys(Ao({},n.Defaults.modifiers,i.modifiers)).forEach(function(s){r.options.modifiers[s]=Ao({},n.Defaults.modifiers[s]||{},i.modifiers?i.modifiers[s]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(s){return Ao({name:s},r.options.modifiers[s])}).sort(function(s,a){return s.order-a.order}),this.modifiers.forEach(function(s){s.enabled&&oW(s.onLoad)&&s.onLoad(r.reference,r.popper,r.options,s,r.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return Sce(n,[{key:"update",value:function(){return Rce.call(this)}},{key:"destroy",value:function(){return Cce.call(this)}},{key:"enableEventListeners",value:function(){return Lce.call(this)}},{key:"disableEventListeners",value:function(){return Nce.call(this)}}]),n}();gw.Utils=(typeof window!="undefined"?window:global).PopperUtils;gw.placements=TW;gw.Defaults=Kce;var MW=gw;var Z9e=R(st()),EW=R(ni());function Qce(n,e){var t=e&&e.direction||"ltr";if(t==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function PW(n){return typeof n=="function"?n():n}var eue=typeof window!="undefined"?hn.useLayoutEffect:hn.useEffect,tue={},nue=hn.forwardRef(function(e,t){var r=e.anchorEl,i=e.children,o=e.container,s=e.disablePortal,a=s===void 0?!1:s,l=e.keepMounted,c=l===void 0?!1:l,u=e.modifiers,d=e.open,p=e.placement,f=p===void 0?"bottom":p,g=e.popperOptions,y=g===void 0?tue:g,v=e.popperRef,m=e.style,h=e.transition,b=h===void 0?!1:h,x=ie(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),_=hn.useRef(null),S=pt(_,t),M=hn.useRef(null),E=pt(M,v),L=hn.useRef(E);eue(function(){L.current=E},[E]),hn.useImperativeHandle(v,function(){return M.current},[]);var I=hn.useState(!0),T=I[0],A=I[1],k=(0,EW.useTheme)(),U=Qce(f,k),F=hn.useState(U),N=F[0],j=F[1];hn.useEffect(function(){M.current&&M.current.update()});var Y=hn.useCallback(function(){if(!(!_.current||!r||!d)){M.current&&(M.current.destroy(),L.current(null));var re=function(me){j(me.placement)},D=PW(r);if(!1&&D&&D.nodeType===1)var Te;var de=new MW(PW(r),_.current,B({placement:U},y,{modifiers:B({},a?{}:{preventOverflow:{boundariesElement:"window"}},u,y.modifiers),onCreate:wi(re,y.onCreate),onUpdate:wi(re,y.onUpdate)}));L.current(de)}},[r,a,u,d,U,y]),pe=hn.useCallback(function(re){hr(S,re),Y()},[S,Y]),$=function(){A(!1)},W=function(){!M.current||(M.current.destroy(),L.current(null))},J=function(){A(!0),W()};if(hn.useEffect(function(){return function(){W()}},[]),hn.useEffect(function(){!d&&!b&&W()},[d,b]),!c&&!d&&(!b||T))return null;var oe={placement:N};return b&&(oe.TransitionProps={in:d,onEnter:$,onExited:J}),hn.createElement(Vp,{disablePortal:a,container:o},hn.createElement("div",B({ref:pe,role:"tooltip"},x,{style:B({position:"fixed",top:0,left:0,display:!d&&c&&!b?"none":null},m)}),typeof i=="function"?i(oe):i))}),yw=nue;var ha=R(we()),T$e=R(Ae()),OW=R(Be()),M$e=R(st());var vw=R(we()),p$e=R(Ae()),DW=R(Be());var RW=R(we());var CW=Ht(RW.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked");var AW=R(we());var LW=Ht(AW.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var rue=function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}};function iue(n){var e=n.checked,t=n.classes,r=n.fontSize;return vw.createElement("div",{className:(0,DW.default)(t.root,e&&t.checked)},vw.createElement(CW,{fontSize:r}),vw.createElement(LW,{fontSize:r,className:t.layer}))}var BA=ye(rue,{name:"PrivateRadioButtonIcon"})(iue);var IW=R(we());var NW=R(we()),oue=NW.createContext(),xw=oue;function bw(){return IW.useContext(xw)}var sue=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:vt(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:vt(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}},aue=ha.createElement(BA,{checked:!0}),lue=ha.createElement(BA,null),cue=ha.forwardRef(function(e,t){var r=e.checked,i=e.classes,o=e.color,s=o===void 0?"secondary":o,a=e.name,l=e.onChange,c=e.size,u=c===void 0?"medium":c,d=ie(e,["checked","classes","color","name","onChange","size"]),p=bw(),f=r,g=wi(l,p&&p.onChange),y=a;return p&&(typeof f=="undefined"&&(f=p.value===e.value),typeof y=="undefined"&&(y=p.name)),ha.createElement(zp,B({color:s,type:"radio",icon:ha.cloneElement(lue,{fontSize:u==="small"?"small":"default"}),checkedIcon:ha.cloneElement(aue,{fontSize:u==="small"?"small":"default"}),classes:{root:(0,OW.default)(i.root,i["color".concat(Fe(s))]),checked:i.checked,disabled:i.disabled},name:y,checked:f,onChange:g,ref:t},d))}),FW=ye(sue,{name:"MuiRadio"})(cue);var ma=R(we()),U$e=R(Ae());var $$e=ma.forwardRef(function(e,t){var r=e.actions,i=e.children,o=e.name,s=e.value,a=e.onChange,l=ie(e,["actions","children","name","value","onChange"]),c=ma.useRef(null),u=ri({controlled:s,default:e.defaultValue,name:"RadioGroup"}),d=An(u,2),p=d[0],f=d[1];ma.useImperativeHandle(r,function(){return{focus:function(){var h=c.current.querySelector("input:not(:disabled):checked");h||(h=c.current.querySelector("input:not(:disabled)")),h&&h.focus()}}},[]);var g=pt(t,c),y=function(h){f(h.target.value),a&&a(h,h.target.value)},v=ca(o);return ma.createElement(xw.Provider,{value:{name:v,onChange:y,value:p}},ma.createElement(j_,B({role:"radiogroup",ref:g},l),i))});function zA(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&xu(n,e)}function ql(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ql=function(t){return typeof t}:ql=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(n)}function UA(n,e){return e&&(ql(e)==="object"||typeof e=="function")?e:Kg(n)}function of(n){return of=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},of(n)}var kW=R(we()),VA=R(fr()),u7e=R(Ae()),p7e=R(st());function due(n){var e=pue();return function(){var r=of(n),i;if(e){var o=of(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return UA(this,i)}}function pue(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var g7e=function(n){zA(t,n);var e=due(t);function t(){return sy(this,t),e.apply(this,arguments)}return ay(t,[{key:"componentDidMount",value:function(){this.ref=VA.findDOMNode(this),hr(this.props.rootRef,this.ref)}},{key:"componentDidUpdate",value:function(i){var o=VA.findDOMNode(this);(i.rootRef!==this.props.rootRef||this.ref!==o)&&(i.rootRef!==this.props.rootRef&&hr(i.rootRef,null),this.ref=o,hr(this.props.rootRef,this.ref))}},{key:"componentWillUnmount",value:function(){this.ref=null,hr(this.props.rootRef,null)}},{key:"render",value:function(){return this.props.children}}]),t}(kW.Component);var $l=R(we()),z7e=R(Ae()),VW=R(ni());var BW=R(st()),Yt=R(we()),S7e=R($i()),E7e=R(Ae()),HA=R(Be());var A7e=R(st());function zW(n,e){return ql(e)==="object"&&e!==null?n===e:String(n)===String(e)}function hue(n){return n==null||typeof n=="string"&&!n.trim()}var mue=Yt.forwardRef(function(e,t){var r=e["aria-label"],i=e.autoFocus,o=e.autoWidth,s=e.children,a=e.classes,l=e.className,c=e.defaultValue,u=e.disabled,d=e.displayEmpty,p=e.IconComponent,f=e.inputRef,g=e.labelId,y=e.MenuProps,v=y===void 0?{}:y,m=e.multiple,h=e.name,b=e.onBlur,x=e.onChange,_=e.onClose,S=e.onFocus,M=e.onOpen,E=e.open,L=e.readOnly,I=e.renderValue,T=e.SelectDisplayProps,A=T===void 0?{}:T,k=e.tabIndex,U=e.type,F=e.value,N=e.variant,j=N===void 0?"standard":N,Y=ie(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),pe=ri({controlled:F,default:c,name:"Select"}),$=An(pe,2),W=$[0],J=$[1],oe=Yt.useRef(null),re=Yt.useState(null),D=re[0],Te=re[1],de=Yt.useRef(E!=null),Me=de.current,me=Yt.useState(),Pe=me[0],_e=me[1],q=Yt.useState(!1),ce=q[0],se=q[1],Se=pt(t,f);Yt.useImperativeHandle(Se,function(){return{focus:function(){D.focus()},node:oe.current,value:W}},[D,W]),Yt.useEffect(function(){i&&D&&D.focus()},[i,D]),Yt.useEffect(function(){if(D){var xe=$t(D).getElementById(g);if(xe){var ne=function(){getSelection().isCollapsed&&D.focus()};return xe.addEventListener("click",ne),function(){xe.removeEventListener("click",ne)}}}},[g,D]);var be=function(ne,he){ne?M&&M(he):_&&_(he),Me||(_e(o?null:D.clientWidth),se(ne))},Ce=function(ne){ne.button===0&&(ne.preventDefault(),D.focus(),be(!0,ne))},Le=function(ne){be(!1,ne)},Ne=Yt.Children.toArray(s),Ge=function(ne){var he=Ne.map(function(Ee){return Ee.props.value}).indexOf(ne.target.value);if(he!==-1){var V=Ne[he];J(V.props.value),x&&x(ne,V)}},Ue=function(ne){return function(he){m||be(!1,he);var V;if(m){V=Array.isArray(W)?W.slice():[];var Ee=W.indexOf(ne.props.value);Ee===-1?V.push(ne.props.value):V.splice(Ee,1)}else V=ne.props.value;ne.props.onClick&&ne.props.onClick(he),W!==V&&(J(V),x&&(he.persist(),Object.defineProperty(he,"target",{writable:!0,value:{value:V,name:h}}),x(he,ne)))}},C=function(ne){if(!L){var he=[" ","ArrowUp","ArrowDown","Enter"];he.indexOf(ne.key)!==-1&&(ne.preventDefault(),be(!0,ne))}},w=D!==null&&(Me?E:ce),H=function(ne){!w&&b&&(ne.persist(),Object.defineProperty(ne,"target",{writable:!0,value:{value:W,name:h}}),b(ne))};delete Y["aria-invalid"];var ee,ue,G=[],ge=!1,fe=!1;(Gp({value:W})||d)&&(I?ee=I(W):ge=!0);var le=Ne.map(function(xe){if(!Yt.isValidElement(xe))return null;var ne;if(m){if(!Array.isArray(W))throw new Error((0,BW.formatMuiErrorMessage)(2));ne=W.some(function(he){return zW(he,xe.props.value)}),ne&&ge&&G.push(xe.props.children)}else ne=zW(W,xe.props.value),ne&&ge&&(ue=xe.props.children);return ne&&(fe=!0),Yt.cloneElement(xe,{"aria-selected":ne?"true":void 0,onClick:Ue(xe),onKeyUp:function(V){V.key===" "&&V.preventDefault(),xe.props.onKeyUp&&xe.props.onKeyUp(V)},role:"option",selected:ne,value:void 0,"data-value":xe.props.value})});ge&&(ee=m?G.join(", "):ue);var ve=Pe;!o&&Me&&D&&(ve=D.clientWidth);var De;typeof k!="undefined"?De=k:De=u?null:0;var z=A.id||(h?"mui-component-select-".concat(h):void 0);return Yt.createElement(Yt.Fragment,null,Yt.createElement("div",B({className:(0,HA.default)(a.root,a.select,a.selectMenu,a[j],l,u&&a.disabled),ref:Te,tabIndex:De,role:"button","aria-disabled":u?"true":void 0,"aria-expanded":w?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[g,z].filter(Boolean).join(" ")||void 0,onKeyDown:C,onMouseDown:u||L?null:Ce,onBlur:H,onFocus:S},A,{id:z}),hue(ee)?Yt.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ee),Yt.createElement("input",B({value:Array.isArray(W)?W.join(","):W,name:h,ref:oe,"aria-hidden":!0,onChange:Ge,tabIndex:-1,className:a.nativeInput,autoFocus:i},Y)),Yt.createElement(p,{className:(0,HA.default)(a.icon,a["icon".concat(Fe(j))],w&&a.iconOpen,u&&a.disabled)}),Yt.createElement(Jp,B({id:"menu-".concat(h||""),anchorEl:D,open:w,onClose:Le},v,{MenuListProps:B({"aria-labelledby":g,role:"listbox",disableListWrap:!0},v.MenuListProps),PaperProps:B({},v.PaperProps,{style:B({minWidth:ve},v.PaperProps!=null?v.PaperProps.style:null)})}),le))}),UW=mue;var gue=PA,yue=$l.createElement(Hl,null),vue=$l.createElement(jp,null),HW=$l.forwardRef(function n(e,t){var r=e.autoWidth,i=r===void 0?!1:r,o=e.children,s=e.classes,a=e.displayEmpty,l=a===void 0?!1:a,c=e.IconComponent,u=c===void 0?dw:c,d=e.id,p=e.input,f=e.inputProps,g=e.label,y=e.labelId,v=e.labelWidth,m=v===void 0?0:v,h=e.MenuProps,b=e.multiple,x=b===void 0?!1:b,_=e.native,S=_===void 0?!1:_,M=e.onClose,E=e.onOpen,L=e.open,I=e.renderValue,T=e.SelectDisplayProps,A=e.variant,k=A===void 0?"standard":A,U=ie(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),F=S?uw:UW,N=ii(),j=no({props:e,muiFormControl:N,states:["variant"]}),Y=j.variant||k,pe=p||{standard:yue,outlined:$l.createElement(Qp,{label:g,labelWidth:m}),filled:vue}[Y];return $l.cloneElement(pe,B({inputComponent:F,inputProps:B({children:o,IconComponent:u,variant:Y,type:void 0,multiple:x},S?{id:d}:{autoWidth:i,displayEmpty:l,labelId:y,MenuProps:h,onClose:M,onOpen:E,open:L,renderValue:I,SelectDisplayProps:B({id:d},T)},f,{classes:f?(0,VW.mergeClasses)({baseClasses:s,newClasses:f.classes,Component:n}):s},p?p.props.inputProps:{}),ref:t},U))});HW.muiName="Select";var sf=ye(gue,{name:"MuiSelect"})(HW);var _n=R(we()),aXe=R(Ae()),Ty=R(Be()),cXe=R(st());var af=R(we()),WA=R(Be());var xue=function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:B({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}};function bue(n){var e=n.children,t=n.classes,r=n.className,i=n.open,o=n.value,s=n.valueLabelDisplay;return s==="off"?e:af.cloneElement(e,{className:(0,WA.default)(e.props.className,(i||s==="on")&&t.open,t.thumb)},af.createElement("span",{className:(0,WA.default)(t.offset,r)},af.createElement("span",{className:t.circle},af.createElement("span",{className:t.label},o))))}var WW=ye(xue,{name:"PrivateValueLabel"})(bue);function GA(n,e){return n-e}function jA(n,e,t){return Math.min(Math.max(e,n),t)}function GW(n,e){var t=n.reduce(function(i,o,s){var a=Math.abs(e-o);return i===null||a<i.distance||a===i.distance?{distance:a,index:s}:i},null),r=t.index;return r}function _w(n,e){if(e.current!==void 0&&n.changedTouches){for(var t=0;t<n.changedTouches.length;t+=1){var r=n.changedTouches[t];if(r.identifier===e.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function ww(n,e,t){return(n-e)*100/(t-e)}function _ue(n,e,t){return(t-e)*n+e}function wue(n){if(Math.abs(n)<1){var e=n.toExponential().split("e-"),t=e[0].split(".")[1];return(t?t.length:0)+parseInt(e[1],10)}var r=n.toString().split(".")[1];return r?r.length:0}function jW(n,e,t){var r=Math.round((n-t)/e)*e+t;return Number(r.toFixed(wue(e)))}function qW(n){var e=n.values,t=n.source,r=n.newValue,i=n.index;if(e[i]===r)return t;var o=e.slice();return o[i]=r,o}function Tw(n){var e=n.sliderRef,t=n.activeIndex,r=n.setActive;(!e.current.contains(document.activeElement)||Number(document.activeElement.getAttribute("data-index"))!==t)&&e.current.querySelector('[role="slider"][data-index="'.concat(t,'"]')).focus(),r&&r(t)}var Sw={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},$W=function(e){return e},Tue=function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:e.palette.type==="light"?oa(e.palette.primary.main,.62):ia(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(vt(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(vt(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(vt(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(vt(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:B({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}},Sue=_n.forwardRef(function(e,t){var r=e["aria-label"],i=e["aria-labelledby"],o=e["aria-valuetext"],s=e.classes,a=e.className,l=e.color,c=l===void 0?"primary":l,u=e.component,d=u===void 0?"span":u,p=e.defaultValue,f=e.disabled,g=f===void 0?!1:f,y=e.getAriaLabel,v=e.getAriaValueText,m=e.marks,h=m===void 0?!1:m,b=e.max,x=b===void 0?100:b,_=e.min,S=_===void 0?0:_,M=e.name,E=e.onChange,L=e.onChangeCommitted,I=e.onMouseDown,T=e.orientation,A=T===void 0?"horizontal":T,k=e.scale,U=k===void 0?$W:k,F=e.step,N=F===void 0?1:F,j=e.ThumbComponent,Y=j===void 0?"span":j,pe=e.track,$=pe===void 0?"normal":pe,W=e.value,J=e.ValueLabelComponent,oe=J===void 0?WW:J,re=e.valueLabelDisplay,D=re===void 0?"off":re,Te=e.valueLabelFormat,de=Te===void 0?$W:Te,Me=ie(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),me=Pt(),Pe=_n.useRef(),_e=_n.useState(-1),q=_e[0],ce=_e[1],se=_n.useState(-1),Se=se[0],be=se[1],Ce=ri({controlled:W,default:p,name:"Slider"}),Le=An(Ce,2),Ne=Le[0],Ge=Le[1],Ue=Array.isArray(Ne),C=Ue?Ne.slice().sort(GA):[Ne];C=C.map(function(Je){return jA(Je,S,x)});var w=h===!0&&N!==null?zr(Array(Math.floor((x-S)/N)+1)).map(function(Je,ht){return{value:S+N*ht}}):h||[],H=Ms(),ee=H.isFocusVisible,ue=H.onBlurVisible,G=H.ref,ge=_n.useState(-1),fe=ge[0],le=ge[1],ve=_n.useRef(),De=pt(G,ve),z=pt(t,De),xe=Ct(function(Je){var ht=Number(Je.currentTarget.getAttribute("data-index"));ee(Je)&&le(ht),be(ht)}),ne=Ct(function(){fe!==-1&&(le(-1),ue()),be(-1)}),he=Ct(function(Je){var ht=Number(Je.currentTarget.getAttribute("data-index"));be(ht)}),V=Ct(function(){be(-1)}),Ee=me.direction==="rtl",Oe=Ct(function(Je){var ht=Number(Je.currentTarget.getAttribute("data-index")),P=C[ht],X=(x-S)/10,te=w.map(function(je){return je.value}),K=te.indexOf(P),ae,He=Ee?"ArrowLeft":"ArrowRight",ke=Ee?"ArrowRight":"ArrowLeft";switch(Je.key){case"Home":ae=S;break;case"End":ae=x;break;case"PageUp":N&&(ae=P+X);break;case"PageDown":N&&(ae=P-X);break;case He:case"ArrowUp":N?ae=P+N:ae=te[K+1]||te[te.length-1];break;case ke:case"ArrowDown":N?ae=P-N:ae=te[K-1]||te[0];break;default:return}if(Je.preventDefault(),N&&(ae=jW(ae,N,S)),ae=jA(ae,S,x),Ue){var qe=ae;ae=qW({values:C,source:Ne,newValue:ae,index:ht}).sort(GA),Tw({sliderRef:ve,activeIndex:ae.indexOf(qe)})}Ge(ae),le(ht),E&&E(Je,ae),L&&L(Je,ae)}),We=_n.useRef(),nt=A;Ee&&A!=="vertical"&&(nt+="-reverse");var Xe=function(ht){var P=ht.finger,X=ht.move,te=X===void 0?!1:X,K=ht.values,ae=ht.source,He=ve.current,ke=He.getBoundingClientRect(),qe=ke.width,je=ke.height,lt=ke.bottom,it=ke.left,Qe;nt.indexOf("vertical")===0?Qe=(lt-P.y)/je:Qe=(P.x-it)/qe,nt.indexOf("-reverse")!==-1&&(Qe=1-Qe);var ut;if(ut=_ue(Qe,S,x),N)ut=jW(ut,N,S);else{var _r=w.map(function(wt){return wt.value}),xi=GW(_r,ut);ut=_r[xi]}ut=jA(ut,S,x);var rt=0;if(Ue){te?rt=We.current:rt=GW(K,ut);var Rn=ut;ut=qW({values:K,source:ae,newValue:ut,index:rt}).sort(GA),rt=ut.indexOf(Rn),We.current=rt}return{newValue:ut,activeIndex:rt}},bt=Ct(function(Je){var ht=_w(Je,Pe);if(!!ht){var P=Xe({finger:ht,move:!0,values:C,source:Ne}),X=P.newValue,te=P.activeIndex;Tw({sliderRef:ve,activeIndex:te,setActive:ce}),Ge(X),E&&E(Je,X)}}),yt=Ct(function(Je){var ht=_w(Je,Pe);if(!!ht){var P=Xe({finger:ht,values:C,source:Ne}),X=P.newValue;ce(-1),Je.type==="touchend"&&be(-1),L&&L(Je,X),Pe.current=void 0;var te=$t(ve.current);te.removeEventListener("mousemove",bt),te.removeEventListener("mouseup",yt),te.removeEventListener("touchmove",bt),te.removeEventListener("touchend",yt)}}),un=Ct(function(Je){Je.preventDefault();var ht=Je.changedTouches[0];ht!=null&&(Pe.current=ht.identifier);var P=_w(Je,Pe),X=Xe({finger:P,values:C,source:Ne}),te=X.newValue,K=X.activeIndex;Tw({sliderRef:ve,activeIndex:K,setActive:ce}),Ge(te),E&&E(Je,te);var ae=$t(ve.current);ae.addEventListener("touchmove",bt),ae.addEventListener("touchend",yt)});_n.useEffect(function(){var Je=ve.current;Je.addEventListener("touchstart",un);var ht=$t(Je);return function(){Je.removeEventListener("touchstart",un),ht.removeEventListener("mousemove",bt),ht.removeEventListener("mouseup",yt),ht.removeEventListener("touchmove",bt),ht.removeEventListener("touchend",yt)}},[yt,bt,un]);var zo=Ct(function(Je){I&&I(Je),Je.preventDefault();var ht=_w(Je,Pe),P=Xe({finger:ht,values:C,source:Ne}),X=P.newValue,te=P.activeIndex;Tw({sliderRef:ve,activeIndex:te,setActive:ce}),Ge(X),E&&E(Je,X);var K=$t(ve.current);K.addEventListener("mousemove",bt),K.addEventListener("mouseup",yt)}),zt=ww(Ue?C[0]:S,S,x),Rt=ww(C[C.length-1],S,x)-zt,Dt=B({},Sw[nt].offset(zt),Sw[nt].leap(Rt));return _n.createElement(d,B({ref:z,className:(0,Ty.default)(s.root,s["color".concat(Fe(c))],a,g&&s.disabled,w.length>0&&w.some(function(Je){return Je.label})&&s.marked,$===!1&&s.trackFalse,A==="vertical"&&s.vertical,$==="inverted"&&s.trackInverted),onMouseDown:zo},Me),_n.createElement("span",{className:s.rail}),_n.createElement("span",{className:s.track,style:Dt}),_n.createElement("input",{value:C.join(","),name:M,type:"hidden"}),w.map(function(Je,ht){var P=ww(Je.value,S,x),X=Sw[nt].offset(P),te;return $===!1?te=C.indexOf(Je.value)!==-1:te=$==="normal"&&(Ue?Je.value>=C[0]&&Je.value<=C[C.length-1]:Je.value<=C[0])||$==="inverted"&&(Ue?Je.value<=C[0]||Je.value>=C[C.length-1]:Je.value>=C[0]),_n.createElement(_n.Fragment,{key:Je.value},_n.createElement("span",{style:X,"data-index":ht,className:(0,Ty.default)(s.mark,te&&s.markActive)}),Je.label!=null?_n.createElement("span",{"aria-hidden":!0,"data-index":ht,style:X,className:(0,Ty.default)(s.markLabel,te&&s.markLabelActive)},Je.label):null)}),C.map(function(Je,ht){var P=ww(Je,S,x),X=Sw[nt].offset(P);return _n.createElement(oe,{key:ht,valueLabelFormat:de,valueLabelDisplay:D,className:s.valueLabel,value:typeof de=="function"?de(U(Je),ht):de,index:ht,open:Se===ht||q===ht||D==="on",disabled:g},_n.createElement(Y,{className:(0,Ty.default)(s.thumb,s["thumbColor".concat(Fe(c))],q===ht&&s.active,g&&s.disabled,fe===ht&&s.focusVisible),tabIndex:g?null:0,role:"slider",style:X,"data-index":ht,"aria-label":y?y(ht):r,"aria-labelledby":i,"aria-orientation":A,"aria-valuemax":U(x),"aria-valuemin":U(S),"aria-valuenow":U(Je),"aria-valuetext":v?v(U(Je),ht):o,onKeyDown:Oe,onFocus:xe,onBlur:ne,onMouseOver:he,onMouseLeave:V}))}))}),XW=ye(Tue,{name:"MuiSlider"})(Sue);var li=R(we()),BXe=R(Ae()),JW=R(Be());var lf=R(we()),PXe=R(Ae()),YW=R(Be());var Mue=function(e){var t=e.palette.type==="light"?.8:.98,r=jo(e.palette.background.default,t);return{root:B({},e.typography.body2,ft({color:e.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},Eue=lf.forwardRef(function(e,t){var r=e.action,i=e.classes,o=e.className,s=e.message,a=e.role,l=a===void 0?"alert":a,c=ie(e,["action","classes","className","message","role"]);return lf.createElement(zn,B({role:l,square:!0,elevation:6,className:(0,YW.default)(i.root,o),ref:t},c),lf.createElement("div",{className:i.message},s),r?lf.createElement("div",{className:i.action},r):null)}),Mw=ye(Mue,{name:"MuiSnackbarContent"})(Eue);var Pue=function(e){var t={top:8},r={bottom:8},i={justifyContent:"flex-end"},o={justifyContent:"flex-start"},s={top:24},a={bottom:24},l={right:24},c={left:24},u={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:B({},t,ft({},e.breakpoints.up("sm"),B({},s,u))),anchorOriginBottomCenter:B({},r,ft({},e.breakpoints.up("sm"),B({},a,u))),anchorOriginTopRight:B({},t,i,ft({},e.breakpoints.up("sm"),B({left:"auto"},s,l))),anchorOriginBottomRight:B({},r,i,ft({},e.breakpoints.up("sm"),B({left:"auto"},a,l))),anchorOriginTopLeft:B({},t,o,ft({},e.breakpoints.up("sm"),B({right:"auto"},s,c))),anchorOriginBottomLeft:B({},r,o,ft({},e.breakpoints.up("sm"),B({right:"auto"},a,c)))}},Rue=li.forwardRef(function(e,t){var r=e.action,i=e.anchorOrigin;i=i===void 0?{vertical:"bottom",horizontal:"center"}:i;var o=i.vertical,s=i.horizontal,a=e.autoHideDuration,l=a===void 0?null:a,c=e.children,u=e.classes,d=e.className,p=e.ClickAwayListenerProps,f=e.ContentProps,g=e.disableWindowBlurListener,y=g===void 0?!1:g,v=e.message,m=e.onClose,h=e.onEnter,b=e.onEntered,x=e.onEntering,_=e.onExit,S=e.onExited,M=e.onExiting,E=e.onMouseEnter,L=e.onMouseLeave,I=e.open,T=e.resumeHideDuration,A=e.TransitionComponent,k=A===void 0?Ul:A,U=e.transitionDuration,F=U===void 0?{enter:fn.enteringScreen,exit:fn.leavingScreen}:U,N=e.TransitionProps,j=ie(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),Y=li.useRef(),pe=li.useState(!0),$=pe[0],W=pe[1],J=Ct(function(){m&&m.apply(void 0,arguments)}),oe=Ct(function(_e){!m||_e==null||(clearTimeout(Y.current),Y.current=setTimeout(function(){J(null,"timeout")},_e))});li.useEffect(function(){return I&&oe(l),function(){clearTimeout(Y.current)}},[I,l,oe]);var re=function(){clearTimeout(Y.current)},D=li.useCallback(function(){l!=null&&oe(T??l*.5)},[l,T,oe]),Te=function(q){E&&E(q),re()},de=function(q){L&&L(q),D()},Me=function(q){m&&m(q,"clickaway")},me=function(){W(!0)},Pe=function(){W(!1)};return li.useEffect(function(){if(!y&&I)return window.addEventListener("focus",D),window.addEventListener("blur",re),function(){window.removeEventListener("focus",D),window.removeEventListener("blur",re)}},[y,D,I]),!I&&$?null:li.createElement(__,B({onClickAway:Me},p),li.createElement("div",B({className:(0,JW.default)(u.root,u["anchorOrigin".concat(Fe(o)).concat(Fe(s))],d),onMouseEnter:Te,onMouseLeave:de,ref:t},j),li.createElement(k,B({appear:!0,in:I,onEnter:wi(Pe,h),onEntered:b,onEntering:x,onExit:_,onExited:wi(me,S),onExiting:M,timeout:F,direction:o==="top"?"down":"up"},N),c||li.createElement(Mw,B({message:v,action:r},f)))))}),ZW=ye(Pue,{flip:!1,name:"MuiSnackbar"})(Rue);var zi=R(we()),QXe=R($i()),tYe=R(Ae()),KW=R(Be());var Cue={root:{},horizontal:{paddingLeft:8,paddingRight:8},vertical:{},alternativeLabel:{flex:1,position:"relative"},completed:{}},Aue=zi.forwardRef(function(e,t){var r=e.active,i=r===void 0?!1:r,o=e.alternativeLabel,s=e.children,a=e.classes,l=e.className,c=e.completed,u=c===void 0?!1:c,d=e.connector,p=e.disabled,f=p===void 0?!1:p,g=e.expanded,y=g===void 0?!1:g,v=e.index,m=e.last,h=e.orientation,b=ie(e,["active","alternativeLabel","children","classes","className","completed","connector","disabled","expanded","index","last","orientation"]),x=d?zi.cloneElement(d,{orientation:h,alternativeLabel:o,index:v,active:i,completed:u,disabled:f}):null,_=zi.createElement("div",B({className:(0,KW.default)(a.root,a[h],l,o&&a.alternativeLabel,u&&a.completed),ref:t},b),x&&o&&v!==0?x:null,zi.Children.map(s,function(S){return zi.isValidElement(S)?zi.cloneElement(S,B({active:i,alternativeLabel:o,completed:u,disabled:f,expanded:y,last:m,icon:v+1,orientation:h},S.props)):null}));return x&&!o&&v!==0?zi.createElement(zi.Fragment,null,x,_):_}),QW=ye(Cue,{name:"MuiStep"})(Aue);var Au=R(we()),DYe=R(Ae()),sG=R(Be());var Yl=R(we()),wYe=R(Ae()),Pw=R(Be());var Xl=R(we()),dYe=R(Ae()),iG=R(Be());var eG=R(we());var tG=Ht(eG.createElement("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle");var nG=R(we());var rG=Ht(nG.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");var Lue=function(e){return{root:{display:"block",color:e.palette.text.disabled,"&$completed":{color:e.palette.primary.main},"&$active":{color:e.palette.primary.main},"&$error":{color:e.palette.error.main}},text:{fill:e.palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily},active:{},completed:{},error:{}}},Due=Xl.createElement("circle",{cx:"12",cy:"12",r:"12"}),Nue=Xl.forwardRef(function(e,t){var r=e.completed,i=r===void 0?!1:r,o=e.icon,s=e.active,a=s===void 0?!1:s,l=e.error,c=l===void 0?!1:l,u=e.classes;if(typeof o=="number"||typeof o=="string"){var d=(0,iG.default)(u.root,a&&u.active,c&&u.error,i&&u.completed);return c?Xl.createElement(rG,{className:d,ref:t}):i?Xl.createElement(tG,{className:d,ref:t}):Xl.createElement(gu,{className:d,ref:t},Due,Xl.createElement("text",{className:u.text,x:"12",y:"16",textAnchor:"middle"},o))}return o}),Ew=ye(Lue,{name:"MuiStepIcon"})(Nue);var Iue=function(e){return{root:{display:"flex",alignItems:"center","&$alternativeLabel":{flexDirection:"column"},"&$disabled":{cursor:"default"}},horizontal:{},vertical:{},label:{color:e.palette.text.secondary,"&$active":{color:e.palette.text.primary,fontWeight:500},"&$completed":{color:e.palette.text.primary,fontWeight:500},"&$alternativeLabel":{textAlign:"center",marginTop:16},"&$error":{color:e.palette.error.main}},active:{},completed:{},error:{},disabled:{},iconContainer:{flexShrink:0,display:"flex",paddingRight:8,"&$alternativeLabel":{paddingRight:0}},alternativeLabel:{},labelContainer:{width:"100%"}}},oG=Yl.forwardRef(function(e,t){var r=e.active,i=r===void 0?!1:r,o=e.alternativeLabel,s=o===void 0?!1:o,a=e.children,l=e.classes,c=e.className,u=e.completed,d=u===void 0?!1:u,p=e.disabled,f=p===void 0?!1:p,g=e.error,y=g===void 0?!1:g,v=e.expanded,m=e.icon,h=e.last,b=e.optional,x=e.orientation,_=x===void 0?"horizontal":x,S=e.StepIconComponent,M=e.StepIconProps,E=ie(e,["active","alternativeLabel","children","classes","className","completed","disabled","error","expanded","icon","last","optional","orientation","StepIconComponent","StepIconProps"]),L=S;return m&&!L&&(L=Ew),Yl.createElement("span",B({className:(0,Pw.default)(l.root,l[_],c,f&&l.disabled,s&&l.alternativeLabel,y&&l.error),ref:t},E),m||L?Yl.createElement("span",{className:(0,Pw.default)(l.iconContainer,s&&l.alternativeLabel)},Yl.createElement(L,B({completed:d,active:i,error:y,icon:m},M))):null,Yl.createElement("span",{className:l.labelContainer},a?Yl.createElement(Xt,{variant:"body2",component:"span",display:"block",className:(0,Pw.default)(l.label,s&&l.alternativeLabel,d&&l.completed,i&&l.active,y&&l.error)},a):null,b))});oG.muiName="StepLabel";var Rw=ye(Iue,{name:"MuiStepLabel"})(oG);var Oue={root:{width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},horizontal:{},vertical:{justifyContent:"flex-start",padding:"8px",margin:"-8px"},touchRipple:{color:"rgba(0, 0, 0, 0.3)"}},Fue=Au.forwardRef(function(e,t){var r=e.active,i=e.alternativeLabel,o=e.children,s=e.classes,a=e.className,l=e.completed,c=e.disabled,u=e.expanded,d=e.icon,p=e.last,f=e.optional,g=e.orientation,y=ie(e,["active","alternativeLabel","children","classes","className","completed","disabled","expanded","icon","last","optional","orientation"]),v={active:r,alternativeLabel:i,completed:l,disabled:c,icon:d,optional:f,orientation:g},m=Mo(o,["StepLabel"])?Au.cloneElement(o,v):Au.createElement(Rw,v,o);return Au.createElement(kt,B({focusRipple:!0,disabled:c,TouchRippleProps:{className:s.touchRipple},className:(0,sG.default)(s.root,s[g],a),ref:t},y),m)}),aG=ye(Oue,{name:"MuiStepButton"})(Fue);var Sy=R(we()),WYe=R(Ae()),qA=R(Be());var kue=function(e){return{root:{flex:"1 1 auto"},horizontal:{},vertical:{marginLeft:12,padding:"0 0 8px"},alternativeLabel:{position:"absolute",top:8+4,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"},active:{},completed:{},disabled:{},line:{display:"block",borderColor:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[600]},lineHorizontal:{borderTopStyle:"solid",borderTopWidth:1},lineVertical:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}},Bue=Sy.forwardRef(function(e,t){var r=e.active,i=e.alternativeLabel,o=i===void 0?!1:i,s=e.classes,a=e.className,l=e.completed,c=e.disabled,u=e.index,d=e.orientation,p=d===void 0?"horizontal":d,f=ie(e,["active","alternativeLabel","classes","className","completed","disabled","index","orientation"]);return Sy.createElement("div",B({className:(0,qA.default)(s.root,s[p],a,o&&s.alternativeLabel,r&&s.active,l&&s.completed,c&&s.disabled),ref:t},f),Sy.createElement("span",{className:(0,qA.default)(s.line,{horizontal:s.lineHorizontal,vertical:s.lineVertical}[p])}))}),Cw=ye(kue,{name:"MuiStepConnector"})(Bue);var My=R(we()),ZYe=R(Ae()),lG=R(Be());var zue=function(e){return{root:{marginTop:8,marginLeft:12,paddingLeft:8+12,paddingRight:8,borderLeft:"1px solid ".concat(e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[600])},last:{borderLeft:"none"},transition:{}}},Uue=My.forwardRef(function(e,t){var r=e.active,i=e.alternativeLabel,o=e.children,s=e.classes,a=e.className,l=e.completed,c=e.expanded,u=e.last,d=e.optional,p=e.orientation,f=e.TransitionComponent,g=f===void 0?Dl:f,y=e.transitionDuration,v=y===void 0?"auto":y,m=e.TransitionProps,h=ie(e,["active","alternativeLabel","children","classes","className","completed","expanded","last","optional","orientation","TransitionComponent","transitionDuration","TransitionProps"]),b=v;return v==="auto"&&!g.muiSupportAuto&&(b=void 0),My.createElement("div",B({className:(0,lG.default)(s.root,a,u&&s.last),ref:t},h),My.createElement(g,B({in:r||c,className:s.transition,timeout:b,unmountOnExit:!0},m),o))}),cG=ye(zue,{name:"MuiStepContent"})(Uue);var Lo=R(we()),sJe=R(Ae()),uG=R(Be());var Vue={root:{display:"flex",padding:24},horizontal:{flexDirection:"row",alignItems:"center"},vertical:{flexDirection:"column"},alternativeLabel:{alignItems:"flex-start"}},Hue=Lo.createElement(Cw,null),Wue=Lo.forwardRef(function(e,t){var r=e.activeStep,i=r===void 0?0:r,o=e.alternativeLabel,s=o===void 0?!1:o,a=e.children,l=e.classes,c=e.className,u=e.connector,d=u===void 0?Hue:u,p=e.nonLinear,f=p===void 0?!1:p,g=e.orientation,y=g===void 0?"horizontal":g,v=ie(e,["activeStep","alternativeLabel","children","classes","className","connector","nonLinear","orientation"]),m=Lo.isValidElement(d)?Lo.cloneElement(d,{orientation:y}):null,h=Lo.Children.toArray(a),b=h.map(function(x,_){var S={index:_,active:!1,completed:!1,disabled:!1};return i===_?S.active=!0:!f&&i>_?S.completed=!0:!f&&i<_&&(S.disabled=!0),Lo.cloneElement(x,B({alternativeLabel:s,connector:m,last:_+1===h.length,orientation:y},S,x.props))});return Lo.createElement(zn,B({square:!0,elevation:0,className:(0,uG.default)(l.root,l[y],c,s&&l.alternativeLabel),ref:t},v),b)}),dG=ye(Vue,{name:"MuiStepper"})(Wue);var Qt=R(we()),MJe=R(Ae()),hG=R(fr()),PJe=R(st()),mG=R(ni());var Aw=R(we()),yJe=R(Ae()),pG=R(Be());var Gue=function(e){return{root:{position:"fixed",top:0,left:0,bottom:0,zIndex:e.zIndex.drawer-1},anchorLeft:{right:"auto"},anchorRight:{left:"auto",right:0},anchorTop:{bottom:"auto",right:0},anchorBottom:{top:"auto",bottom:0,right:0}}},jue=Aw.forwardRef(function(e,t){var r=e.anchor,i=e.classes,o=e.className,s=e.width,a=ie(e,["anchor","classes","className","width"]);return Aw.createElement("div",B({className:(0,pG.default)(i.root,i["anchor".concat(Fe(r))],o),ref:t,style:ft({},Bl(r)?"width":"height",s)},a))}),fG=ye(Gue,{name:"PrivateSwipeArea"})(jue);var Lw=3,ga=null;function $A(n,e){return n==="right"?document.body.offsetWidth-e[0].pageX:e[0].pageX}function XA(n,e){return n==="bottom"?window.innerHeight-e[0].clientY:e[0].clientY}function Ey(n,e){return n?e.clientWidth:e.clientHeight}function gG(n,e,t,r){return Math.min(Math.max(t?e-n:r+e-n,0),r)}function que(n,e){for(var t=[];n&&n!==e;){var r=window.getComputedStyle(n);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"?t=[]:(n.clientWidth>0&&n.scrollWidth>n.clientWidth||n.clientHeight>0&&n.scrollHeight>n.clientHeight)&&t.push(n),n=n.parentElement}return t}function $ue(n){var e=n.domTreeShapes,t=n.start,r=n.current,i=n.anchor,o={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return e.some(function(s){var a=r>=t;(i==="top"||i==="left")&&(a=!a);var l=i==="left"||i==="right"?"x":"y",c=s[o.scrollPosition[l]],u=c>0,d=c+s[o.clientLength[l]]<s[o.scrollLength[l]];return a&&d||!a&&u?s:null})}var Xue=typeof navigator!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent),Yue={enter:fn.enteringScreen,exit:fn.leavingScreen},Jue=typeof window!="undefined"?Qt.useLayoutEffect:Qt.useEffect,kJe=Qt.forwardRef(function(e,t){var r=Pt(),i=(0,mG.getThemeProps)({name:"MuiSwipeableDrawer",props:B({},e),theme:r}),o=i.anchor,s=o===void 0?"left":o,a=i.disableBackdropTransition,l=a===void 0?!1:a,c=i.disableDiscovery,u=c===void 0?!1:c,d=i.disableSwipeToOpen,p=d===void 0?Xue:d,f=i.hideBackdrop,g=i.hysteresis,y=g===void 0?.52:g,v=i.minFlingVelocity,m=v===void 0?450:v,h=i.ModalProps;h=h===void 0?{}:h;var b=h.BackdropProps,x=ie(h,["BackdropProps"]),_=i.onClose,S=i.onOpen,M=i.open,E=i.PaperProps,L=E===void 0?{}:E,I=i.SwipeAreaProps,T=i.swipeAreaWidth,A=T===void 0?20:T,k=i.transitionDuration,U=k===void 0?Yue:k,F=i.variant,N=F===void 0?"temporary":F,j=ie(i,["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"]),Y=Qt.useState(!1),pe=Y[0],$=Y[1],W=Qt.useRef({isSwiping:null}),J=Qt.useRef(),oe=Qt.useRef(),re=Qt.useRef(),D=Qt.useRef(!1),Te=Qt.useRef();Jue(function(){Te.current=null},[M]);var de=Qt.useCallback(function(q){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=ce.mode,Se=se===void 0?null:se,be=ce.changeTransition,Ce=be===void 0?!0:be,Le=Wp(r,s),Ne=["right","bottom"].indexOf(Le)!==-1?1:-1,Ge=Bl(s),Ue=Ge?"translate(".concat(Ne*q,"px, 0)"):"translate(0, ".concat(Ne*q,"px)"),C=re.current.style;C.webkitTransform=Ue,C.transform=Ue;var w="";if(Se&&(w=r.transitions.create("all",Br({timeout:U},{mode:Se}))),Ce&&(C.webkitTransition=w,C.transition=w),!l&&!f){var H=oe.current.style;H.opacity=1-q/Ey(Ge,re.current),Ce&&(H.webkitTransition=w,H.transition=w)}},[s,l,f,r,U]),Me=Ct(function(q){if(!!D.current){if(ga=null,D.current=!1,$(!1),!W.current.isSwiping){W.current.isSwiping=null;return}W.current.isSwiping=null;var ce=Wp(r,s),se=Bl(s),Se;se?Se=$A(ce,q.changedTouches):Se=XA(ce,q.changedTouches);var be=se?W.current.startX:W.current.startY,Ce=Ey(se,re.current),Le=gG(Se,be,M,Ce),Ne=Le/Ce;if(Math.abs(W.current.velocity)>m&&(Te.current=Math.abs((Ce-Le)/W.current.velocity)*1e3),M){W.current.velocity>m||Ne>y?_():de(0,{mode:"exit"});return}W.current.velocity<-m||1-Ne>y?S():de(Ey(se,re.current),{mode:"enter"})}}),me=Ct(function(q){if(!(!re.current||!D.current)&&!(ga!=null&&ga!==W.current)){var ce=Wp(r,s),se=Bl(s),Se=$A(ce,q.touches),be=XA(ce,q.touches);if(M&&re.current.contains(q.target)&&ga==null){var Ce=que(q.target,re.current),Le=$ue({domTreeShapes:Ce,start:se?W.current.startX:W.current.startY,current:se?Se:be,anchor:s});if(Le){ga=Le;return}ga=W.current}if(W.current.isSwiping==null){var Ne=Math.abs(Se-W.current.startX),Ge=Math.abs(be-W.current.startY);Ne>Ge&&q.cancelable&&q.preventDefault();var Ue=se?Ne>Ge&&Ne>Lw:Ge>Ne&&Ge>Lw;if(Ue===!0||(se?Ge>Lw:Ne>Lw)){if(W.current.isSwiping=Ue,!Ue){Me(q);return}W.current.startX=Se,W.current.startY=be,!u&&!M&&(se?W.current.startX-=A:W.current.startY-=A)}}if(!!W.current.isSwiping){var C=Ey(se,re.current),w=se?W.current.startX:W.current.startY;M&&!W.current.paperHit&&(w=Math.min(w,C));var H=gG(se?Se:be,w,M,C);if(M)if(W.current.paperHit)H===0&&(W.current.startX=Se,W.current.startY=be);else{var ee=se?Se<C:be<C;if(ee)W.current.paperHit=!0,W.current.startX=Se,W.current.startY=be;else return}W.current.lastTranslate===null&&(W.current.lastTranslate=H,W.current.lastTime=performance.now()+1);var ue=(H-W.current.lastTranslate)/(performance.now()-W.current.lastTime)*1e3;W.current.velocity=W.current.velocity*.4+ue*.6,W.current.lastTranslate=H,W.current.lastTime=performance.now(),q.cancelable&&q.preventDefault(),de(H)}}}),Pe=Ct(function(q){if(!q.defaultPrevented&&!q.muiHandled&&!(M&&!oe.current.contains(q.target)&&!re.current.contains(q.target))){var ce=Wp(r,s),se=Bl(s),Se=$A(ce,q.touches),be=XA(ce,q.touches);if(!M){if(p||q.target!==J.current)return;if(se){if(Se>A)return}else if(be>A)return}q.muiHandled=!0,ga=null,W.current.startX=Se,W.current.startY=be,$(!0),!M&&re.current&&de(Ey(se,re.current)+(u?20:-A),{changeTransition:!1}),W.current.velocity=0,W.current.lastTime=null,W.current.lastTranslate=null,W.current.paperHit=!1,D.current=!0}});Qt.useEffect(function(){if(N==="temporary"){var q=$t(re.current);return q.addEventListener("touchstart",Pe),q.addEventListener("touchmove",me,{passive:!1}),q.addEventListener("touchend",Me),function(){q.removeEventListener("touchstart",Pe),q.removeEventListener("touchmove",me,{passive:!1}),q.removeEventListener("touchend",Me)}}},[N,Pe,me,Me]),Qt.useEffect(function(){return function(){ga===W.current&&(ga=null)}},[]),Qt.useEffect(function(){M||$(!1)},[M]);var _e=Qt.useCallback(function(q){oe.current=hG.findDOMNode(q)},[]);return Qt.createElement(Qt.Fragment,null,Qt.createElement(O_,B({open:N==="temporary"&&pe?!0:M,variant:N,ModalProps:B({BackdropProps:B({},b,{ref:_e})},x),PaperProps:B({},L,{style:B({pointerEvents:N==="temporary"&&!M?"none":""},L.style),ref:re}),anchor:s,transitionDuration:Te.current||U,onClose:_,ref:t},j)),!p&&N==="temporary"&&Qt.createElement(pw,null,Qt.createElement(fG,B({anchor:s,ref:J,width:A},I))))});var Lu=R(we()),WJe=R(Ae()),YA=R(Be()),jJe=R(st());var Kue=function(e){return{root:{display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:e.palette.type==="light"?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:e.palette.type==="light"?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:vt(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:vt(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.type==="light"?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.palette.type==="light"?e.palette.common.black:e.palette.common.white,opacity:e.palette.type==="light"?.38:.3}}},Que=Lu.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.color,s=o===void 0?"secondary":o,a=e.edge,l=a===void 0?!1:a,c=e.size,u=c===void 0?"medium":c,d=ie(e,["classes","className","color","edge","size"]),p=Lu.createElement("span",{className:r.thumb});return Lu.createElement("span",{className:(0,YA.default)(r.root,i,{start:r.edgeStart,end:r.edgeEnd}[l],u==="small"&&r["size".concat(Fe(u))])},Lu.createElement(zp,B({type:"checkbox",icon:p,checkedIcon:p,classes:{root:(0,YA.default)(r.switchBase,r["color".concat(Fe(s))]),input:r.input,checked:r.checked,disabled:r.disabled},ref:t},d)),Lu.createElement("span",{className:r.track}))}),yG=ye(Kue,{name:"MuiSwitch"})(Que);var Py=R(we()),rZe=R(Ae()),vG=R(Be());var ede=function(e){var t;return{root:B({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},ft(t,e.breakpoints.up("sm"),{padding:"6px 24px"}),ft(t,"overflow","hidden"),ft(t,"whiteSpace","normal"),ft(t,"textAlign","center"),ft(t,e.breakpoints.up("sm"),{minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}},tde=Py.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.disabled,s=o===void 0?!1:o,a=e.disableFocusRipple,l=a===void 0?!1:a,c=e.fullWidth,u=e.icon,d=e.indicator,p=e.label,f=e.onChange,g=e.onClick,y=e.onFocus,v=e.selected,m=e.selectionFollowsFocus,h=e.textColor,b=h===void 0?"inherit":h,x=e.value,_=e.wrapped,S=_===void 0?!1:_,M=ie(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"]),E=function(T){f&&f(T,x),g&&g(T)},L=function(T){m&&!v&&f&&f(T,x),y&&y(T)};return Py.createElement(kt,B({focusRipple:!l,className:(0,vG.default)(r.root,r["textColor".concat(Fe(b))],i,s&&r.disabled,v&&r.selected,p&&u&&r.labelIcon,c&&r.fullWidth,S&&r.wrapped),ref:t,role:"tab","aria-selected":v,disabled:s,onClick:E,onFocus:L,tabIndex:v?0:-1},M),Py.createElement("span",{className:r.wrapper},u,p),d)}),xG=ye(ede,{name:"MuiTab"})(tde);var Du=R(we()),gZe=R(Ae()),_G=R(Be());var bG=R(we()),nde=bG.createContext(),Dw=nde;var rde=function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":B({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}},wG="table",ide=Du.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?wG:o,a=e.padding,l=a===void 0?"default":a,c=e.size,u=c===void 0?"medium":c,d=e.stickyHeader,p=d===void 0?!1:d,f=ie(e,["classes","className","component","padding","size","stickyHeader"]),g=Du.useMemo(function(){return{padding:l,size:u,stickyHeader:p}},[l,u,p]);return Du.createElement(Dw.Provider,{value:g},Du.createElement(s,B({role:s===wG?null:"table",ref:t,className:(0,_G.default)(r.root,i,p&&r.stickyHeader)},f)))}),TG=ye(rde,{name:"MuiTable"})(ide);var Ry=R(we()),EZe=R(Ae()),MG=R(Be());var SG=R(we()),ode=SG.createContext(),Fs=ode;var sde={root:{display:"table-row-group"}},ade={variant:"body"},EG="tbody",lde=Ry.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?EG:o,a=ie(e,["classes","className","component"]);return Ry.createElement(Fs.Provider,{value:ade},Ry.createElement(s,B({className:(0,MG.default)(r.root,i),ref:t,role:s===EG?null:"rowgroup"},a)))}),PG=ye(sde,{name:"MuiTableBody"})(lde);var Nu=R(we()),OZe=R(Ae()),RG=R(Be());var cde=function(e){return{root:B({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:`1px solid
    `.concat(e.palette.type==="light"?oa(vt(e.palette.divider,1),.88):ia(vt(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}},ude=Nu.forwardRef(function(e,t){var r=e.align,i=r===void 0?"inherit":r,o=e.classes,s=e.className,a=e.component,l=e.padding,c=e.scope,u=e.size,d=e.sortDirection,p=e.variant,f=ie(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),g=Nu.useContext(Dw),y=Nu.useContext(Fs),v=y&&y.variant==="head",m,h;a?(h=a,m=v?"columnheader":"cell"):h=v?"th":"td";var b=c;!b&&v&&(b="col");var x=l||(g&&g.padding?g.padding:"default"),_=u||(g&&g.size?g.size:"medium"),S=p||y&&y.variant,M=null;return d&&(M=d==="asc"?"ascending":"descending"),Nu.createElement(h,B({ref:t,className:(0,RG.default)(o.root,o[S],s,i!=="inherit"&&o["align".concat(Fe(i))],x!=="default"&&o["padding".concat(Fe(x))],_!=="medium"&&o["size".concat(Fe(_))],S==="head"&&g&&g.stickyHeader&&o.stickyHeader),"aria-sort":M,role:m,scope:b},f))}),Cy=ye(cde,{name:"MuiTableCell"})(ude);var Nw=R(we()),$Ze=R(Ae()),CG=R(Be());var dde={root:{width:"100%",overflowX:"auto"}},pde=Nw.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?"div":o,a=ie(e,["classes","className","component"]);return Nw.createElement(s,B({ref:t,className:(0,CG.default)(r.root,i)},a))}),AG=ye(dde,{name:"MuiTableContainer"})(pde);var Ay=R(we()),tKe=R(Ae()),LG=R(Be());var fde={root:{display:"table-footer-group"}},hde={variant:"footer"},DG="tfoot",mde=Ay.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?DG:o,a=ie(e,["classes","className","component"]);return Ay.createElement(Fs.Provider,{value:hde},Ay.createElement(s,B({className:(0,LG.default)(r.root,i),ref:t,role:s===DG?null:"rowgroup"},a)))}),NG=ye(fde,{name:"MuiTableFooter"})(mde);var Ly=R(we()),uKe=R(Ae()),IG=R(Be());var gde={root:{display:"table-header-group"}},yde={variant:"head"},OG="thead",vde=Ly.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?OG:o,a=ie(e,["classes","className","component"]);return Ly.createElement(Fs.Provider,{value:yde},Ly.createElement(s,B({className:(0,IG.default)(r.root,i),ref:t,role:s===OG?null:"rowgroup"},a)))}),FG=ye(gde,{name:"MuiTableHead"})(vde);var Do=R(we()),VKe=R(Ae()),WKe=R(st()),JA=R(Be());var Iw=R(we()),bKe=R(Ae()),kG=R(Be());var xde=function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:ft({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}},bde=Iw.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?"div":o,a=e.disableGutters,l=a===void 0?!1:a,c=e.variant,u=c===void 0?"regular":c,d=ie(e,["classes","className","component","disableGutters","variant"]);return Iw.createElement(s,B({className:(0,kG.default)(r.root,r[u],i,!l&&r.gutters),ref:t},d))}),Ow=ye(xde,{name:"MuiToolbar"})(bde);var ks=R(we()),DKe=R(Ae());var BG=R(we());var Dy=Ht(BG.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft");var zG=R(we());var Ny=Ht(zG.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var _de=ks.createElement(Ny,null),wde=ks.createElement(Dy,null),Tde=ks.createElement(Dy,null),Sde=ks.createElement(Ny,null),Mde=ks.forwardRef(function(e,t){var r=e.backIconButtonProps,i=e.count,o=e.nextIconButtonProps,s=e.onChangePage,a=e.page,l=e.rowsPerPage,c=ie(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","page","rowsPerPage"]),u=Pt(),d=function(g){s(g,a-1)},p=function(g){s(g,a+1)};return ks.createElement("div",B({ref:t},c),ks.createElement(or,B({onClick:d,disabled:a===0,color:"inherit"},r),u.direction==="rtl"?_de:wde),ks.createElement(or,B({onClick:p,disabled:i!==-1?a>=Math.ceil(i/l)-1:!1,color:"inherit"},o),u.direction==="rtl"?Tde:Sde))}),UG=Mde;var Ede=function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}},Pde=function(e){var t=e.from,r=e.to,i=e.count;return"".concat(t,"-").concat(r," of ").concat(i!==-1?i:"more than ".concat(r))},Rde=[10,25,50,100],Cde=Do.forwardRef(function(e,t){var r=e.ActionsComponent,i=r===void 0?UG:r,o=e.backIconButtonProps,s=e.backIconButtonText,a=s===void 0?"Previous page":s,l=e.classes,c=e.className,u=e.colSpan,d=e.component,p=d===void 0?Cy:d,f=e.count,g=e.labelDisplayedRows,y=g===void 0?Pde:g,v=e.labelRowsPerPage,m=v===void 0?"Rows per page:":v,h=e.nextIconButtonProps,b=e.nextIconButtonText,x=b===void 0?"Next page":b,_=e.onChangePage,S=e.onChangeRowsPerPage,M=e.page,E=e.rowsPerPage,L=e.rowsPerPageOptions,I=L===void 0?Rde:L,T=e.SelectProps,A=T===void 0?{}:T,k=ie(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onChangeRowsPerPage","page","rowsPerPage","rowsPerPageOptions","SelectProps"]),U;(p===Cy||p==="td")&&(U=u||1e3);var F=ca(),N=ca(),j=A.native?"option":Zp;return Do.createElement(p,B({className:(0,JA.default)(l.root,c),colSpan:U,ref:t},k),Do.createElement(Ow,{className:l.toolbar},Do.createElement("div",{className:l.spacer}),I.length>1&&Do.createElement(Xt,{color:"inherit",variant:"body2",className:l.caption,id:N},m),I.length>1&&Do.createElement(sf,B({classes:{select:l.select,icon:l.selectIcon},input:Do.createElement(Ds,{className:(0,JA.default)(l.input,l.selectRoot)}),value:E,onChange:S,id:F,labelId:N},A),I.map(function(Y){return Do.createElement(j,{className:l.menuItem,key:Y.value?Y.value:Y,value:Y.value?Y.value:Y},Y.label?Y.label:Y)})),Do.createElement(Xt,{color:"inherit",variant:"body2",className:l.caption},y({from:f===0?0:M*E+1,to:f!==-1?Math.min(f,(M+1)*E):(M+1)*E,count:f===-1?-1:f,page:M})),Do.createElement(i,{className:l.actions,backIconButtonProps:B({title:a,"aria-label":a},o),count:f,nextIconButtonProps:B({title:x,"aria-label":x},h),onChangePage:_,page:M,rowsPerPage:E})))}),VG=ye(Ede,{name:"MuiTablePagination"})(Cde);var cf=R(we()),oQe=R(Ae()),HG=R(Be());var Ade=function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:vt(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}},WG="tr",Lde=cf.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.component,s=o===void 0?WG:o,a=e.hover,l=a===void 0?!1:a,c=e.selected,u=c===void 0?!1:c,d=ie(e,["classes","className","component","hover","selected"]),p=cf.useContext(Fs);return cf.createElement(s,B({ref:t,className:(0,HG.default)(r.root,i,p&&{head:r.head,footer:r.footer}[p.variant],l&&r.hover,u&&r.selected),role:s===WG?null:"row"},d))}),GG=ye(Ade,{name:"MuiTableRow"})(Lde);var Iy=R(we()),yQe=R(Ae()),ZA=R(Be());var jG=R(we());var qG=Ht(jG.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var Dde=function(e){return{root:{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:e.palette.text.secondary},"&:hover":{color:e.palette.text.secondary,"& $icon":{opacity:.5}},"&$active":{color:e.palette.text.primary,"&& $icon":{opacity:1,color:e.palette.text.secondary}}},active:{},icon:{fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none"},iconDirectionDesc:{transform:"rotate(0deg)"},iconDirectionAsc:{transform:"rotate(180deg)"}}},Nde=Iy.forwardRef(function(e,t){var r=e.active,i=r===void 0?!1:r,o=e.children,s=e.classes,a=e.className,l=e.direction,c=l===void 0?"asc":l,u=e.hideSortIcon,d=u===void 0?!1:u,p=e.IconComponent,f=p===void 0?qG:p,g=ie(e,["active","children","classes","className","direction","hideSortIcon","IconComponent"]);return Iy.createElement(kt,B({className:(0,ZA.default)(s.root,a,i&&s.active),component:"span",disableRipple:!0,ref:t},g),o,d&&!i?null:Iy.createElement(f,{className:(0,ZA.default)(s.icon,s["iconDirection".concat(Fe(c))])}))}),$G=ye(Dde,{name:"MuiTableSortLabel"})(Nde);var At=R(we()),tet=R($i()),ret=R(Ae()),pf=R(Be()),oet=R(st());var uf;function KA(){if(uf)return uf;var n=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",n.appendChild(e),n.dir="rtl",n.style.fontSize="14px",n.style.width="4px",n.style.height="1px",n.style.position="absolute",n.style.top="-1000px",n.style.overflow="scroll",document.body.appendChild(n),uf="reverse",n.scrollLeft>0?uf="default":(n.scrollLeft=1,n.scrollLeft===0&&(uf="negative")),document.body.removeChild(n),uf}function QA(n,e){var t=n.scrollLeft;if(e!=="rtl")return t;var r=KA();switch(r){case"negative":return n.scrollWidth-n.clientWidth+t;case"reverse":return n.scrollWidth-n.clientWidth-t;default:return t}}function Ide(n){return(1+Math.sin(Math.PI*n-Math.PI/2))/2}function e2(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:function(){},o=r.ease,s=o===void 0?Ide:o,a=r.duration,l=a===void 0?300:a,c=null,u=e[n],d=!1,p=function(){d=!0},f=function g(y){if(d){i(new Error("Animation cancelled"));return}c===null&&(c=y);var v=Math.min(1,(y-c)/l);if(e[n]=s(v)*(t-u)+u,v>=1){requestAnimationFrame(function(){i(null)});return}requestAnimationFrame(g)};return u===t?(i(new Error("Element already at target position")),p):(requestAnimationFrame(f),p)}var Jl=R(we()),AQe=R(Ae());var Ode={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function t2(n){var e=n.onChange,t=ie(n,["onChange"]),r=Jl.useRef(),i=Jl.useRef(null),o=function(){r.current=i.current.offsetHeight-i.current.clientHeight};return Jl.useEffect(function(){var s=Ti(function(){var a=r.current;o(),a!==r.current&&e(r.current)});return window.addEventListener("resize",s),function(){s.clear(),window.removeEventListener("resize",s)}},[e]),Jl.useEffect(function(){o(),e(r.current)},[e]),Jl.createElement("div",B({style:Ode,ref:i},t))}var Fw=R(we()),FQe=R(Ae()),XG=R(Be());var Fde=function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}},kde=Fw.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.color,s=e.orientation,a=ie(e,["classes","className","color","orientation"]);return Fw.createElement("span",B({className:(0,XG.default)(r.root,r["color".concat(Fe(o))],i,s==="vertical"&&r.vertical),ref:t},a))}),YG=ye(Fde,{name:"PrivateTabIndicator"})(kde);var df=R(we()),WQe=R(Ae()),JG=R(Be());var Bde={root:{width:40,flexShrink:0,opacity:.8,"&$disabled":{opacity:0}},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}},disabled:{}},zde=df.createElement(Dy,{fontSize:"small"}),Ude=df.createElement(Ny,{fontSize:"small"}),Vde=df.forwardRef(function(e,t){var r=e.classes,i=e.className,o=e.direction,s=e.orientation,a=e.disabled,l=ie(e,["classes","className","direction","orientation","disabled"]);return df.createElement(kt,B({component:"div",className:(0,JG.default)(r.root,i,a&&r.disabled,s==="vertical"&&r.vertical),ref:t,role:null,tabIndex:null},l),o==="left"?zde:Ude)}),kw=ye(Bde,{name:"MuiTabScrollButton"})(Vde);var Hde=function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:ft({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}},Wde=At.forwardRef(function(e,t){var r=e["aria-label"],i=e["aria-labelledby"],o=e.action,s=e.centered,a=s===void 0?!1:s,l=e.children,c=e.classes,u=e.className,d=e.component,p=d===void 0?"div":d,f=e.indicatorColor,g=f===void 0?"secondary":f,y=e.onChange,v=e.orientation,m=v===void 0?"horizontal":v,h=e.ScrollButtonComponent,b=h===void 0?kw:h,x=e.scrollButtons,_=x===void 0?"auto":x,S=e.selectionFollowsFocus,M=e.TabIndicatorProps,E=M===void 0?{}:M,L=e.TabScrollButtonProps,I=e.textColor,T=I===void 0?"inherit":I,A=e.value,k=e.variant,U=k===void 0?"standard":k,F=ie(e,["aria-label","aria-labelledby","action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant"]),N=Pt(),j=U==="scrollable",Y=N.direction==="rtl",pe=m==="vertical",$=pe?"scrollTop":"scrollLeft",W=pe?"top":"left",J=pe?"bottom":"right",oe=pe?"clientHeight":"clientWidth",re=pe?"height":"width",D=At.useState(!1),Te=D[0],de=D[1],Me=At.useState({}),me=Me[0],Pe=Me[1],_e=At.useState({start:!1,end:!1}),q=_e[0],ce=_e[1],se=At.useState({overflow:"hidden",marginBottom:null}),Se=se[0],be=se[1],Ce=new Map,Le=At.useRef(null),Ne=At.useRef(null),Ge=function(){var V=Le.current,Ee;if(V){var Oe=V.getBoundingClientRect();Ee={clientWidth:V.clientWidth,scrollLeft:V.scrollLeft,scrollTop:V.scrollTop,scrollLeftNormalized:QA(V,N.direction),scrollWidth:V.scrollWidth,top:Oe.top,bottom:Oe.bottom,left:Oe.left,right:Oe.right}}var We;if(V&&A!==!1){var nt=Ne.current.children;if(nt.length>0){var Xe=nt[Ce.get(A)];We=Xe?Xe.getBoundingClientRect():null}}return{tabsMeta:Ee,tabMeta:We}},Ue=Ct(function(){var he,V=Ge(),Ee=V.tabsMeta,Oe=V.tabMeta,We=0;if(Oe&&Ee)if(pe)We=Oe.top-Ee.top+Ee.scrollTop;else{var nt=Y?Ee.scrollLeftNormalized+Ee.clientWidth-Ee.scrollWidth:Ee.scrollLeft;We=Oe.left-Ee.left+nt}var Xe=(he={},ft(he,W,We),ft(he,re,Oe?Oe[re]:0),he);if(isNaN(me[W])||isNaN(me[re]))Pe(Xe);else{var bt=Math.abs(me[W]-Xe[W]),yt=Math.abs(me[re]-Xe[re]);(bt>=1||yt>=1)&&Pe(Xe)}}),C=function(V){e2($,Le.current,V)},w=function(V){var Ee=Le.current[$];pe?Ee+=V:(Ee+=V*(Y?-1:1),Ee*=Y&&KA()==="reverse"?-1:1),C(Ee)},H=function(){w(-Le.current[oe])},ee=function(){w(Le.current[oe])},ue=At.useCallback(function(he){be({overflow:null,marginBottom:-he})},[]),G=function(){var V={};V.scrollbarSizeListener=j?At.createElement(t2,{className:c.scrollable,onChange:ue}):null;var Ee=q.start||q.end,Oe=j&&(_==="auto"&&Ee||_==="desktop"||_==="on");return V.scrollButtonStart=Oe?At.createElement(b,B({orientation:m,direction:Y?"right":"left",onClick:H,disabled:!q.start,className:(0,pf.default)(c.scrollButtons,_!=="on"&&c.scrollButtonsDesktop)},L)):null,V.scrollButtonEnd=Oe?At.createElement(b,B({orientation:m,direction:Y?"left":"right",onClick:ee,disabled:!q.end,className:(0,pf.default)(c.scrollButtons,_!=="on"&&c.scrollButtonsDesktop)},L)):null,V},ge=Ct(function(){var he=Ge(),V=he.tabsMeta,Ee=he.tabMeta;if(!(!Ee||!V)){if(Ee[W]<V[W]){var Oe=V[$]+(Ee[W]-V[W]);C(Oe)}else if(Ee[J]>V[J]){var We=V[$]+(Ee[J]-V[J]);C(We)}}}),fe=Ct(function(){if(j&&_!=="off"){var he=Le.current,V=he.scrollTop,Ee=he.scrollHeight,Oe=he.clientHeight,We=he.scrollWidth,nt=he.clientWidth,Xe,bt;if(pe)Xe=V>1,bt=V<Ee-Oe-1;else{var yt=QA(Le.current,N.direction);Xe=Y?yt<We-nt-1:yt>1,bt=Y?yt>1:yt<We-nt-1}(Xe!==q.start||bt!==q.end)&&ce({start:Xe,end:bt})}});At.useEffect(function(){var he=Ti(function(){Ue(),fe()}),V=Rl(Le.current);return V.addEventListener("resize",he),function(){he.clear(),V.removeEventListener("resize",he)}},[Ue,fe]);var le=At.useCallback(Ti(function(){fe()}));At.useEffect(function(){return function(){le.clear()}},[le]),At.useEffect(function(){de(!0)},[]),At.useEffect(function(){Ue(),fe()}),At.useEffect(function(){ge()},[ge,me]),At.useImperativeHandle(o,function(){return{updateIndicator:Ue,updateScrollButtons:fe}},[Ue,fe]);var ve=At.createElement(YG,B({className:c.indicator,orientation:m,color:g},E,{style:B({},me,E.style)})),De=0,z=At.Children.map(l,function(he){if(!At.isValidElement(he))return null;var V=he.props.value===void 0?De:he.props.value;Ce.set(V,De);var Ee=V===A;return De+=1,At.cloneElement(he,{fullWidth:U==="fullWidth",indicator:Ee&&!Te&&ve,selected:Ee,selectionFollowsFocus:S,onChange:y,textColor:T,value:V})}),xe=function(V){var Ee=V.target,Oe=Ee.getAttribute("role");if(Oe==="tab"){var We=null,nt=m!=="vertical"?"ArrowLeft":"ArrowUp",Xe=m!=="vertical"?"ArrowRight":"ArrowDown";switch(m!=="vertical"&&N.direction==="rtl"&&(nt="ArrowRight",Xe="ArrowLeft"),V.key){case nt:We=Ee.previousElementSibling||Ne.current.lastChild;break;case Xe:We=Ee.nextElementSibling||Ne.current.firstChild;break;case"Home":We=Ne.current.firstChild;break;case"End":We=Ne.current.lastChild;break;default:break}We!==null&&(We.focus(),V.preventDefault())}},ne=G();return At.createElement(p,B({className:(0,pf.default)(c.root,u,pe&&c.vertical),ref:t},F),ne.scrollButtonStart,ne.scrollbarSizeListener,At.createElement("div",{className:(0,pf.default)(c.scroller,j?c.scrollable:c.fixed),style:Se,ref:Le,onScroll:le},At.createElement("div",{"aria-label":r,"aria-labelledby":i,className:(0,pf.default)(c.flexContainer,pe&&c.flexContainerVertical,a&&!j&&c.centered),onKeyDown:xe,ref:Ne,role:"tablist"},z),Te&&ve),ne.scrollButtonEnd)}),ZG=ye(Hde,{name:"MuiTabs"})(Wde);var Zo=R(we()),Tet=R(Ae()),KG=R(Be()),Eet=R(st());var Gde={standard:Hl,filled:jp,outlined:Qp},jde={root:{}},qde=Zo.forwardRef(function(e,t){var r=e.autoComplete,i=e.autoFocus,o=i===void 0?!1:i,s=e.children,a=e.classes,l=e.className,c=e.color,u=c===void 0?"primary":c,d=e.defaultValue,p=e.disabled,f=p===void 0?!1:p,g=e.error,y=g===void 0?!1:g,v=e.FormHelperTextProps,m=e.fullWidth,h=m===void 0?!1:m,b=e.helperText,x=e.hiddenLabel,_=e.id,S=e.InputLabelProps,M=e.inputProps,E=e.InputProps,L=e.inputRef,I=e.label,T=e.multiline,A=T===void 0?!1:T,k=e.name,U=e.onBlur,F=e.onChange,N=e.onFocus,j=e.placeholder,Y=e.required,pe=Y===void 0?!1:Y,$=e.rows,W=e.rowsMax,J=e.select,oe=J===void 0?!1:J,re=e.SelectProps,D=e.type,Te=e.value,de=e.variant,Me=de===void 0?"standard":de,me=ie(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]),Pe={};if(Me==="outlined"&&(S&&typeof S.shrink!="undefined"&&(Pe.notched=S.shrink),I)){var _e,q=(_e=S==null?void 0:S.required)!==null&&_e!==void 0?_e:pe;Pe.label=Zo.createElement(Zo.Fragment,null,I,q&&"\xA0*")}oe&&((!re||!re.native)&&(Pe.id=void 0),Pe["aria-describedby"]=void 0);var ce=b&&_?"".concat(_,"-helper-text"):void 0,se=I&&_?"".concat(_,"-label"):void 0,Se=Gde[Me],be=Zo.createElement(Se,B({"aria-describedby":ce,autoComplete:r,autoFocus:o,defaultValue:d,fullWidth:h,multiline:A,name:k,rows:$,rowsMax:W,type:D,value:Te,id:_,inputRef:L,onBlur:U,onChange:F,onFocus:N,placeholder:j,inputProps:M},Pe,E));return Zo.createElement(W_,B({className:(0,KG.default)(a.root,l),disabled:f,error:y,fullWidth:h,hiddenLabel:x,ref:t,required:pe,color:u,variant:Me},me),I&&Zo.createElement(ew,B({htmlFor:_,id:se},S),I),oe?Zo.createElement(sf,B({"aria-describedby":ce,id:_,labelId:se,value:Te,input:be},re),s):be,b&&Zo.createElement(q_,B({id:ce},v),b))}),QG=ye(jde,{name:"MuiTextField"})(qde);var en=R(we()),e6=R(fr()),Wet=R(Ae()),Bw=R(Be()),t6=R(st());function n6(n){return Math.round(n*1e5)/1e5}function $de(){return{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}}}var Xde=function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:$de(),tooltip:{backgroundColor:vt(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(n6(14/10),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:vt(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(n6(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:ft({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:ft({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:ft({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:ft({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}},zw=!1,n2=null;var Yde=en.forwardRef(function(e,t){var r=e.arrow,i=r===void 0?!1:r,o=e.children,s=e.classes,a=e.disableFocusListener,l=a===void 0?!1:a,c=e.disableHoverListener,u=c===void 0?!1:c,d=e.disableTouchListener,p=d===void 0?!1:d,f=e.enterDelay,g=f===void 0?100:f,y=e.enterNextDelay,v=y===void 0?0:y,m=e.enterTouchDelay,h=m===void 0?700:m,b=e.id,x=e.interactive,_=x===void 0?!1:x,S=e.leaveDelay,M=S===void 0?0:S,E=e.leaveTouchDelay,L=E===void 0?1500:E,I=e.onClose,T=e.onOpen,A=e.open,k=e.placement,U=k===void 0?"bottom":k,F=e.PopperComponent,N=F===void 0?yw:F,j=e.PopperProps,Y=e.title,pe=e.TransitionComponent,$=pe===void 0?Ul:pe,W=e.TransitionProps,J=ie(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),oe=Pt(),re=en.useState(),D=re[0],Te=re[1],de=en.useState(null),Me=de[0],me=de[1],Pe=en.useRef(!1),_e=en.useRef(),q=en.useRef(),ce=en.useRef(),se=en.useRef(),Se=ri({controlled:A,default:!1,name:"Tooltip",state:"open"}),be=An(Se,2),Ce=be[0],Le=be[1],Ne=Ce;if(!1)var Ge,Ue;var C=ca(b);en.useEffect(function(){return function(){clearTimeout(_e.current),clearTimeout(q.current),clearTimeout(ce.current),clearTimeout(se.current)}},[]);var w=function(Rt){clearTimeout(n2),zw=!0,Le(!0),T&&T(Rt)},H=function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function(Dt){var Je=o.props;Dt.type==="mouseover"&&Je.onMouseOver&&Rt&&Je.onMouseOver(Dt),!(Pe.current&&Dt.type!=="touchstart")&&(D&&D.removeAttribute("title"),clearTimeout(q.current),clearTimeout(ce.current),g||zw&&v?(Dt.persist(),q.current=setTimeout(function(){w(Dt)},zw?v:g)):w(Dt))}},ee=Ms(),ue=ee.isFocusVisible,G=ee.onBlurVisible,ge=ee.ref,fe=en.useState(!1),le=fe[0],ve=fe[1],De=function(){le&&(ve(!1),G())},z=function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function(Dt){D||Te(Dt.currentTarget),ue(Dt)&&(ve(!0),H()(Dt));var Je=o.props;Je.onFocus&&Rt&&Je.onFocus(Dt)}},xe=function(Rt){clearTimeout(n2),n2=setTimeout(function(){zw=!1},800+M),Le(!1),I&&I(Rt),clearTimeout(_e.current),_e.current=setTimeout(function(){Pe.current=!1},oe.transitions.duration.shortest)},ne=function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function(Dt){var Je=o.props;Dt.type==="blur"&&(Je.onBlur&&Rt&&Je.onBlur(Dt),De()),Dt.type==="mouseleave"&&Je.onMouseLeave&&Dt.currentTarget===D&&Je.onMouseLeave(Dt),clearTimeout(q.current),clearTimeout(ce.current),Dt.persist(),ce.current=setTimeout(function(){xe(Dt)},M)}},he=function(Rt){Pe.current=!0;var Dt=o.props;Dt.onTouchStart&&Dt.onTouchStart(Rt)},V=function(Rt){he(Rt),clearTimeout(ce.current),clearTimeout(_e.current),clearTimeout(se.current),Rt.persist(),se.current=setTimeout(function(){H()(Rt)},h)},Ee=function(Rt){o.props.onTouchEnd&&o.props.onTouchEnd(Rt),clearTimeout(se.current),clearTimeout(ce.current),Rt.persist(),ce.current=setTimeout(function(){xe(Rt)},L)},Oe=pt(Te,t),We=pt(ge,Oe),nt=en.useCallback(function(zt){hr(We,e6.findDOMNode(zt))},[We]),Xe=pt(o.ref,nt);Y===""&&(Ne=!1);var bt=!Ne&&!u,yt=B({"aria-describedby":Ne?C:null,title:bt&&typeof Y=="string"?Y:null},J,o.props,{className:(0,Bw.default)(J.className,o.props.className),onTouchStart:he,ref:Xe}),un={};p||(yt.onTouchStart=V,yt.onTouchEnd=Ee),u||(yt.onMouseOver=H(),yt.onMouseLeave=ne(),_&&(un.onMouseOver=H(!1),un.onMouseLeave=ne(!1))),l||(yt.onFocus=z(),yt.onBlur=ne(),_&&(un.onFocus=z(!1),un.onBlur=ne(!1)));var zo=en.useMemo(function(){return(0,t6.deepmerge)({popperOptions:{modifiers:{arrow:{enabled:Boolean(Me),element:Me}}}},j)},[Me,j]);return en.createElement(en.Fragment,null,en.cloneElement(o,yt),en.createElement(N,B({className:(0,Bw.default)(s.popper,_&&s.popperInteractive,i&&s.popperArrow),placement:U,anchorEl:D,open:D?Ne:!1,id:yt["aria-describedby"],transition:!0},un,zo),function(zt){var Rt=zt.placement,Dt=zt.TransitionProps;return en.createElement($,B({timeout:oe.transitions.duration.shorter},Dt,W),en.createElement("div",{className:(0,Bw.default)(s.tooltip,s["tooltipPlacement".concat(Fe(Rt.split("-")[0]))],Pe.current&&s.touch,i&&s.tooltipArrow)},Y,i?en.createElement("span",{className:s.arrow,ref:me}):null))}))}),Iu=ye(Xde,{name:"MuiTooltip",flip:!1})(Yde);var r2=R(we());var ltt=typeof window!="undefined"?window:null;var Zde=R(we()),ftt=R(Ae());var Zl=R(we()),wtt=R(Ae());var Qde={entering:{transform:"none"},entered:{transform:"none"}},epe={enter:fn.enteringScreen,exit:fn.leavingScreen},Ctt=Zl.forwardRef(function(e,t){var r=e.children,i=e.disableStrictModeCompat,o=i===void 0?!1:i,s=e.in,a=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,p=e.onExiting,f=e.style,g=e.timeout,y=g===void 0?epe:g,v=e.TransitionComponent,m=v===void 0?eo:v,h=ie(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),b=Pt(),x=b.unstable_strictMode&&!o,_=Zl.useRef(null),S=pt(r.ref,t),M=pt(x?_:void 0,S),E=function(N){return function(j,Y){if(N){var pe=x?[_.current,j]:[j,Y],$=An(pe,2),W=$[0],J=$[1];J===void 0?N(W):N(W,J)}}},L=E(c),I=E(function(F,N){Ll(F);var j=Br({style:f,timeout:y},{mode:"enter"});F.style.webkitTransition=b.transitions.create("transform",j),F.style.transition=b.transitions.create("transform",j),a&&a(F,N)}),T=E(l),A=E(p),k=E(function(F){var N=Br({style:f,timeout:y},{mode:"exit"});F.style.webkitTransition=b.transitions.create("transform",N),F.style.transition=b.transitions.create("transform",N),u&&u(F)}),U=E(d);return Zl.createElement(m,B({appear:!0,in:s,nodeRef:x?_:void 0,onEnter:I,onEntered:T,onEntering:L,onExit:k,onExited:U,onExiting:A,timeout:y},h),function(F,N){return Zl.cloneElement(r,B({style:B({transform:"scale(0)",visibility:F==="exited"&&!s?"hidden":void 0},Qde[F],f,r.props.style),ref:M},N))})});var on=R(we());var Uw=R(we());function wn(){let n=2560,[e,t]=(0,Uw.useState)(window.innerWidth/n),r=()=>{let i=window.innerWidth/n;i<.6&&(i=.6);let o=Math.floor(i*10)/10;t(o)};return(0,Uw.useEffect)(()=>(window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)),[]),e}var R8=R(p8()),C8=R(f8()),A8=R(h8()),L8=R(m8()),Bt=R(we());var $2=["L","L'","R","R'","F","F'","B","B'","U","U'","D","D'","L2","R2","F2","B2","U2","D2"],dT=class{constructor(e){this.colorB=e.b??"blk",this.colorD=e.d??"blk",this.colorF=e.f??"blk",this.colorL=e.l??"blk",this.colorR=e.r??"blk",this.colorU=e.u??"blk"}setColors(e){e.l&&(this.colorL=e.l),e.r&&(this.colorR=e.r),e.u&&(this.colorU=e.u),e.d&&(this.colorD=e.d),e.f&&(this.colorF=e.f),e.b&&(this.colorB=e.b)}rotate(e){switch(e){case"F":case"B'":[this.colorU,this.colorR,this.colorD,this.colorL]=[this.colorL,this.colorU,this.colorR,this.colorD];break;case"B":case"F'":[this.colorU,this.colorR,this.colorD,this.colorL]=[this.colorR,this.colorD,this.colorL,this.colorU];break;case"U":case"D'":[this.colorF,this.colorL,this.colorB,this.colorR]=[this.colorR,this.colorF,this.colorL,this.colorB];break;case"D":case"U'":[this.colorF,this.colorL,this.colorB,this.colorR]=[this.colorL,this.colorB,this.colorR,this.colorF];break;case"L":case"R'":[this.colorF,this.colorD,this.colorB,this.colorU]=[this.colorU,this.colorF,this.colorD,this.colorB];break;case"R":case"L'":[this.colorF,this.colorD,this.colorB,this.colorU]=[this.colorD,this.colorB,this.colorU,this.colorF];break;default:return}}printFaces(){console.log([this.colorF,this.colorB,this.colorU,this.colorD,this.colorL,this.colorR])}};var pT=class{constructor(){this.handlers=[]}excute(e){for(let t of this.handlers)t.action(e)}register(e){this.handlers.findIndex(r=>r.name==e.name)==-1?this.handlers.push(e):console.log("duplicated handler name")}remove(e){let t=this.handlers.findIndex(r=>r.name==e);t!=-1&&this.handlers.splice(t,1)}};var Hhe=n=>{let e=Number(n[0]).toString(16),t=Number(n[1]).toString(16),r=Number(n[2]).toString(16);return"#"+e+t+r},g8=n=>({toString:()=>Hhe(n)}),y8=n=>{let e=n;return{toString:()=>{let t="";for(let r in xa)if(Object.prototype.hasOwnProperty.call(xa,r)){let i=xa[r],o=e[i];t+=`${r}: ${o.toString()};
`}return t},getCurrent:()=>e,refresh:t=>{e=t},updateCurrent:(t,r,i)=>{let o=xa[t],s="blk";for(let a in ui)Object.prototype.hasOwnProperty.call(ui,a)&&ui[a]==i&&(s=a);e[o][r]=s}}},ui={yel:"#b6be46",ora:"#c78d29",blu:"#297dc7",red:"#ce276a",whi:"#ffffff",gre:"#5ea66c"};var zs={blu:Array(8).fill("blu"),gre:Array(8).fill("gre"),ora:Array(8).fill("ora"),red:Array(8).fill("red"),whi:Array(8).fill("whi"),yel:Array(8).fill("yel")},xa={L:"ora",R:"red",U:"yel",D:"whi",F:"blu",B:"gre"},v8=n=>[n.x,n.y,n.z].map(e=>e==-1?"-":e==0?"0":e==1?"1":"").join(""),x8=n=>{let e=i=>{if(i=="-")return-1;if(i=="0")return 0;if(i=="1")return 1},t={x:0,y:0,z:0},r={x:0,y:0,z:0};if(n.length==3){let i=e(n[0]),o=e(n[1]),s=e(n[2]);if(i!=null&&o!=null&&s!=null)return t.x=i,t.y=o,t.z=s,t}return r},Fu=class{constructor(e){this.onDidRestoreDispatcher=new pT;this.onDidRotateDispatcher=new pT;this.cells={};for(let t of[-1,0,1])for(let r of[-1,0,1])for(let i of[-1,0,1]){let o=v8({x:t,y:r,z:i});this.cells[o]=new dT({})}this.setColorsToSide("B",e.gre,"gre"),this.setColorsToSide("F",e.blu,"blu"),this.setColorsToSide("L",e.ora,"ora"),this.setColorsToSide("R",e.red,"red"),this.setColorsToSide("U",e.yel,"yel"),this.setColorsToSide("D",e.whi,"whi")}getAllCells(){return this.cells}setColorsToSide(e,t,r){let i=this.getSideCellsWithOrder(e);for(let o of[0,1,2,3])this.cells[i[o]].setColors({[e.toLowerCase()]:t[o]});this.cells[i[4]].setColors({[e.toLowerCase()]:r});for(let o of[5,6,7,8])this.cells[i[o]].setColors({[e.toLowerCase()]:t[o-1]})}rotateFace(e,t){return t=="clock"?[e[6],e[3],e[0],e[7],e[4],e[1],e[8],e[5],e[2]]:t=="rever"?[e[2],e[5],e[8],e[1],e[4],e[7],e[0],e[3],e[6]]:e}_rotate(e,t,r){let i=e,o=this.rotateFace(i,t);[this.cells[i[0]],this.cells[i[1]],this.cells[i[2]],this.cells[i[3]],this.cells[i[4]],this.cells[i[5]],this.cells[i[6]],this.cells[i[7]],this.cells[i[8]]]=[this.cells[o[0]],this.cells[o[1]],this.cells[o[2]],this.cells[o[3]],this.cells[o[4]],this.cells[o[5]],this.cells[o[6]],this.cells[o[7]],this.cells[o[8]]];for(let s of e.map(a=>this.cells[a]))s.rotate(r)}rotate(e){switch(e){case"F":this._rotate(this.getSideCellsWithOrder("F"),"clock",e);break;case"F'":this._rotate(this.getSideCellsWithOrder("F"),"rever",e);break;case"F2":this._rotate(this.getSideCellsWithOrder("F"),"clock","F"),this._rotate(this.getSideCellsWithOrder("F"),"clock","F");break;case"B":this._rotate(this.getSideCellsWithOrder("B"),"clock",e);break;case"B'":this._rotate(this.getSideCellsWithOrder("B"),"rever",e);break;case"B2":this._rotate(this.getSideCellsWithOrder("B"),"clock","B"),this._rotate(this.getSideCellsWithOrder("B"),"clock","B");break;case"L":this._rotate(this.getSideCellsWithOrder("L"),"clock",e);break;case"L'":this._rotate(this.getSideCellsWithOrder("L"),"rever",e);break;case"L2":this._rotate(this.getSideCellsWithOrder("L"),"clock","L"),this._rotate(this.getSideCellsWithOrder("L"),"clock","L");break;case"R":this._rotate(this.getSideCellsWithOrder("R"),"clock",e);break;case"R'":this._rotate(this.getSideCellsWithOrder("R"),"rever",e);break;case"R2":this._rotate(this.getSideCellsWithOrder("R"),"clock","R"),this._rotate(this.getSideCellsWithOrder("R"),"clock","R");break;case"U":this._rotate(this.getSideCellsWithOrder("U"),"clock",e);break;case"U'":this._rotate(this.getSideCellsWithOrder("U"),"rever",e);break;case"U2":this._rotate(this.getSideCellsWithOrder("U"),"clock","U"),this._rotate(this.getSideCellsWithOrder("U"),"clock","U");break;case"D":this._rotate(this.getSideCellsWithOrder("D"),"clock",e);break;case"D'":this._rotate(this.getSideCellsWithOrder("D"),"rever",e);break;case"D2":this._rotate(this.getSideCellsWithOrder("D"),"clock","D"),this._rotate(this.getSideCellsWithOrder("D"),"clock","D");break;default:let t=e;break}this.onDidRotateDispatcher.excute(e)}rotated(e){let t=this.getAllFaces(),r=new Fu(t);return r.rotate(e),r}getSideCellsWithOrder(e){switch(e){case"F":return["-11","011","111","-01","001","101","--1","0-1","1-1"];case"B":return["11-","01-","-1-","10-","00-","-0-","1--","0--","---"];case"L":return["-1-","-10","-11","-0-","-00","-01","---","--0","--1"];case"R":return["111","110","11-","101","100","10-","1-1","1-0","1--"];case"U":return["-1-","01-","11-","-10","010","110","-11","011","111"];case"D":return["--1","0-1","1-1","--0","0-0","1-0","---","0--","1--"];default:let t=e;return[]}}getAllFaces(){let e=this.getSideCellsWithOrder("F").map(a=>this.cells[a].colorF),t=this.getSideCellsWithOrder("L").map(a=>this.cells[a].colorL),r=this.getSideCellsWithOrder("R").map(a=>this.cells[a].colorR),i=this.getSideCellsWithOrder("U").map(a=>this.cells[a].colorU),o=this.getSideCellsWithOrder("B").map(a=>this.cells[a].colorB),s=this.getSideCellsWithOrder("D").map(a=>this.cells[a].colorD);for(let a of[e,t,r,i,o,s])a.splice(4,1);return{blu:e,ora:t,red:r,yel:i,gre:o,whi:s}}isEqualTo(e){let t=this.getAllFaces(),r=e.getAllFaces();return JSON.stringify(t.blu)==JSON.stringify(r.blu)&&JSON.stringify(t.gre)==JSON.stringify(r.gre)&&JSON.stringify(t.ora)==JSON.stringify(r.ora)&&JSON.stringify(t.red)==JSON.stringify(r.red)&&JSON.stringify(t.whi)==JSON.stringify(r.whi)&&JSON.stringify(t.yel)==JSON.stringify(r.yel)}restore(e){this.cells={};for(let t of[-1,0,1])for(let r of[-1,0,1])for(let i of[-1,0,1]){let o=v8({x:t,y:r,z:i});this.cells[o]=new dT({})}e?(this.setColorsToSide("B",e.gre,"gre"),this.setColorsToSide("F",e.blu,"blu"),this.setColorsToSide("L",e.ora,"ora"),this.setColorsToSide("R",e.red,"red"),this.setColorsToSide("U",e.yel,"yel"),this.setColorsToSide("D",e.whi,"whi")):(this.setColorsToSide("B",zs.gre,"gre"),this.setColorsToSide("F",zs.blu,"blu"),this.setColorsToSide("L",zs.ora,"ora"),this.setColorsToSide("R",zs.red,"red"),this.setColorsToSide("U",zs.yel,"yel"),this.setColorsToSide("D",zs.whi,"whi")),this.onDidRestoreDispatcher.excute()}},dat=new Fu(zs);var vat=S8(),Sn=new Fu(zs),ky=y8(zs),Y2={documentBodyBackgroudColor:g8([51,128,123])};function M8(){let n=$2.length+1;for(let e=0;e<100;e++){let t=Math.floor(Math.random()*n),r=$2.concat("none")[t];Sn.rotate(r)}}var E8=n=>{let e=n.getAllFaces();return["yel","red","blu","whi","ora","gre"].reduce((t,r,i)=>{let o=e[r],s=[0,1,2,3].map(c=>o[c]).map(c=>J2(c)).join(""),a=[4,5,6,7].map(c=>o[c]).map(c=>J2(c)).join(""),l=s.concat(J2(r)).concat(a);return t.concat(l)},"")},J2=n=>{switch(n){case"blu":return"F";case"gre":return"B";case"ora":return"L";case"red":return"R";case"whi":return"D";case"yel":return"U"}};var D8=R(P8());var By=ir({out:n=>({width:125*n.scale,height:125*n.scale,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}),item:n=>({boxShadow:"6px 6px 19px #225451, -6px -6px 19px #44aca5",width:60*n.scale+10,height:60*n.scale+10}),button:n=>({width:100*n.scale,height:100*n.scale,boxShadow:"6px 6px 19px #225451, -6px -6px 19px #44aca5"}),icon:n=>({width:70*n.scale,height:70*n.scale})}),N8=()=>{let n=wn(),e=(0,Bt.useContext)(Dn).facesContext,t=By({scale:n});return Bt.default.createElement("div",{className:t.out},Bt.default.createElement(Iu,{title:"restore","aria-label":"RestoreLable"},Bt.default.createElement(or,{className:t.item,onClick:()=>{Sn.restore(),e.updateCubeState()}},Bt.default.createElement(C8.default,{fontSize:"large"}))))},I8=()=>{let n=wn(),e=(0,Bt.useContext)(Dn).facesContext,t=By({scale:n});return Bt.default.createElement("div",{className:t.out},Bt.default.createElement(Iu,{title:"scramble","aria-label":"ScrambleLable"},Bt.default.createElement(or,{className:t.item,onClick:()=>{M8(),e.updateCubeState()}},Bt.default.createElement(R8.default,{fontSize:"large"}))))},O8=()=>{let n=wn(),e=By({scale:n}),t=(0,Bt.useContext)(Dn).stepsContext,r=(0,Bt.useContext)(Dn).computingContext;return Bt.default.createElement("div",{className:e.out},Bt.default.createElement(Iu,{title:"solve"},Bt.default.createElement(or,{className:e.item,onClick:()=>{r.updateComputingState(!0);let i=new Worker("worker.js");i.onmessage=function(a){a.data?.messageType=="solution"&&(console.log(a.data.content),t.updateSteps(a.data.content),r.updateComputingState(!1),i.terminate())};let o=E8(Sn),s={messageType:"cube",content:o};i.postMessage(s)}},Bt.default.createElement(A8.default,{fontSize:"large"}))))};var F8=()=>{let n=wn(),e=By({scale:n}),t=(0,Bt.useContext)(Dn).computingContext;return Bt.default.createElement("div",{className:e.out},Bt.default.createElement(Iu,{title:"test"},Bt.default.createElement(or,{className:e.item,onClick:()=>{t.updateComputingState(!t.isComputing)}},Bt.default.createElement(L8.default,{fontSize:"large"}))))},k8=()=>{let n=wn(),e=By({scale:n}),t=(0,Bt.useContext)(Dn).stepsContext,r=(0,Bt.useContext)(Dn).facesContext,[i,o]=(0,Bt.useState)([...t.steps.Phase1,...t.steps.Phase2]);return(0,Bt.useEffect)(()=>{o([...t.steps.Phase1,...t.steps.Phase2])},[t.steps]),Bt.default.createElement(or,{className:e.button,onClick:()=>{i.forEach((s,a)=>{setTimeout(()=>{Sn.rotate(s),r.updateCubeState()},a*1500)})}},Bt.default.createElement(D8.default,{className:e.icon}))};var zy=R(we());var Xhe=ir(n=>la({div:{zIndex:10,height:10}})),B8=()=>{let n=Xhe(),e=wn(),t=(0,zy.useContext)(Dn).computingContext;return zy.default.createElement("div",{className:n.div},zy.default.createElement(b_,{style:{height:e*300,width:e*300}}))};var Dd=R(we());var Z2="137";var Yhe=0,z8=1,Jhe=2;var U8=1,Zhe=2,Uy=3,Vy=0,mr=1,gf=2,V8=1;var ec=0,Hy=1,H8=2,W8=3,G8=4,Khe=5,yf=100,Qhe=101,eme=102,j8=103,q8=104,tme=200,nme=201,rme=202,ime=203,$8=204,X8=205,ome=206,sme=207,ame=208,lme=209,cme=210,ume=0,dme=1,pme=2,K2=3,fme=4,hme=5,mme=6,gme=7,mT=0,yme=1,vme=2,tc=0,xme=1,bme=2,_me=3,wme=4,Tme=5,Y8=300,Wy=301,Gy=302,Q2=303,eL=304,gT=306,tL=307,nL=1e3,io=1001,rL=1002,gr=1003,J8=1004;var Z8=1005;var di=1006,Sme=1007;var yT=1008;var nc=1009,Mme=1010,Eme=1011,jy=1012,Pme=1013,vT=1014,ku=1015,vf=1016,Rme=1017,Cme=1018,xf=1020,Ame=1021,Mi=1023,Lme=1024,Dme=1025,Bu=1026,bf=1027,Nme=1028,Ime=1029,Ome=1030,Fme=1031,kme=1033,iL=33776,oL=33777,sL=33778,aL=33779,K8=35840,Q8=35841,ej=35842,tj=35843,Bme=36196,nj=37492,rj=37496,ij=37808,oj=37809,sj=37810,aj=37811,lj=37812,cj=37813,uj=37814,dj=37815,pj=37816,fj=37817,hj=37818,mj=37819,gj=37820,yj=37821,vj=36492,zme=2200,Ume=2201,Vme=2202,xT=2300,bT=2301,lL=2302,_f=2400,wf=2401,_T=2402,cL=2500,xj=2501,Hme=0;var rc=3e3,Mn=3001,Wme=3200,Gme=3201,Tf=0,jme=1;var uL=7680;var qme=519,qy=35044,wT=35048;var bj="300 es",dL=1035,ic=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let i=this._listeners[e];if(i!==void 0){let o=i.indexOf(t);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let r=this._listeners[e.type];if(r!==void 0){e.target=this;let i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}},Hr=[];for(let n=0;n<256;n++)Hr[n]=(n<16?"0":"")+n.toString(16);var TT=1234567,Sf=Math.PI/180,$y=180/Math.PI;function No(){let n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Hr[n&255]+Hr[n>>8&255]+Hr[n>>16&255]+Hr[n>>24&255]+"-"+Hr[e&255]+Hr[e>>8&255]+"-"+Hr[e>>16&15|64]+Hr[e>>24&255]+"-"+Hr[t&63|128]+Hr[t>>8&255]+"-"+Hr[t>>16&255]+Hr[t>>24&255]+Hr[r&255]+Hr[r>>8&255]+Hr[r>>16&255]+Hr[r>>24&255]).toUpperCase()}function pi(n,e,t){return Math.max(e,Math.min(t,n))}function pL(n,e){return(n%e+e)%e}function $me(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Xme(n,e,t){return n!==e?(t-n)/(e-n):0}function Xy(n,e,t){return(1-t)*n+t*e}function Yme(n,e,t,r){return Xy(n,e,1-Math.exp(-t*r))}function Jme(n,e=1){return e-Math.abs(pL(n,e*2)-e)}function Zme(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Kme(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Qme(n,e){return n+Math.floor(Math.random()*(e-n+1))}function ege(n,e){return n+Math.random()*(e-n)}function tge(n){return n*(.5-Math.random())}function nge(n){return n!==void 0&&(TT=n%2147483647),TT=TT*16807%2147483647,(TT-1)/2147483646}function rge(n){return n*Sf}function ige(n){return n*$y}function fL(n){return(n&n-1)==0&&n!==0}function oge(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function _j(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function sge(n,e,t,r,i){let o=Math.cos,s=Math.sin,a=o(t/2),l=s(t/2),c=o((e+r)/2),u=s((e+r)/2),d=o((e-r)/2),p=s((e-r)/2),f=o((r-e)/2),g=s((r-e)/2);switch(i){case"XYX":n.set(a*u,l*d,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*d,a*c);break;case"ZXZ":n.set(l*d,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*f,a*c);break;case"YXY":n.set(l*f,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*f,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}var Qat=Object.freeze({__proto__:null,DEG2RAD:Sf,RAD2DEG:$y,generateUUID:No,clamp:pi,euclideanModulo:pL,mapLinear:$me,inverseLerp:Xme,lerp:Xy,damp:Yme,pingpong:Jme,smoothstep:Zme,smootherstep:Kme,randInt:Qme,randFloat:ege,randFloatSpread:tge,seededRandom:nge,degToRad:rge,radToDeg:ige,isPowerOfTwo:fL,ceilPowerOfTwo:oge,floorPowerOfTwo:_j,setQuaternionFromProperEuler:sge}),Ve=class{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){let r=Math.cos(t),i=Math.sin(t),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}};Ve.prototype.isVector2=!0;var Rr=class{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,c){let u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],p=r[2],f=r[5],g=r[8],y=i[0],v=i[3],m=i[6],h=i[1],b=i[4],x=i[7],_=i[2],S=i[5],M=i[8];return o[0]=s*y+a*h+l*_,o[3]=s*v+a*b+l*S,o[6]=s*m+a*x+l*M,o[1]=c*y+u*h+d*_,o[4]=c*v+u*b+d*S,o[7]=c*m+u*x+d*M,o[2]=p*y+f*h+g*_,o[5]=p*v+f*b+g*S,o[8]=p*m+f*x+g*M,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,p=a*l-u*o,f=c*o-s*l,g=t*d+r*p+i*f;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);let y=1/g;return e[0]=d*y,e[1]=(i*c-u*r)*y,e[2]=(a*r-i*s)*y,e[3]=p*y,e[4]=(u*t-i*l)*y,e[5]=(i*o-a*t)*y,e[6]=f*y,e[7]=(r*l-c*t)*y,e[8]=(s*t-r*o)*y,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,o,s,a){let l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+t,0,0,1),this}scale(e,t){let r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.elements,o=i[0],s=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*o+r*l,i[3]=t*s+r*c,i[6]=t*a+r*u,i[1]=-r*o+t*l,i[4]=-r*s+t*c,i[7]=-r*a+t*u,this}translate(e,t){let r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};Rr.prototype.isMatrix3=!0;function wj(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}function Yy(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}var Tj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qo={h:0,s:0,l:0},ST={h:0,s:0,l:0};function hL(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Mf(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function mL(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}var tt=class{constructor(e,t,r){return t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){if(e=pL(e,1),t=pi(t,0,1),r=pi(r,0,1),t===0)this.r=this.g=this.b=r;else{let i=r<=.5?r*(1+t):r+t-r*t,o=2*r-i;this.r=hL(o,i,e+1/3),this.g=hL(o,i,e),this.b=hL(o,i,e-1/3)}return this}setStyle(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i,o=r[1],s=r[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)){let a=parseFloat(i[1])/360,l=parseInt(i[2],10)/100,c=parseInt(i[3],10)/100;return t(i[4]),this.setHSL(a,l,c)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=r[1],o=i.length;if(o===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(o===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){let t=Tj[e.toLowerCase()];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Mf(e.r),this.g=Mf(e.g),this.b=Mf(e.b),this}copyLinearToSRGB(e){return this.r=mL(e.r),this.g=mL(e.g),this.b=mL(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return this.r*255<<16^this.g*255<<8^this.b*255<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){let t=this.r,r=this.g,i=this.b,o=Math.max(t,r,i),s=Math.min(t,r,i),a,l,c=(s+o)/2;if(s===o)a=0,l=0;else{let u=o-s;switch(l=c<=.5?u/(o+s):u/(2-o-s),o){case t:a=(r-i)/u+(r<i?6:0);break;case r:a=(i-t)/u+2;break;case i:a=(t-r)/u+4;break}a/=6}return e.h=a,e.s=l,e.l=c,e}getStyle(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"}offsetHSL(e,t,r){return this.getHSL(Qo),Qo.h+=e,Qo.s+=t,Qo.l+=r,this.setHSL(Qo.h,Qo.s,Qo.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Qo),e.getHSL(ST);let r=Xy(Qo.h,ST.h,t),i=Xy(Qo.s,ST.s,t),o=Xy(Qo.l,ST.l,t);return this.setHSL(r,i,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}};tt.NAMES=Tj;tt.prototype.isColor=!0;tt.prototype.r=1;tt.prototype.g=1;tt.prototype.b=1;var Ef,oc=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Ef===void 0&&(Ef=Yy("canvas")),Ef.width=e.width,Ef.height=e.height;let r=Ef.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=Ef}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){let t=Yy("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=Mf(o[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){let t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Mf(t[r]/255)*255):t[r]=Mf(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},age=0,yr=class extends ic{constructor(e=yr.DEFAULT_IMAGE,t=yr.DEFAULT_MAPPING,r=io,i=io,o=di,s=yT,a=Mi,l=nc,c=1,u=rc){super();Object.defineProperty(this,"id",{value:age++}),this.uuid=No(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ve(0,0),this.repeat=new Ve(1,1),this.center=new Ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){let i=this.image;if(i.uuid===void 0&&(i.uuid=No()),!t&&e.images[i.uuid]===void 0){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(gL(i[s].image)):o.push(gL(i[s]))}else o=gL(i);e.images[i.uuid]={uuid:i.uuid,url:o}}r.image=i.uuid}return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Y8)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case nL:e.x=e.x-Math.floor(e.x);break;case io:e.x=e.x<0?0:1;break;case rL:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case nL:e.y=e.y-Math.floor(e.y);break;case io:e.y=e.y<0?0:1;break;case rL:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&this.version++}};yr.DEFAULT_IMAGE=void 0;yr.DEFAULT_MAPPING=Y8;yr.prototype.isTexture=!0;function gL(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?oc.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var tn=class{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,o,s=.01,a=.1,l=e.elements,c=l[0],u=l[4],d=l[8],p=l[1],f=l[5],g=l[9],y=l[2],v=l[6],m=l[10];if(Math.abs(u-p)<s&&Math.abs(d-y)<s&&Math.abs(g-v)<s){if(Math.abs(u+p)<a&&Math.abs(d+y)<a&&Math.abs(g+v)<a&&Math.abs(c+f+m-3)<a)return this.set(1,0,0,0),this;t=Math.PI;let b=(c+1)/2,x=(f+1)/2,_=(m+1)/2,S=(u+p)/4,M=(d+y)/4,E=(g+v)/4;return b>x&&b>_?b<s?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(b),i=S/r,o=M/r):x>_?x<s?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(x),r=S/i,o=E/i):_<s?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(_),r=M/o,i=E/o),this.set(r,i,o,t),this}let h=Math.sqrt((v-g)*(v-g)+(d-y)*(d-y)+(p-u)*(p-u));return Math.abs(h)<.001&&(h=1),this.x=(v-g)/h,this.y=(d-y)/h,this.z=(p-u)/h,this.w=Math.acos((c+f+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}};tn.prototype.isVector4=!0;var oo=class extends ic{constructor(e,t,r={}){super();this.width=e,this.height=t,this.depth=1,this.scissor=new tn(0,0,e,t),this.scissorTest=!1,this.viewport=new tn(0,0,e,t),this.texture=new yr(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:e,height:t,depth:1},this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:di,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}};oo.prototype.isWebGLRenderTarget=!0;var Sj=class extends oo{constructor(e,t,r){super(e,t);let i=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=i.clone()}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,o=this.texture.length;i<o;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone();return this}};Sj.prototype.isWebGLMultipleRenderTargets=!0;var MT=class extends oo{constructor(e,t,r={}){super(e,t,r);this.samples=4,this.ignoreDepthForMultisampleCopy=r.ignoreDepth!==void 0?r.ignoreDepth:!0,this.useRenderToTexture=r.useRenderToTexture!==void 0?r.useRenderToTexture:!1,this.useRenderbuffer=this.useRenderToTexture===!1}copy(e){return super.copy.call(this,e),this.samples=e.samples,this.useRenderToTexture=e.useRenderToTexture,this.useRenderbuffer=e.useRenderbuffer,this}};MT.prototype.isWebGLMultisampleRenderTarget=!0;var Wr=class{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3],p=o[s+0],f=o[s+1],g=o[s+2],y=o[s+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(a===1){e[t+0]=p,e[t+1]=f,e[t+2]=g,e[t+3]=y;return}if(d!==y||l!==p||c!==f||u!==g){let v=1-a,m=l*p+c*f+u*g+d*y,h=m>=0?1:-1,b=1-m*m;if(b>Number.EPSILON){let _=Math.sqrt(b),S=Math.atan2(_,m*h);v=Math.sin(v*S)/_,a=Math.sin(a*S)/_}let x=a*h;if(l=l*v+p*x,c=c*v+f*x,u=u*v+g*x,d=d*v+y*x,v===1-a){let _=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=_,c*=_,u*=_,d*=_}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,o,s){let a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],p=o[s+1],f=o[s+2],g=o[s+3];return e[t]=a*g+u*d+l*f-c*p,e[t+1]=l*g+u*p+c*d-a*f,e[t+2]=c*g+u*f+a*p-l*d,e[t+3]=u*g-a*d-l*p-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");let r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),p=l(r/2),f=l(i/2),g=l(o/2);switch(s){case"XYZ":this._x=p*u*d+c*f*g,this._y=c*f*d-p*u*g,this._z=c*u*g+p*f*d,this._w=c*u*d-p*f*g;break;case"YXZ":this._x=p*u*d+c*f*g,this._y=c*f*d-p*u*g,this._z=c*u*g-p*f*d,this._w=c*u*d+p*f*g;break;case"ZXY":this._x=p*u*d-c*f*g,this._y=c*f*d+p*u*g,this._z=c*u*g+p*f*d,this._w=c*u*d-p*f*g;break;case"ZYX":this._x=p*u*d-c*f*g,this._y=c*f*d+p*u*g,this._z=c*u*g-p*f*d,this._w=c*u*d+p*f*g;break;case"YZX":this._x=p*u*d+c*f*g,this._y=c*f*d+p*u*g,this._z=c*u*g-p*f*d,this._w=c*u*d-p*f*g;break;case"XZY":this._x=p*u*d-c*f*g,this._y=c*f*d-p*u*g,this._z=c*u*g+p*f*d,this._w=c*u*d+p*f*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],i=t[4],o=t[8],s=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],p=r+a+d;if(p>0){let f=.5/Math.sqrt(p+1);this._w=.25/f,this._x=(u-l)*f,this._y=(o-c)*f,this._z=(s-i)*f}else if(r>a&&r>d){let f=2*Math.sqrt(1+r-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(i+s)/f,this._z=(o+c)/f}else if(a>d){let f=2*Math.sqrt(1+a-r-d);this._w=(o-c)/f,this._x=(i+s)/f,this._y=.25*f,this._z=(l+u)/f}else{let f=2*Math.sqrt(1+d-r-a);this._w=(s-i)/f,this._x=(o+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pi(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(r===0)return this;let i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,i=e._y,o=e._z,s=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let r=this._x,i=this._y,o=this._z,s=this._w,a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;let l=1-a*a;if(l<=Number.EPSILON){let f=1-t;return this._w=f*s+t*this._w,this._x=f*r+t*this._x,this._y=f*i+t*this._y,this._z=f*o+t*this._z,this.normalize(),this._onChangeCallback(),this}let c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=s*d+this._w*p,this._x=r*d+this._x*p,this._y=i*d+this._y*p,this._z=o*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){let e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(o),r*Math.cos(o),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};Wr.prototype.isQuaternion=!0;var Z=class{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Mj.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Mj.setFromAxisAngle(e,t))}applyMatrix3(e){let t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6]*i,this.y=o[1]*t+o[4]*r+o[7]*i,this.z=o[2]*t+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let t=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*t+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*t+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*t+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*t+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){let t=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=l*t+s*i-a*r,u=l*r+a*t-o*i,d=l*i+o*r-s*t,p=-o*t-s*r-a*i;return this.x=c*l+p*-o+u*-a-d*-s,this.y=u*l+p*-s+d*-o-c*-a,this.z=d*l+p*-a+c*-s-u*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let t=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i,this.y=o[1]*t+o[5]*r+o[9]*i,this.z=o[2]*t+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){let r=e.x,i=e.y,o=e.z,s=t.x,a=t.y,l=t.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){let t=e.lengthSq();if(t===0)return this.set(0,0,0);let r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return yL.copy(this).projectOnVector(e),this.sub(yL)}reflect(e){return this.sub(yL.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;let r=this.dot(e)/t;return Math.acos(pi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){let i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){let t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){let t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};Z.prototype.isVector3=!0;var yL=new Z,Mj=new Wr,so=class{constructor(e=new Z(Infinity,Infinity,Infinity),t=new Z(-Infinity,-Infinity,-Infinity)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=Infinity,r=Infinity,i=Infinity,o=-Infinity,s=-Infinity,a=-Infinity;for(let l=0,c=e.length;l<c;l+=3){let u=e[l],d=e[l+1],p=e[l+2];u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>o&&(o=u),d>s&&(s=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromBufferAttribute(e){let t=Infinity,r=Infinity,i=Infinity,o=-Infinity,s=-Infinity,a=-Infinity;for(let l=0,c=e.count;l<c;l++){let u=e.getX(l),d=e.getY(l),p=e.getZ(l);u<t&&(t=u),d<r&&(r=d),p<i&&(i=p),u>o&&(o=u),d>s&&(s=d),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=zu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){let o=r.attributes.position;for(let s=0,a=o.count;s<a;s++)zu.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(zu)}else r.boundingBox===null&&r.computeBoundingBox(),vL.copy(r.boundingBox),vL.applyMatrix4(e.matrixWorld),this.union(vL);let i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,zu),zu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jy),ET.subVectors(this.max,Jy),Pf.subVectors(e.a,Jy),Rf.subVectors(e.b,Jy),Cf.subVectors(e.c,Jy),sc.subVectors(Rf,Pf),ac.subVectors(Cf,Rf),Uu.subVectors(Pf,Cf);let t=[0,-sc.z,sc.y,0,-ac.z,ac.y,0,-Uu.z,Uu.y,sc.z,0,-sc.x,ac.z,0,-ac.x,Uu.z,0,-Uu.x,-sc.y,sc.x,0,-ac.y,ac.x,0,-Uu.y,Uu.x,0];return!xL(t,Pf,Rf,Cf,ET)||(t=[1,0,0,0,1,0,0,0,1],!xL(t,Pf,Rf,Cf,ET))?!1:(PT.crossVectors(sc,ac),t=[PT.x,PT.y,PT.z],xL(t,Pf,Rf,Cf,ET))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return zu.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(zu).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ba[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ba[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ba[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ba[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ba[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ba[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ba[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ba[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ba),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};so.prototype.isBox3=!0;var ba=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],zu=new Z,vL=new so,Pf=new Z,Rf=new Z,Cf=new Z,sc=new Z,ac=new Z,Uu=new Z,Jy=new Z,ET=new Z,PT=new Z,Vu=new Z;function xL(n,e,t,r,i){for(let o=0,s=n.length-3;o<=s;o+=3){Vu.fromArray(n,o);let a=i.x*Math.abs(Vu.x)+i.y*Math.abs(Vu.y)+i.z*Math.abs(Vu.z),l=e.dot(Vu),c=t.dot(Vu),u=r.dot(Vu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}var lge=new so,Ej=new Z,RT=new Z,bL=new Z,Hu=class{constructor(e=new Z,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let r=this.center;t!==void 0?r.copy(t):lge.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){bL.subVectors(e,this.center);let t=bL.lengthSq();if(t>this.radius*this.radius){let r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(bL.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?RT.set(0,0,1).multiplyScalar(e.radius):RT.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Ej.copy(e.center).add(RT)),this.expandByPoint(Ej.copy(e.center).sub(RT)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},_a=new Z,_L=new Z,CT=new Z,lc=new Z,wL=new Z,AT=new Z,TL=new Z,Wu=class{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_a)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=_a.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_a.copy(this.direction).multiplyScalar(t).add(this.origin),_a.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){_L.copy(e).add(t).multiplyScalar(.5),CT.copy(t).sub(e).normalize(),lc.copy(this.origin).sub(_L);let o=e.distanceTo(t)*.5,s=-this.direction.dot(CT),a=lc.dot(this.direction),l=-lc.dot(CT),c=lc.lengthSq(),u=Math.abs(1-s*s),d,p,f,g;if(u>0)if(d=s*l-a,p=s*a-l,g=o*u,d>=0)if(p>=-g)if(p<=g){let y=1/u;d*=y,p*=y,f=d*(d+s*p+2*a)+p*(s*d+p+2*l)+c}else p=o,d=Math.max(0,-(s*p+a)),f=-d*d+p*(p+2*l)+c;else p=-o,d=Math.max(0,-(s*p+a)),f=-d*d+p*(p+2*l)+c;else p<=-g?(d=Math.max(0,-(-s*o+a)),p=d>0?-o:Math.min(Math.max(-o,-l),o),f=-d*d+p*(p+2*l)+c):p<=g?(d=0,p=Math.min(Math.max(-o,-l),o),f=p*(p+2*l)+c):(d=Math.max(0,-(s*o+a)),p=d>0?o:Math.min(Math.max(-o,-l),o),f=-d*d+p*(p+2*l)+c);else p=s>0?-o:o,d=Math.max(0,-(s*p+a)),f=-d*d+p*(p+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(CT).multiplyScalar(p).add(_L),f}intersectSphere(e,t){_a.subVectors(e.center,this.origin);let r=_a.dot(this.direction),i=_a.dot(_a)-r*r,o=e.radius*e.radius;if(i>o)return null;let s=Math.sqrt(o-i),a=r-s,l=r+s;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,o,s,a,l,c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(o=(e.min.y-p.y)*u,s=(e.max.y-p.y)*u):(o=(e.max.y-p.y)*u,s=(e.min.y-p.y)*u),r>s||o>i||((o>r||r!==r)&&(r=o),(s<i||i!==i)&&(i=s),d>=0?(a=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(a=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,_a)!==null}intersectTriangle(e,t,r,i,o){wL.subVectors(t,e),AT.subVectors(r,e),TL.crossVectors(wL,AT);let s=this.direction.dot(TL),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;lc.subVectors(this.origin,e);let l=a*this.direction.dot(AT.crossVectors(lc,AT));if(l<0)return null;let c=a*this.direction.dot(wL.cross(lc));if(c<0||l+c>s)return null;let u=-a*lc.dot(TL);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},dt=class{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,o,s,a,l,c,u,d,p,f,g,y,v){let m=this.elements;return m[0]=e,m[4]=t,m[8]=r,m[12]=i,m[1]=o,m[5]=s,m[9]=a,m[13]=l,m[2]=c,m[6]=u,m[10]=d,m[14]=p,m[3]=f,m[7]=g,m[11]=y,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dt().fromArray(this.elements)}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){let t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,r=e.elements,i=1/Af.setFromMatrixColumn(e,0).length(),o=1/Af.setFromMatrixColumn(e,1).length(),s=1/Af.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let t=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){let p=s*u,f=s*d,g=a*u,y=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=f+g*c,t[5]=p-y*c,t[9]=-a*l,t[2]=y-p*c,t[6]=g+f*c,t[10]=s*l}else if(e.order==="YXZ"){let p=l*u,f=l*d,g=c*u,y=c*d;t[0]=p+y*a,t[4]=g*a-f,t[8]=s*c,t[1]=s*d,t[5]=s*u,t[9]=-a,t[2]=f*a-g,t[6]=y+p*a,t[10]=s*l}else if(e.order==="ZXY"){let p=l*u,f=l*d,g=c*u,y=c*d;t[0]=p-y*a,t[4]=-s*d,t[8]=g+f*a,t[1]=f+g*a,t[5]=s*u,t[9]=y-p*a,t[2]=-s*c,t[6]=a,t[10]=s*l}else if(e.order==="ZYX"){let p=s*u,f=s*d,g=a*u,y=a*d;t[0]=l*u,t[4]=g*c-f,t[8]=p*c+y,t[1]=l*d,t[5]=y*c+p,t[9]=f*c-g,t[2]=-c,t[6]=a*l,t[10]=s*l}else if(e.order==="YZX"){let p=s*l,f=s*c,g=a*l,y=a*c;t[0]=l*u,t[4]=y-p*d,t[8]=g*d+f,t[1]=d,t[5]=s*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*d+g,t[10]=p-y*d}else if(e.order==="XZY"){let p=s*l,f=s*c,g=a*l,y=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=p*d+y,t[5]=s*u,t[9]=f*d-g,t[2]=g*d-f,t[6]=a*u,t[10]=y*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cge,e,uge)}lookAt(e,t,r){let i=this.elements;return ao.subVectors(e,t),ao.lengthSq()===0&&(ao.z=1),ao.normalize(),cc.crossVectors(r,ao),cc.lengthSq()===0&&(Math.abs(r.z)===1?ao.x+=1e-4:ao.z+=1e-4,ao.normalize(),cc.crossVectors(r,ao)),cc.normalize(),LT.crossVectors(ao,cc),i[0]=cc.x,i[4]=LT.x,i[8]=ao.x,i[1]=cc.y,i[5]=LT.y,i[9]=ao.y,i[2]=cc.z,i[6]=LT.z,i[10]=ao.z,this}multiply(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,i=t.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],p=r[9],f=r[13],g=r[2],y=r[6],v=r[10],m=r[14],h=r[3],b=r[7],x=r[11],_=r[15],S=i[0],M=i[4],E=i[8],L=i[12],I=i[1],T=i[5],A=i[9],k=i[13],U=i[2],F=i[6],N=i[10],j=i[14],Y=i[3],pe=i[7],$=i[11],W=i[15];return o[0]=s*S+a*I+l*U+c*Y,o[4]=s*M+a*T+l*F+c*pe,o[8]=s*E+a*A+l*N+c*$,o[12]=s*L+a*k+l*j+c*W,o[1]=u*S+d*I+p*U+f*Y,o[5]=u*M+d*T+p*F+f*pe,o[9]=u*E+d*A+p*N+f*$,o[13]=u*L+d*k+p*j+f*W,o[2]=g*S+y*I+v*U+m*Y,o[6]=g*M+y*T+v*F+m*pe,o[10]=g*E+y*A+v*N+m*$,o[14]=g*L+y*k+v*j+m*W,o[3]=h*S+b*I+x*U+_*Y,o[7]=h*M+b*T+x*F+_*pe,o[11]=h*E+b*A+x*N+_*$,o[15]=h*L+b*k+x*j+_*W,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],p=e[10],f=e[14],g=e[3],y=e[7],v=e[11],m=e[15];return g*(+o*l*d-i*c*d-o*a*p+r*c*p+i*a*f-r*l*f)+y*(+t*l*f-t*c*p+o*s*p-i*s*f+i*c*u-o*l*u)+v*(+t*c*d-t*a*f-o*s*d+r*s*f+o*a*u-r*c*u)+m*(-i*a*u-t*l*d+t*a*p+i*s*d-r*s*p+r*l*u)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){let i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){let e=this.elements,t=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],f=e[11],g=e[12],y=e[13],v=e[14],m=e[15],h=d*v*c-y*p*c+y*l*f-a*v*f-d*l*m+a*p*m,b=g*p*c-u*v*c-g*l*f+s*v*f+u*l*m-s*p*m,x=u*y*c-g*d*c+g*a*f-s*y*f-u*a*m+s*d*m,_=g*d*l-u*y*l-g*a*p+s*y*p+u*a*v-s*d*v,S=t*h+r*b+i*x+o*_;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let M=1/S;return e[0]=h*M,e[1]=(y*p*o-d*v*o-y*i*f+r*v*f+d*i*m-r*p*m)*M,e[2]=(a*v*o-y*l*o+y*i*c-r*v*c-a*i*m+r*l*m)*M,e[3]=(d*l*o-a*p*o-d*i*c+r*p*c+a*i*f-r*l*f)*M,e[4]=b*M,e[5]=(u*v*o-g*p*o+g*i*f-t*v*f-u*i*m+t*p*m)*M,e[6]=(g*l*o-s*v*o-g*i*c+t*v*c+s*i*m-t*l*m)*M,e[7]=(s*p*o-u*l*o+u*i*c-t*p*c-s*i*f+t*l*f)*M,e[8]=x*M,e[9]=(g*d*o-u*y*o-g*r*f+t*y*f+u*r*m-t*d*m)*M,e[10]=(s*y*o-g*a*o+g*r*c-t*y*c-s*r*m+t*a*m)*M,e[11]=(u*a*o-s*d*o-u*r*c+t*d*c+s*r*f-t*a*f)*M,e[12]=_*M,e[13]=(u*y*i-g*d*i+g*r*p-t*y*p-u*r*v+t*d*v)*M,e[14]=(g*a*i-s*y*i-g*r*l+t*y*l+s*r*v-t*a*v)*M,e[15]=(s*d*i-u*a*i+u*r*l-t*d*l-s*r*p+t*a*p)*M,this}scale(e){let t=this.elements,r=e.x,i=e.y,o=e.z;return t[0]*=r,t[4]*=i,t[8]*=o,t[1]*=r,t[5]*=i,t[9]*=o,t[2]*=r,t[6]*=i,t[10]*=o,t[3]*=r,t[7]*=i,t[11]*=o,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let r=Math.cos(t),i=Math.sin(t),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){let i=this.elements,o=t._x,s=t._y,a=t._z,l=t._w,c=o+o,u=s+s,d=a+a,p=o*c,f=o*u,g=o*d,y=s*u,v=s*d,m=a*d,h=l*c,b=l*u,x=l*d,_=r.x,S=r.y,M=r.z;return i[0]=(1-(y+m))*_,i[1]=(f+x)*_,i[2]=(g-b)*_,i[3]=0,i[4]=(f-x)*S,i[5]=(1-(p+m))*S,i[6]=(v+h)*S,i[7]=0,i[8]=(g+b)*M,i[9]=(v-h)*M,i[10]=(1-(p+y))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){let i=this.elements,o=Af.set(i[0],i[1],i[2]).length(),s=Af.set(i[4],i[5],i[6]).length(),a=Af.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],es.copy(this);let c=1/o,u=1/s,d=1/a;return es.elements[0]*=c,es.elements[1]*=c,es.elements[2]*=c,es.elements[4]*=u,es.elements[5]*=u,es.elements[6]*=u,es.elements[8]*=d,es.elements[9]*=d,es.elements[10]*=d,t.setFromRotationMatrix(es),r.x=o,r.y=s,r.z=a,this}makePerspective(e,t,r,i,o,s){s===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");let a=this.elements,l=2*o/(t-e),c=2*o/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),p=-(s+o)/(s-o),f=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,o,s){let a=this.elements,l=1/(t-e),c=1/(r-i),u=1/(s-o),d=(t+e)*l,p=(r+i)*c,f=(s+o)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){let t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}};dt.prototype.isMatrix4=!0;var Af=new Z,es=new dt,cge=new Z(0,0,0),uge=new Z(1,1,1),cc=new Z,LT=new Z,ao=new Z,Pj=new dt,Rj=new Wr,Gu=class{constructor(e=0,t=0,r=0,i=Gu.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],p=i[6],f=i[10];switch(t){case"XYZ":this._y=Math.asin(pi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-pi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(pi(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-pi(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,f),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(pi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-pi(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return Pj.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Pj,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Rj.setFromEuler(this),this.setFromQuaternion(Rj,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Z(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}};Gu.prototype.isEuler=!0;Gu.DefaultOrder="XYZ";Gu.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var SL=class{constructor(){this.mask=1|0}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=4294967295|0}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!=0}isEnabled(e){return(this.mask&(1<<e|0))!=0}},dge=0,Cj=new Z,Lf=new Wr,wa=new dt,DT=new Z,Zy=new Z,pge=new Z,fge=new Wr,Aj=new Z(1,0,0),Lj=new Z(0,1,0),Dj=new Z(0,0,1),hge={type:"added"},Nj={type:"removed"},Wt=class extends ic{constructor(){super();Object.defineProperty(this,"id",{value:dge++}),this.uuid=No(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wt.DefaultUp.clone();let e=new Z,t=new Gu,r=new Wr,i=new Z(1,1,1);function o(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new dt},normalMatrix:{value:new Rr}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=Wt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new SL,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Lf.setFromAxisAngle(e,t),this.quaternion.multiply(Lf),this}rotateOnWorldAxis(e,t){return Lf.setFromAxisAngle(e,t),this.quaternion.premultiply(Lf),this}rotateX(e){return this.rotateOnAxis(Aj,e)}rotateY(e){return this.rotateOnAxis(Lj,e)}rotateZ(e){return this.rotateOnAxis(Dj,e)}translateOnAxis(e,t){return Cj.copy(e).applyQuaternion(this.quaternion),this.position.add(Cj.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Aj,e)}translateY(e){return this.translateOnAxis(Lj,e)}translateZ(e){return this.translateOnAxis(Dj,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(wa.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?DT.copy(e):DT.set(e,t,r);let i=this.parent;this.updateWorldMatrix(!0,!1),Zy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wa.lookAt(Zy,DT,this.up):wa.lookAt(DT,Zy,this.up),this.quaternion.setFromRotationMatrix(wa),i&&(wa.extractRotation(i.matrixWorld),Lf.setFromRotationMatrix(wa),this.quaternion.premultiply(Lf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(hge)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Nj)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(Nj)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),wa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),wa.multiply(e.parent.matrixWorld)),e.applyMatrix4(wa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){let s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zy,e,pge),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Zy,fge,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){let r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){let t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);let a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){let l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){let d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){let l=this.animations[a];i.animations.push(o(e.animations,l))}}if(t){let a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),p=s(e.skeletons),f=s(e.animations);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),f.length>0&&(r.animations=f)}return r.object=i,r;function s(a){let l=[];for(let c in a){let u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){let i=e.children[r];this.add(i.clone())}return this}};Wt.DefaultUp=new Z(0,1,0);Wt.DefaultMatrixAutoUpdate=!0;Wt.prototype.isObject3D=!0;var ts=new Z,Ta=new Z,ML=new Z,Sa=new Z,Df=new Z,Nf=new Z,Ij=new Z,EL=new Z,PL=new Z,RL=new Z,Yn=class{constructor(e=new Z,t=new Z,r=new Z){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ts.subVectors(e,t),i.cross(ts);let o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,t,r,i,o){ts.subVectors(i,t),Ta.subVectors(r,t),ML.subVectors(e,t);let s=ts.dot(ts),a=ts.dot(Ta),l=ts.dot(ML),c=Ta.dot(Ta),u=Ta.dot(ML),d=s*c-a*a;if(d===0)return o.set(-2,-1,-1);let p=1/d,f=(c*l-a*u)*p,g=(s*u-a*l)*p;return o.set(1-f-g,g,f)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Sa),Sa.x>=0&&Sa.y>=0&&Sa.x+Sa.y<=1}static getUV(e,t,r,i,o,s,a,l){return this.getBarycoord(e,t,r,i,Sa),l.set(0,0),l.addScaledVector(o,Sa.x),l.addScaledVector(s,Sa.y),l.addScaledVector(a,Sa.z),l}static isFrontFacing(e,t,r,i){return ts.subVectors(r,t),Ta.subVectors(e,t),ts.cross(Ta).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ts.subVectors(this.c,this.b),Ta.subVectors(this.a,this.b),ts.cross(Ta).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Yn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Yn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,o){return Yn.getUV(e,this.a,this.b,this.c,t,r,i,o)}containsPoint(e){return Yn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Yn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let r=this.a,i=this.b,o=this.c,s,a;Df.subVectors(i,r),Nf.subVectors(o,r),EL.subVectors(e,r);let l=Df.dot(EL),c=Nf.dot(EL);if(l<=0&&c<=0)return t.copy(r);PL.subVectors(e,i);let u=Df.dot(PL),d=Nf.dot(PL);if(u>=0&&d<=u)return t.copy(i);let p=l*d-u*c;if(p<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(r).addScaledVector(Df,s);RL.subVectors(e,o);let f=Df.dot(RL),g=Nf.dot(RL);if(g>=0&&f<=g)return t.copy(o);let y=f*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(Nf,a);let v=u*g-f*d;if(v<=0&&d-u>=0&&f-g>=0)return Ij.subVectors(o,i),a=(d-u)/(d-u+(f-g)),t.copy(i).addScaledVector(Ij,a);let m=1/(v+y+p);return s=y*m,a=p*m,t.copy(r).addScaledVector(Df,s).addScaledVector(Nf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},mge=0,Cr=class extends ic{constructor(){super();Object.defineProperty(this,"id",{value:mge++}),this.uuid=No(),this.name="",this.type="Material",this.fog=!0,this.blending=Hy,this.side=Vy,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=$8,this.blendDst=X8,this.blendEquation=yf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=K2,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=qme,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=uL,this.stencilZFail=uL,this.stencilZPass=uL,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.alphaWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===V8;continue}let i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Hy&&(r.blending=this.blending),this.side!==Vy&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.alphaWrite=this.alphaWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(o){let s=[];for(let a in o){let l=o[a];delete l.metadata,s.push(l)}return s}if(t){let o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(t!==null){let i=t.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=t[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.alphaWrite=e.alphaWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};Cr.prototype.isMaterial=!0;var ju=class extends Cr{constructor(e){super();this.type="MeshBasicMaterial",this.color=new tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};ju.prototype.isMeshBasicMaterial=!0;var ln=new Z,NT=new Ve,En=class{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=qy,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){let t=this.array,r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new tt),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){let t=this.array,r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Ve),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){let t=this.array,r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Z),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){let t=this.array,r=0;for(let i=0,o=e.length;i<o;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new tn),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)NT.fromBufferAttribute(this,t),NT.applyMatrix3(e),this.setXY(t,NT.x,NT.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ln.fromBufferAttribute(this,t),ln.applyMatrix3(e),this.setXYZ(t,ln.x,ln.y,ln.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ln.x=this.getX(t),ln.y=this.getY(t),ln.z=this.getZ(t),ln.applyMatrix4(e),this.setXYZ(t,ln.x,ln.y,ln.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ln.x=this.getX(t),ln.y=this.getY(t),ln.z=this.getZ(t),ln.applyNormalMatrix(e),this.setXYZ(t,ln.x,ln.y,ln.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ln.x=this.getX(t),ln.y=this.getY(t),ln.z=this.getZ(t),ln.transformDirection(e),this.setXYZ(t,ln.x,ln.y,ln.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==qy&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}};En.prototype.isBufferAttribute=!0;var CL=class extends En{constructor(e,t,r){super(new Uint16Array(e),t,r)}};var AL=class extends En{constructor(e,t,r){super(new Uint32Array(e),t,r)}},Oj=class extends En{constructor(e,t,r){super(new Uint16Array(e),t,r)}};Oj.prototype.isFloat16BufferAttribute=!0;var gt=class extends En{constructor(e,t,r){super(new Float32Array(e),t,r)}};var gge=0,Io=new dt,LL=new Wt,If=new Z,lo=new so,Ky=new so,Ar=new Z,Tt=class extends ic{constructor(){super();Object.defineProperty(this,"id",{value:gge++}),this.uuid=No(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:Infinity},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(wj(e)?AL:CL)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let o=new Rr().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}let i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Io.makeRotationFromQuaternion(e),this.applyMatrix4(Io),this}rotateX(e){return Io.makeRotationX(e),this.applyMatrix4(Io),this}rotateY(e){return Io.makeRotationY(e),this.applyMatrix4(Io),this}rotateZ(e){return Io.makeRotationZ(e),this.applyMatrix4(Io),this}translate(e,t,r){return Io.makeTranslation(e,t,r),this.applyMatrix4(Io),this}scale(e,t,r){return Io.makeScale(e,t,r),this.applyMatrix4(Io),this}lookAt(e){return LL.lookAt(e),LL.updateMatrix(),this.applyMatrix4(LL.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(If).negate(),this.translate(If.x,If.y,If.z),this}setFromPoints(e){let t=[];for(let r=0,i=e.length;r<i;r++){let o=e[r];t.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new gt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new so);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Z(-Infinity,-Infinity,-Infinity),new Z(Infinity,Infinity,Infinity));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){let o=t[r];lo.setFromBufferAttribute(o),this.morphTargetsRelative?(Ar.addVectors(this.boundingBox.min,lo.min),this.boundingBox.expandByPoint(Ar),Ar.addVectors(this.boundingBox.max,lo.max),this.boundingBox.expandByPoint(Ar)):(this.boundingBox.expandByPoint(lo.min),this.boundingBox.expandByPoint(lo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Hu);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Z,Infinity);return}if(e){let r=this.boundingSphere.center;if(lo.setFromBufferAttribute(e),t)for(let o=0,s=t.length;o<s;o++){let a=t[o];Ky.setFromBufferAttribute(a),this.morphTargetsRelative?(Ar.addVectors(lo.min,Ky.min),lo.expandByPoint(Ar),Ar.addVectors(lo.max,Ky.max),lo.expandByPoint(Ar)):(lo.expandByPoint(Ky.min),lo.expandByPoint(Ky.max))}lo.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Ar.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Ar));if(t)for(let o=0,s=t.length;o<s;o++){let a=t[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Ar.fromBufferAttribute(a,c),l&&(If.fromBufferAttribute(e,c),Ar.add(If)),i=Math.max(i,r.distanceToSquared(Ar))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=e.array,i=t.position.array,o=t.normal.array,s=t.uv.array,a=i.length/3;t.tangent===void 0&&this.setAttribute("tangent",new En(new Float32Array(4*a),4));let l=t.tangent.array,c=[],u=[];for(let I=0;I<a;I++)c[I]=new Z,u[I]=new Z;let d=new Z,p=new Z,f=new Z,g=new Ve,y=new Ve,v=new Ve,m=new Z,h=new Z;function b(I,T,A){d.fromArray(i,I*3),p.fromArray(i,T*3),f.fromArray(i,A*3),g.fromArray(s,I*2),y.fromArray(s,T*2),v.fromArray(s,A*2),p.sub(d),f.sub(d),y.sub(g),v.sub(g);let k=1/(y.x*v.y-v.x*y.y);!isFinite(k)||(m.copy(p).multiplyScalar(v.y).addScaledVector(f,-y.y).multiplyScalar(k),h.copy(f).multiplyScalar(y.x).addScaledVector(p,-v.x).multiplyScalar(k),c[I].add(m),c[T].add(m),c[A].add(m),u[I].add(h),u[T].add(h),u[A].add(h))}let x=this.groups;x.length===0&&(x=[{start:0,count:r.length}]);for(let I=0,T=x.length;I<T;++I){let A=x[I],k=A.start,U=A.count;for(let F=k,N=k+U;F<N;F+=3)b(r[F+0],r[F+1],r[F+2])}let _=new Z,S=new Z,M=new Z,E=new Z;function L(I){M.fromArray(o,I*3),E.copy(M);let T=c[I];_.copy(T),_.sub(M.multiplyScalar(M.dot(T))).normalize(),S.crossVectors(E,T);let k=S.dot(u[I])<0?-1:1;l[I*4]=_.x,l[I*4+1]=_.y,l[I*4+2]=_.z,l[I*4+3]=k}for(let I=0,T=x.length;I<T;++I){let A=x[I],k=A.start,U=A.count;for(let F=k,N=k+U;F<N;F+=3)L(r[F+0]),L(r[F+1]),L(r[F+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new En(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,f=r.count;p<f;p++)r.setXYZ(p,0,0,0);let i=new Z,o=new Z,s=new Z,a=new Z,l=new Z,c=new Z,u=new Z,d=new Z;if(e)for(let p=0,f=e.count;p<f;p+=3){let g=e.getX(p+0),y=e.getX(p+1),v=e.getX(p+2);i.fromBufferAttribute(t,g),o.fromBufferAttribute(t,y),s.fromBufferAttribute(t,v),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,v),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,f=t.count;p<f;p+=3)i.fromBufferAttribute(t,p+0),o.fromBufferAttribute(t,p+1),s.fromBufferAttribute(t,p+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));let r=this.attributes;for(let i in r){if(e.attributes[i]===void 0)continue;let s=r[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*t,u=Math.min(l.length,s.length-c);for(let d=0,p=c;d<u;d++,p++)s[p]=l[d]}return this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ar.fromBufferAttribute(e,t),Ar.normalize(),e.setXYZ(t,Ar.x,Ar.y,Ar.z)}toNonIndexed(){function e(a,l){let c=a.array,u=a.itemSize,d=a.normalized,p=new c.constructor(l.length*u),f=0,g=0;for(let y=0,v=l.length;y<v;y++){a.isInterleavedBufferAttribute?f=l[y]*a.data.stride+a.offset:f=l[y]*u;for(let m=0;m<u;m++)p[g++]=c[f++]}return new En(p,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new Tt,r=this.index.array,i=this.attributes;for(let a in i){let l=i[a],c=e(l,r);t.setAttribute(a,c)}let o=this.morphAttributes;for(let a in o){let l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){let p=c[u],f=e(p,r);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;let s=this.groups;for(let a=0,l=s.length;a<l;a++){let c=s[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let l=this.parameters;for(let c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let l in r){let c=r[l];e.data.attributes[l]=c.toJSON(e.data)}let i={},o=!1;for(let l in this.morphAttributes){let c=this.morphAttributes[l],u=[];for(let d=0,p=c.length;d<p;d++){let f=c[d];u.push(f.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);let s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));let a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(t));let i=e.attributes;for(let c in i){let u=i[c];this.setAttribute(c,u.clone(t))}let o=e.morphAttributes;for(let c in o){let u=[],d=o[c];for(let p=0,f=d.length;p<f;p++)u.push(d[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;let s=e.groups;for(let c=0,u=s.length;c<u;c++){let d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}let a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());let l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};Tt.prototype.isBufferGeometry=!0;var Fj=new dt,Of=new Wu,DL=new Hu,uc=new Z,dc=new Z,pc=new Z,NL=new Z,IL=new Z,OL=new Z,IT=new Z,OT=new Z,FT=new Z,kT=new Ve,BT=new Ve,zT=new Ve,FL=new Z,UT=new Z,Lr=class extends Wt{constructor(e=new Tt,t=new ju){super();this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){let r=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),DL.copy(r.boundingSphere),DL.applyMatrix4(o),e.ray.intersectsSphere(DL)===!1)||(Fj.copy(o).invert(),Of.copy(e.ray).applyMatrix4(Fj),r.boundingBox!==null&&Of.intersectsBox(r.boundingBox)===!1))return;let s;if(r.isBufferGeometry){let a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,d=r.attributes.uv,p=r.attributes.uv2,f=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let y=0,v=f.length;y<v;y++){let m=f[y],h=i[m.materialIndex],b=Math.max(m.start,g.start),x=Math.min(a.count,Math.min(m.start+m.count,g.start+g.count));for(let _=b,S=x;_<S;_+=3){let M=a.getX(_),E=a.getX(_+1),L=a.getX(_+2);s=VT(this,h,e,Of,l,c,u,d,p,M,E,L),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=m.materialIndex,t.push(s))}}else{let y=Math.max(0,g.start),v=Math.min(a.count,g.start+g.count);for(let m=y,h=v;m<h;m+=3){let b=a.getX(m),x=a.getX(m+1),_=a.getX(m+2);s=VT(this,i,e,Of,l,c,u,d,p,b,x,_),s&&(s.faceIndex=Math.floor(m/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(i))for(let y=0,v=f.length;y<v;y++){let m=f[y],h=i[m.materialIndex],b=Math.max(m.start,g.start),x=Math.min(l.count,Math.min(m.start+m.count,g.start+g.count));for(let _=b,S=x;_<S;_+=3){let M=_,E=_+1,L=_+2;s=VT(this,h,e,Of,l,c,u,d,p,M,E,L),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=m.materialIndex,t.push(s))}}else{let y=Math.max(0,g.start),v=Math.min(l.count,g.start+g.count);for(let m=y,h=v;m<h;m+=3){let b=m,x=m+1,_=m+2;s=VT(this,i,e,Of,l,c,u,d,p,b,x,_),s&&(s.faceIndex=Math.floor(m/3),t.push(s))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}};Lr.prototype.isMesh=!0;function yge(n,e,t,r,i,o,s,a){let l;if(e.side===mr?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side!==gf,a),l===null)return null;UT.copy(a),UT.applyMatrix4(n.matrixWorld);let c=t.ray.origin.distanceTo(UT);return c<t.near||c>t.far?null:{distance:c,point:UT.clone(),object:n}}function VT(n,e,t,r,i,o,s,a,l,c,u,d){uc.fromBufferAttribute(i,c),dc.fromBufferAttribute(i,u),pc.fromBufferAttribute(i,d);let p=n.morphTargetInfluences;if(o&&p){IT.set(0,0,0),OT.set(0,0,0),FT.set(0,0,0);for(let g=0,y=o.length;g<y;g++){let v=p[g],m=o[g];v!==0&&(NL.fromBufferAttribute(m,c),IL.fromBufferAttribute(m,u),OL.fromBufferAttribute(m,d),s?(IT.addScaledVector(NL,v),OT.addScaledVector(IL,v),FT.addScaledVector(OL,v)):(IT.addScaledVector(NL.sub(uc),v),OT.addScaledVector(IL.sub(dc),v),FT.addScaledVector(OL.sub(pc),v)))}uc.add(IT),dc.add(OT),pc.add(FT)}n.isSkinnedMesh&&(n.boneTransform(c,uc),n.boneTransform(u,dc),n.boneTransform(d,pc));let f=yge(n,e,t,r,uc,dc,pc,FL);if(f){a&&(kT.fromBufferAttribute(a,c),BT.fromBufferAttribute(a,u),zT.fromBufferAttribute(a,d),f.uv=Yn.getUV(FL,uc,dc,pc,kT,BT,zT,new Ve)),l&&(kT.fromBufferAttribute(l,c),BT.fromBufferAttribute(l,u),zT.fromBufferAttribute(l,d),f.uv2=Yn.getUV(FL,uc,dc,pc,kT,BT,zT,new Ve));let g={a:c,b:u,c:d,normal:new Z,materialIndex:0};Yn.getNormal(uc,dc,pc,g.normal),f.face=g}return f}var fc=class extends Tt{constructor(e=1,t=1,r=1,i=1,o=1,s=1){super();this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};let a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);let l=[],c=[],u=[],d=[],p=0,f=0;g("z","y","x",-1,-1,r,t,e,s,o,0),g("z","y","x",1,-1,r,t,-e,s,o,1),g("x","z","y",1,1,e,r,t,i,s,2),g("x","z","y",1,-1,e,r,-t,i,s,3),g("x","y","z",1,-1,e,t,r,i,o,4),g("x","y","z",-1,-1,e,t,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new gt(c,3)),this.setAttribute("normal",new gt(u,3)),this.setAttribute("uv",new gt(d,2));function g(y,v,m,h,b,x,_,S,M,E,L){let I=x/M,T=_/E,A=x/2,k=_/2,U=S/2,F=M+1,N=E+1,j=0,Y=0,pe=new Z;for(let $=0;$<N;$++){let W=$*T-k;for(let J=0;J<F;J++){let oe=J*I-A;pe[y]=oe*h,pe[v]=W*b,pe[m]=U,c.push(pe.x,pe.y,pe.z),pe[y]=0,pe[v]=0,pe[m]=S>0?1:-1,u.push(pe.x,pe.y,pe.z),d.push(J/M),d.push(1-$/E),j+=1}}for(let $=0;$<E;$++)for(let W=0;W<M;W++){let J=p+W+F*$,oe=p+W+F*($+1),re=p+(W+1)+F*($+1),D=p+(W+1)+F*$;l.push(J,oe,D),l.push(oe,re,D),Y+=6}a.addGroup(f,Y,L),f+=Y,p+=j}}static fromJSON(e){return new fc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Ff(n){let e={};for(let t in n){e[t]={};for(let r in n[t]){let i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function fi(n){let e={};for(let t=0;t<n.length;t++){let r=Ff(n[t]);for(let i in r)e[i]=r[i]}return e}var vge={clone:Ff,merge:fi},xge=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,bge=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Ma=class extends Cr{constructor(e){super();this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=xge,this.fragmentShader=bge,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ff(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let i in this.uniforms){let s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let r={};for(let i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}};Ma.prototype.isShaderMaterial=!0;var Qy=class extends Wt{constructor(){super();this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}};Qy.prototype.isCamera=!0;var Gr=class extends Qy{constructor(e=50,t=1,r=.1,i=2e3){super();this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let t=.5*this.getFilmHeight()/e;this.fov=$y*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(Sf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return $y*2*Math.atan(Math.tan(Sf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,o,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,t=e*Math.tan(Sf*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,o=-.5*i,s=this.view;if(this.view!==null&&this.view.enabled){let l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}let a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};Gr.prototype.isPerspectiveCamera=!0;var kf=90,Bf=1,HT=class extends Wt{constructor(e,t,r){super();if(this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;let i=new Gr(kf,Bf,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Z(1,0,0)),this.add(i);let o=new Gr(kf,Bf,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Z(-1,0,0)),this.add(o);let s=new Gr(kf,Bf,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Z(0,1,0)),this.add(s);let a=new Gr(kf,Bf,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Z(0,-1,0)),this.add(a);let l=new Gr(kf,Bf,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Z(0,0,1)),this.add(l);let c=new Gr(kf,Bf,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Z(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();let r=this.renderTarget,[i,o,s,a,l,c]=this.children,u=e.xr.enabled,d=e.getRenderTarget();e.xr.enabled=!1;let p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,o),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(d),e.xr.enabled=u,r.texture.needsPMREMUpdate=!0}},ev=class extends yr{constructor(e,t,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Wy,super(e,t,r,i,o,s,a,l,c,u),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}};ev.prototype.isCubeTexture=!0;var kL=class extends oo{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),super(e,e,t),t=t||{},this.texture=new ev(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:di}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Mi,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new fc(5,5,5),o=new Ma({name:"CubemapFromEquirect",uniforms:Ff(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:mr,blending:ec});o.uniforms.tEquirect.value=t;let s=new Lr(i,o),a=t.minFilter;return t.minFilter===yT&&(t.minFilter=di),new HT(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){let o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(o)}};kL.prototype.isWebGLCubeRenderTarget=!0;var BL=new Z,_ge=new Z,wge=new Rr,Us=class{constructor(e=new Z(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){let i=BL.subVectors(r,t).cross(_ge.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){let r=e.delta(BL),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;let o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:t.copy(r).multiplyScalar(o).add(e.start)}intersectsLine(e){let t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){let r=t||wge.getNormalMatrix(e),i=this.coplanarPoint(BL).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};Us.prototype.isPlane=!0;var zf=new Hu,WT=new Z,tv=class{constructor(e=new Us,t=new Us,r=new Us,i=new Us,o=new Us,s=new Us){this.planes=[e,t,r,i,o,s]}set(e,t,r,i,o,s){let a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){let t=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],p=r[8],f=r[9],g=r[10],y=r[11],v=r[12],m=r[13],h=r[14],b=r[15];return t[0].setComponents(a-i,d-l,y-p,b-v).normalize(),t[1].setComponents(a+i,d+l,y+p,b+v).normalize(),t[2].setComponents(a+o,d+c,y+f,b+m).normalize(),t[3].setComponents(a-o,d-c,y-f,b-m).normalize(),t[4].setComponents(a-s,d-u,y-g,b-h).normalize(),t[5].setComponents(a+s,d+u,y+g,b+h).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),zf.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(zf)}intersectsSprite(e){return zf.center.set(0,0,0),zf.radius=.7071067811865476,zf.applyMatrix4(e.matrixWorld),this.intersectsSphere(zf)}intersectsSphere(e){let t=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(t[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let i=t[r];if(WT.x=i.normal.x>0?e.max.x:e.min.x,WT.y=i.normal.y>0?e.max.y:e.min.y,WT.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(WT)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function kj(){let n=null,e=!1,t=null,r=null;function i(o,s){t(o,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){t=o},setContext:function(o){n=o}}}function Tge(n,e){let t=e.isWebGL2,r=new WeakMap;function i(c,u){let d=c.array,p=c.usage,f=n.createBuffer();n.bindBuffer(u,f),n.bufferData(u,d,p),c.onUploadCallback();let g=5126;return d instanceof Float32Array?g=5126:d instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):d instanceof Uint16Array?c.isFloat16BufferAttribute?t?g=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):g=5123:d instanceof Int16Array?g=5122:d instanceof Uint32Array?g=5125:d instanceof Int32Array?g=5124:d instanceof Int8Array?g=5120:(d instanceof Uint8Array||d instanceof Uint8ClampedArray)&&(g=5121),{buffer:f,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function o(c,u,d){let p=u.array,f=u.updateRange;n.bindBuffer(d,c),f.count===-1?n.bufferSubData(d,0,p):(t?n.bufferSubData(d,f.offset*p.BYTES_PER_ELEMENT,p,f.offset,f.count):n.bufferSubData(d,f.offset*p.BYTES_PER_ELEMENT,p.subarray(f.offset,f.offset+f.count)),f.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);let u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){let p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);let d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(o(d.buffer,c,u),d.version=c.version)}return{get:s,remove:a,update:l}}var Uf=class extends Tt{constructor(e=1,t=1,r=1,i=1){super();this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};let o=e/2,s=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,p=t/l,f=[],g=[],y=[],v=[];for(let m=0;m<u;m++){let h=m*p-s;for(let b=0;b<c;b++){let x=b*d-o;g.push(x,-h,0),y.push(0,0,1),v.push(b/a),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let h=0;h<a;h++){let b=h+c*m,x=h+c*(m+1),_=h+1+c*(m+1),S=h+1+c*m;f.push(b,x,S),f.push(x,_,S)}this.setIndex(f),this.setAttribute("position",new gt(g,3)),this.setAttribute("normal",new gt(y,3)),this.setAttribute("uv",new gt(v,2))}static fromJSON(e){return new Uf(e.width,e.height,e.widthSegments,e.heightSegments)}},Sge=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Mge=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ege=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Pge=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Rge=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Cge=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Age="vec3 transformed = vec3( position );",Lge=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Dge=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Nge=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Ige=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Oge=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Fge=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,kge=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Bge=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zge=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Uge=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Vge=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Hge=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Wge=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_maxMipLevel 8.0
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_maxTileSize 256.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		float texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );
		vec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		if ( mipInt < cubeUV_maxMipLevel ) {
			uv.y += 2.0 * cubeUV_maxTileSize;
		}
		uv.y += filterInt * 2.0 * cubeUV_minTileSize;
		uv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );
		uv *= texelSize;
		return texture2D( envMap, uv ).rgb;
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Gge=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,jge=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qge=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,$ge=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Xge=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Yge="gl_FragColor = linearToOutputTexel( gl_FragColor );",Jge=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Zge=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Kge=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Qge=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,eye=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,tye=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,nye=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,rye=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,iye=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,oye=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,sye=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,aye=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		lightMapIrradiance *= PI;
	#endif
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lye=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cye=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,uye=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,dye=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec;
			#ifdef ENVMAP_MODE_REFLECTION
				reflectVec = reflect( - viewDir, normal );
				reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			#else
				reflectVec = refract( - viewDir, normal, refractionRatio );
			#endif
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,pye=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,fye=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,hye=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,mye=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,gye=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,yye=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,vye=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xye=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,bye=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,_ye=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,wye=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Tye=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Sye=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Mye=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Eye=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Pye=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Rye=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Cye=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Aye=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Lye=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Dye=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform vec2 morphTargetsTextureSize;
		vec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {
			float texelIndex = float( vertexIndex * stride + offset );
			float y = floor( texelIndex / morphTargetsTextureSize.x );
			float x = texelIndex - y * morphTargetsTextureSize.x;
			vec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );
			return texture( morphTargetsTexture, morphUV ).xyz;
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Nye=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			#ifndef USE_MORPHNORMALS
				if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];
			#else
				if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];
			#endif
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Iye=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Oye=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Fye=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,kye=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Bye=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,zye=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Uye=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Vye=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Hye=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Wye=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Gye=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,jye=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,qye=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,$ye=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Xye=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Yye=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Jye=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Zye=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Kye=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Qye=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,eve=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,tve=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,nve=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,rve=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ive=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ove=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,sve=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,ave=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,lve=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,cve=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,uve=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef TEXTURE_LOD_EXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,dve=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,pve=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,fve=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,hve=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,mve=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,gve=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,yve=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,vve=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,xve=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,bve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,_ve=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,wve=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Tve=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Sve=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Mve=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Eve=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Pve=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Rve=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Cve=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ave=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Lve=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dve=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nve=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ive=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Ove=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fve=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,kve=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,Bve=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zve=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uve=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Vve=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hve=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wve=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gve=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,jve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qve=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$ve=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Xve=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Yve=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Et={alphamap_fragment:Sge,alphamap_pars_fragment:Mge,alphatest_fragment:Ege,alphatest_pars_fragment:Pge,aomap_fragment:Rge,aomap_pars_fragment:Cge,begin_vertex:Age,beginnormal_vertex:Lge,bsdfs:Dge,bumpmap_pars_fragment:Nge,clipping_planes_fragment:Ige,clipping_planes_pars_fragment:Oge,clipping_planes_pars_vertex:Fge,clipping_planes_vertex:kge,color_fragment:Bge,color_pars_fragment:zge,color_pars_vertex:Uge,color_vertex:Vge,common:Hge,cube_uv_reflection_fragment:Wge,defaultnormal_vertex:Gge,displacementmap_pars_vertex:jge,displacementmap_vertex:qge,emissivemap_fragment:$ge,emissivemap_pars_fragment:Xge,encodings_fragment:Yge,encodings_pars_fragment:Jge,envmap_fragment:Zge,envmap_common_pars_fragment:Kge,envmap_pars_fragment:Qge,envmap_pars_vertex:eye,envmap_physical_pars_fragment:dye,envmap_vertex:tye,fog_vertex:nye,fog_pars_vertex:rye,fog_fragment:iye,fog_pars_fragment:oye,gradientmap_pars_fragment:sye,lightmap_fragment:aye,lightmap_pars_fragment:lye,lights_lambert_vertex:cye,lights_pars_begin:uye,lights_toon_fragment:pye,lights_toon_pars_fragment:fye,lights_phong_fragment:hye,lights_phong_pars_fragment:mye,lights_physical_fragment:gye,lights_physical_pars_fragment:yye,lights_fragment_begin:vye,lights_fragment_maps:xye,lights_fragment_end:bye,logdepthbuf_fragment:_ye,logdepthbuf_pars_fragment:wye,logdepthbuf_pars_vertex:Tye,logdepthbuf_vertex:Sye,map_fragment:Mye,map_pars_fragment:Eye,map_particle_fragment:Pye,map_particle_pars_fragment:Rye,metalnessmap_fragment:Cye,metalnessmap_pars_fragment:Aye,morphnormal_vertex:Lye,morphtarget_pars_vertex:Dye,morphtarget_vertex:Nye,normal_fragment_begin:Iye,normal_fragment_maps:Oye,normal_pars_fragment:Fye,normal_pars_vertex:kye,normal_vertex:Bye,normalmap_pars_fragment:zye,clearcoat_normal_fragment_begin:Uye,clearcoat_normal_fragment_maps:Vye,clearcoat_pars_fragment:Hye,output_fragment:Wye,packing:Gye,premultiplied_alpha_fragment:jye,project_vertex:qye,dithering_fragment:$ye,dithering_pars_fragment:Xye,roughnessmap_fragment:Yye,roughnessmap_pars_fragment:Jye,shadowmap_pars_fragment:Zye,shadowmap_pars_vertex:Kye,shadowmap_vertex:Qye,shadowmask_pars_fragment:eve,skinbase_vertex:tve,skinning_pars_vertex:nve,skinning_vertex:rve,skinnormal_vertex:ive,specularmap_fragment:ove,specularmap_pars_fragment:sve,tonemapping_fragment:ave,tonemapping_pars_fragment:lve,transmission_fragment:cve,transmission_pars_fragment:uve,uv_pars_fragment:dve,uv_pars_vertex:pve,uv_vertex:fve,uv2_pars_fragment:hve,uv2_pars_vertex:mve,uv2_vertex:gve,worldpos_vertex:yve,background_vert:vve,background_frag:xve,cube_vert:bve,cube_frag:_ve,depth_vert:wve,depth_frag:Tve,distanceRGBA_vert:Sve,distanceRGBA_frag:Mve,equirect_vert:Eve,equirect_frag:Pve,linedashed_vert:Rve,linedashed_frag:Cve,meshbasic_vert:Ave,meshbasic_frag:Lve,meshlambert_vert:Dve,meshlambert_frag:Nve,meshmatcap_vert:Ive,meshmatcap_frag:Ove,meshnormal_vert:Fve,meshnormal_frag:kve,meshphong_vert:Bve,meshphong_frag:zve,meshphysical_vert:Uve,meshphysical_frag:Vve,meshtoon_vert:Hve,meshtoon_frag:Wve,points_vert:Gve,points_frag:jve,shadow_vert:qve,shadow_frag:$ve,sprite_vert:Xve,sprite_frag:Yve},Ze={common:{diffuse:{value:new tt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Rr},uv2Transform:{value:new Rr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rr}},sprite:{diffuse:{value:new tt(16777215)},opacity:{value:1},center:{value:new Ve(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rr}}},Vs={basic:{uniforms:fi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.fog]),vertexShader:Et.meshbasic_vert,fragmentShader:Et.meshbasic_frag},lambert:{uniforms:fi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.fog,Ze.lights,{emissive:{value:new tt(0)}}]),vertexShader:Et.meshlambert_vert,fragmentShader:Et.meshlambert_frag},phong:{uniforms:fi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new tt(0)},specular:{value:new tt(1118481)},shininess:{value:30}}]),vertexShader:Et.meshphong_vert,fragmentShader:Et.meshphong_frag},standard:{uniforms:fi([Ze.common,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.roughnessmap,Ze.metalnessmap,Ze.fog,Ze.lights,{emissive:{value:new tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag},toon:{uniforms:fi([Ze.common,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.gradientmap,Ze.fog,Ze.lights,{emissive:{value:new tt(0)}}]),vertexShader:Et.meshtoon_vert,fragmentShader:Et.meshtoon_frag},matcap:{uniforms:fi([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,{matcap:{value:null}}]),vertexShader:Et.meshmatcap_vert,fragmentShader:Et.meshmatcap_frag},points:{uniforms:fi([Ze.points,Ze.fog]),vertexShader:Et.points_vert,fragmentShader:Et.points_frag},dashed:{uniforms:fi([Ze.common,Ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Et.linedashed_vert,fragmentShader:Et.linedashed_frag},depth:{uniforms:fi([Ze.common,Ze.displacementmap]),vertexShader:Et.depth_vert,fragmentShader:Et.depth_frag},normal:{uniforms:fi([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,{opacity:{value:1}}]),vertexShader:Et.meshnormal_vert,fragmentShader:Et.meshnormal_frag},sprite:{uniforms:fi([Ze.sprite,Ze.fog]),vertexShader:Et.sprite_vert,fragmentShader:Et.sprite_frag},background:{uniforms:{uvTransform:{value:new Rr},t2D:{value:null}},vertexShader:Et.background_vert,fragmentShader:Et.background_frag},cube:{uniforms:fi([Ze.envmap,{opacity:{value:1}}]),vertexShader:Et.cube_vert,fragmentShader:Et.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Et.equirect_vert,fragmentShader:Et.equirect_frag},distanceRGBA:{uniforms:fi([Ze.common,Ze.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Et.distanceRGBA_vert,fragmentShader:Et.distanceRGBA_frag},shadow:{uniforms:fi([Ze.lights,Ze.fog,{color:{value:new tt(0)},opacity:{value:1}}]),vertexShader:Et.shadow_vert,fragmentShader:Et.shadow_frag}};Vs.physical={uniforms:fi([Vs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ve(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new tt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new tt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new tt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Et.meshphysical_vert,fragmentShader:Et.meshphysical_frag};function Jve(n,e,t,r,i,o){let s=new tt(0),a=i===!0?0:1,l,c,u=null,d=0,p=null;function f(y,v){let m=!1,h=v.isScene===!0?v.background:null;h&&h.isTexture&&(h=e.get(h));let b=n.xr,x=b.getSession&&b.getSession();x&&x.environmentBlendMode==="additive"&&(h=null),h===null?g(s,a):h&&h.isColor&&(g(h,1),m=!0),(n.autoClear||m)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),h&&(h.isCubeTexture||h.mapping===gT)?(c===void 0&&(c=new Lr(new fc(1,1,1),new Ma({name:"BackgroundCubeMaterial",uniforms:Ff(Vs.cube.uniforms),vertexShader:Vs.cube.vertexShader,fragmentShader:Vs.cube.fragmentShader,side:mr,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(_,S,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=h,c.material.uniforms.flipEnvMap.value=h.isCubeTexture&&h.isRenderTargetTexture===!1?-1:1,(u!==h||d!==h.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,u=h,d=h.version,p=n.toneMapping),y.unshift(c,c.geometry,c.material,0,0,null)):h&&h.isTexture&&(l===void 0&&(l=new Lr(new Uf(2,2),new Ma({name:"BackgroundMaterial",uniforms:Ff(Vs.background.uniforms),vertexShader:Vs.background.vertexShader,fragmentShader:Vs.background.fragmentShader,side:Vy,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=h,h.matrixAutoUpdate===!0&&h.updateMatrix(),l.material.uniforms.uvTransform.value.copy(h.matrix),(u!==h||d!==h.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,u=h,d=h.version,p=n.toneMapping),y.unshift(l,l.geometry,l.material,0,0,null))}function g(y,v){t.buffers.color.setClear(y.r,y.g,y.b,v,o)}return{getClearColor:function(){return s},setClearColor:function(y,v=1){s.set(y),a=v,g(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(y){a=y,g(s,a)},render:f}}function Zve(n,e,t,r){let i=n.getParameter(34921),o=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||o!==null,a={},l=y(null),c=l;function u(k,U,F,N,j){let Y=!1;if(s){let pe=g(N,F,U);c!==pe&&(c=pe,p(c.object)),Y=v(N,j),Y&&m(N,j)}else{let pe=U.wireframe===!0;(c.geometry!==N.id||c.program!==F.id||c.wireframe!==pe)&&(c.geometry=N.id,c.program=F.id,c.wireframe=pe,Y=!0)}k.isInstancedMesh===!0&&(Y=!0),j!==null&&t.update(j,34963),Y&&(M(k,U,F,N),j!==null&&n.bindBuffer(34963,t.get(j).buffer))}function d(){return r.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}function p(k){return r.isWebGL2?n.bindVertexArray(k):o.bindVertexArrayOES(k)}function f(k){return r.isWebGL2?n.deleteVertexArray(k):o.deleteVertexArrayOES(k)}function g(k,U,F){let N=F.wireframe===!0,j=a[k.id];j===void 0&&(j={},a[k.id]=j);let Y=j[U.id];Y===void 0&&(Y={},j[U.id]=Y);let pe=Y[N];return pe===void 0&&(pe=y(d()),Y[N]=pe),pe}function y(k){let U=[],F=[],N=[];for(let j=0;j<i;j++)U[j]=0,F[j]=0,N[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:U,enabledAttributes:F,attributeDivisors:N,object:k,attributes:{},index:null}}function v(k,U){let F=c.attributes,N=k.attributes,j=0;for(let Y in N){let pe=F[Y],$=N[Y];if(pe===void 0||pe.attribute!==$||pe.data!==$.data)return!0;j++}return c.attributesNum!==j||c.index!==U}function m(k,U){let F={},N=k.attributes,j=0;for(let Y in N){let pe=N[Y],$={};$.attribute=pe,pe.data&&($.data=pe.data),F[Y]=$,j++}c.attributes=F,c.attributesNum=j,c.index=U}function h(){let k=c.newAttributes;for(let U=0,F=k.length;U<F;U++)k[U]=0}function b(k){x(k,0)}function x(k,U){let F=c.newAttributes,N=c.enabledAttributes,j=c.attributeDivisors;F[k]=1,N[k]===0&&(n.enableVertexAttribArray(k),N[k]=1),j[k]!==U&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,U),j[k]=U)}function _(){let k=c.newAttributes,U=c.enabledAttributes;for(let F=0,N=U.length;F<N;F++)U[F]!==k[F]&&(n.disableVertexAttribArray(F),U[F]=0)}function S(k,U,F,N,j,Y){r.isWebGL2===!0&&(F===5124||F===5125)?n.vertexAttribIPointer(k,U,F,j,Y):n.vertexAttribPointer(k,U,F,N,j,Y)}function M(k,U,F,N){if(r.isWebGL2===!1&&(k.isInstancedMesh||N.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;h();let j=N.attributes,Y=F.getAttributes(),pe=U.defaultAttributeValues;for(let $ in Y){let W=Y[$];if(W.location>=0){let J=j[$];if(J===void 0&&($==="instanceMatrix"&&k.instanceMatrix&&(J=k.instanceMatrix),$==="instanceColor"&&k.instanceColor&&(J=k.instanceColor)),J!==void 0){let oe=J.normalized,re=J.itemSize,D=t.get(J);if(D===void 0)continue;let Te=D.buffer,de=D.type,Me=D.bytesPerElement;if(J.isInterleavedBufferAttribute){let me=J.data,Pe=me.stride,_e=J.offset;if(me&&me.isInstancedInterleavedBuffer){for(let q=0;q<W.locationSize;q++)x(W.location+q,me.meshPerAttribute);k.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=me.meshPerAttribute*me.count)}else for(let q=0;q<W.locationSize;q++)b(W.location+q);n.bindBuffer(34962,Te);for(let q=0;q<W.locationSize;q++)S(W.location+q,re/W.locationSize,de,oe,Pe*Me,(_e+re/W.locationSize*q)*Me)}else{if(J.isInstancedBufferAttribute){for(let me=0;me<W.locationSize;me++)x(W.location+me,J.meshPerAttribute);k.isInstancedMesh!==!0&&N._maxInstanceCount===void 0&&(N._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let me=0;me<W.locationSize;me++)b(W.location+me);n.bindBuffer(34962,Te);for(let me=0;me<W.locationSize;me++)S(W.location+me,re/W.locationSize,de,oe,re*Me,re/W.locationSize*me*Me)}}else if(pe!==void 0){let oe=pe[$];if(oe!==void 0)switch(oe.length){case 2:n.vertexAttrib2fv(W.location,oe);break;case 3:n.vertexAttrib3fv(W.location,oe);break;case 4:n.vertexAttrib4fv(W.location,oe);break;default:n.vertexAttrib1fv(W.location,oe)}}}}_()}function E(){T();for(let k in a){let U=a[k];for(let F in U){let N=U[F];for(let j in N)f(N[j].object),delete N[j];delete U[F]}delete a[k]}}function L(k){if(a[k.id]===void 0)return;let U=a[k.id];for(let F in U){let N=U[F];for(let j in N)f(N[j].object),delete N[j];delete U[F]}delete a[k.id]}function I(k){for(let U in a){let F=a[U];if(F[k.id]===void 0)continue;let N=F[k.id];for(let j in N)f(N[j].object),delete N[j];delete F[k.id]}}function T(){A(),c!==l&&(c=l,p(c.object))}function A(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:T,resetDefaultState:A,dispose:E,releaseStatesOfGeometry:L,releaseStatesOfProgram:I,initAttributes:h,enableAttribute:b,disableUnusedAttributes:_}}function Kve(n,e,t,r){let i=r.isWebGL2,o;function s(c){o=c}function a(c,u){n.drawArrays(o,c,u),t.update(u,o,1)}function l(c,u,d){if(d===0)return;let p,f;if(i)p=n,f="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[f](o,c,u,d),t.update(u,o,d)}this.setMode=s,this.render=a,this.renderInstances=l}function Qve(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){let M=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(M){if(M==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";M="mediump"}return M==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let s=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext,a=t.precision!==void 0?t.precision:"highp",l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);let c=s||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),p=n.getParameter(35660),f=n.getParameter(3379),g=n.getParameter(34076),y=n.getParameter(34921),v=n.getParameter(36347),m=n.getParameter(36348),h=n.getParameter(36349),b=p>0,x=s||e.has("OES_texture_float"),_=b&&x,S=s?n.getParameter(36183):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:p,maxTextureSize:f,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:h,vertexTextures:b,floatFragmentTextures:x,floatVertexTextures:_,maxSamples:S}}function e0e(n){let e=this,t=null,r=0,i=!1,o=!1,s=new Us,a=new Rr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p,f){let g=d.length!==0||p||r!==0||i;return i=p,t=u(d,f,0),r=d.length,g},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,c()},this.setState=function(d,p,f){let g=d.clippingPlanes,y=d.clipIntersection,v=d.clipShadows,m=n.get(d);if(!i||g===null||g.length===0||o&&!v)o?u(null):c();else{let h=o?0:r,b=h*4,x=m.clippingState||null;l.value=x,x=u(g,p,b,f);for(let _=0;_!==b;++_)x[_]=t[_];m.clippingState=x,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=h}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,p,f,g){let y=d!==null?d.length:0,v=null;if(y!==0){if(v=l.value,g!==!0||v===null){let m=f+y*4,h=p.matrixWorldInverse;a.getNormalMatrix(h),(v===null||v.length<m)&&(v=new Float32Array(m));for(let b=0,x=f;b!==y;++b,x+=4)s.copy(d[b]).applyMatrix4(h,a),s.normal.toArray(v,x),v[x+3]=s.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}}function t0e(n){let e=new WeakMap;function t(s,a){return a===Q2?s.mapping=Wy:a===eL&&(s.mapping=Gy),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){let a=s.mapping;if(a===Q2||a===eL)if(e.has(s)){let l=e.get(s).texture;return t(l,s.mapping)}else{let l=s.image;if(l&&l.height>0){let c=new kL(l.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){let a=s.target;a.removeEventListener("dispose",i);let l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}var GT=class extends Qy{constructor(e=-1,t=1,r=1,i=-1,o=.1,s=2e3){super();this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,o=r-e,s=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){let c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};GT.prototype.isOrthographicCamera=!0;var Vf=class extends Ma{constructor(e){super(e);this.type="RawShaderMaterial"}};Vf.prototype.isRawShaderMaterial=!0;var Hf=4,hc=8,Hs=Math.pow(2,hc),Bj=[.125,.215,.35,.446,.526,.582],zj=hc-Hf+1+Bj.length,Wf=20,zL=new GT,{_lodPlanes:nv,_sizeLods:Uj,_sigmas:jT}=n0e(),Vj=new tt,UL=null,qu=(1+Math.sqrt(5))/2,Gf=1/qu,Hj=[new Z(1,1,1),new Z(-1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(0,qu,Gf),new Z(0,qu,-Gf),new Z(Gf,0,qu),new Z(-Gf,0,qu),new Z(qu,Gf,0),new Z(-qu,Gf,0)],VL=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=r0e(Wf),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){UL=this._renderer.getRenderTarget();let o=this._allocateTargets();return this._sceneToCubeUV(e,r,i,o),t>0&&this._blur(o,0,0,t),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapShader===null&&(this._cubemapShader=jj(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){this._equirectShader===null&&(this._equirectShader=Gj(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<nv.length;e++)nv[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(UL),e.scissorTest=!1,qT(e,0,0,e.width,e.height)}_fromTexture(e,t){UL=this._renderer.getRenderTarget();let r=t||this._allocateTargets(e);return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(e){let t={magFilter:di,minFilter:di,generateMipmaps:!1,type:vf,format:Mi,encoding:rc,depthBuffer:!1},r=Wj(t);return r.depthBuffer=!e,this._pingPongRenderTarget===null&&(this._pingPongRenderTarget=Wj(t)),r}_compileMaterial(e){let t=new Lr(nv[0],e);this._renderer.compile(t,zL)}_sceneToCubeUV(e,t,r,i){let o=90,s=1,a=new Gr(o,s,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,p=u.toneMapping;u.getClearColor(Vj),u.toneMapping=tc,u.autoClear=!1;let f=new ju({name:"PMREM.Background",side:mr,depthWrite:!1,depthTest:!1}),g=new Lr(new fc,f),y=!1,v=e.background;v?v.isColor&&(f.color.copy(v),e.background=null,y=!0):(f.color.copy(Vj),y=!0);for(let m=0;m<6;m++){let h=m%3;h===0?(a.up.set(0,l[m],0),a.lookAt(c[m],0,0)):h===1?(a.up.set(0,0,l[m]),a.lookAt(0,c[m],0)):(a.up.set(0,l[m],0),a.lookAt(0,0,c[m])),qT(i,h*Hs,m>2?Hs:0,Hs,Hs),u.setRenderTarget(i),y&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=p,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){let r=this._renderer,i=e.mapping===Wy||e.mapping===Gy;i?(this._cubemapShader===null&&(this._cubemapShader=jj()),this._cubemapShader.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectShader===null&&(this._equirectShader=Gj());let o=i?this._cubemapShader:this._equirectShader,s=new Lr(nv[0],o),a=o.uniforms;a.envMap.value=e,i||a.texelSize.value.set(1/e.image.width,1/e.image.height),qT(t,0,0,3*Hs,2*Hs),r.setRenderTarget(t),r.render(s,zL)}_applyPMREM(e){let t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<zj;i++){let o=Math.sqrt(jT[i]*jT[i]-jT[i-1]*jT[i-1]),s=Hj[(i-1)%Hj.length];this._blur(e,i-1,i,o,s)}t.autoClear=r}_blur(e,t,r,i,o){let s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,t,r,i,o,s,a){let l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let u=3,d=new Lr(nv[i],c),p=c.uniforms,f=Uj[r]-1,g=isFinite(o)?Math.PI/(2*f):2*Math.PI/(2*Wf-1),y=o/g,v=isFinite(o)?1+Math.floor(u*y):Wf;v>Wf&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Wf}`);let m=[],h=0;for(let S=0;S<Wf;++S){let M=S/y,E=Math.exp(-M*M/2);m.push(E),S===0?h+=E:S<v&&(h+=2*E)}for(let S=0;S<m.length;S++)m[S]=m[S]/h;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=m,p.latitudinal.value=s==="latitudinal",a&&(p.poleAxis.value=a),p.dTheta.value=g,p.mipInt.value=hc-r;let b=Uj[i],x=3*Math.max(0,Hs-2*b),_=(i===0?0:2*Hs)+2*b*(i>hc-Hf?i-hc+Hf:0);qT(t,x,_,3*b,2*b),l.setRenderTarget(t),l.render(d,zL)}};function n0e(){let n=[],e=[],t=[],r=hc;for(let i=0;i<zj;i++){let o=Math.pow(2,r);e.push(o);let s=1/o;i>hc-Hf?s=Bj[i-hc+Hf-1]:i===0&&(s=0),t.push(s);let a=1/(o-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],d=6,p=6,f=3,g=2,y=1,v=new Float32Array(f*p*d),m=new Float32Array(g*p*d),h=new Float32Array(y*p*d);for(let x=0;x<d;x++){let _=x%3*2/3-1,S=x>2?0:-1,M=[_,S,0,_+2/3,S,0,_+2/3,S+1,0,_,S,0,_+2/3,S+1,0,_,S+1,0];v.set(M,f*p*x),m.set(u,g*p*x);let E=[x,x,x,x,x,x];h.set(E,y*p*x)}let b=new Tt;b.setAttribute("position",new En(v,f)),b.setAttribute("uv",new En(m,g)),b.setAttribute("faceIndex",new En(h,y)),n.push(b),r>Hf&&r--}return{_lodPlanes:n,_sizeLods:e,_sigmas:t}}function Wj(n){let e=new oo(3*Hs,3*Hs,n);return e.texture.mapping=gT,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function qT(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function r0e(n){let e=new Float32Array(n),t=new Z(0,1,0);return new Vf({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t}},vertexShader:HL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ec,depthTest:!1,depthWrite:!1})}function Gj(){let n=new Ve(1,1);return new Vf({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:n}},vertexShader:HL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = texture2D ( envMap, uv ).rgb;
				uv.x += texelSize.x;
				vec3 tr = texture2D ( envMap, uv ).rgb;
				uv.y += texelSize.y;
				vec3 br = texture2D ( envMap, uv ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = texture2D ( envMap, uv ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

			}
		`,blending:ec,depthTest:!1,depthWrite:!1})}function jj(){return new Vf({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:HL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ec,depthTest:!1,depthWrite:!1})}function HL(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function i0e(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){let l=a.mapping,c=l===Q2||l===eL,u=l===Wy||l===Gy;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return t===null&&(t=new VL(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{let d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new VL(n));let p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",o),p.texture}else return null}}}return a}function i(a){let l=0,c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){let l=a.target;l.removeEventListener("dispose",o);let c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function o0e(n){let e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){let i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function s0e(n,e,t,r){let i={},o=new WeakMap;function s(d){let p=d.target;p.index!==null&&e.remove(p.index);for(let g in p.attributes)e.remove(p.attributes[g]);p.removeEventListener("dispose",s),delete i[p.id];let f=o.get(p);f&&(e.remove(f),o.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(d,p){return i[p.id]===!0||(p.addEventListener("dispose",s),i[p.id]=!0,t.memory.geometries++),p}function l(d){let p=d.attributes;for(let g in p)e.update(p[g],34962);let f=d.morphAttributes;for(let g in f){let y=f[g];for(let v=0,m=y.length;v<m;v++)e.update(y[v],34962)}}function c(d){let p=[],f=d.index,g=d.attributes.position,y=0;if(f!==null){let h=f.array;y=f.version;for(let b=0,x=h.length;b<x;b+=3){let _=h[b+0],S=h[b+1],M=h[b+2];p.push(_,S,S,M,M,_)}}else{let h=g.array;y=g.version;for(let b=0,x=h.length/3-1;b<x;b+=3){let _=b+0,S=b+1,M=b+2;p.push(_,S,S,M,M,_)}}let v=new(wj(p)?AL:CL)(p,1);v.version=y;let m=o.get(d);m&&e.remove(m),o.set(d,v)}function u(d){let p=o.get(d);if(p){let f=d.index;f!==null&&p.version<f.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function a0e(n,e,t,r){let i=r.isWebGL2,o;function s(p){o=p}let a,l;function c(p){a=p.type,l=p.bytesPerElement}function u(p,f){n.drawElements(o,f,a,p*l),t.update(f,o,1)}function d(p,f,g){if(g===0)return;let y,v;if(i)y=n,v="drawElementsInstanced";else if(y=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",y===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}y[v](o,f,a,p*l,g),t.update(f,o,g)}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=d}function l0e(n){let e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(t.calls++,s){case 4:t.triangles+=a*(o/3);break;case 1:t.lines+=a*(o/2);break;case 3:t.lines+=a*(o-1);break;case 2:t.lines+=a*o;break;case 0:t.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}var $T=class extends yr{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=gr,this.minFilter=gr,this.wrapR=io,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};$T.prototype.isDataTexture2DArray=!0;function c0e(n,e){return n[0]-e[0]}function u0e(n,e){return Math.abs(e[1])-Math.abs(n[1])}function qj(n,e){let t=1,r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function d0e(n,e,t){let r={},i=new Float32Array(8),o=new WeakMap,s=new Z,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,p){let f=c.morphTargetInfluences;if(e.isWebGL2===!0){let g=u.morphAttributes.position.length,y=o.get(u);if(y===void 0||y.count!==g){let A=function(){I.dispose(),o.delete(u),u.removeEventListener("dispose",A)};y!==void 0&&y.texture.dispose();let h=u.morphAttributes.normal!==void 0,b=u.morphAttributes.position,x=u.morphAttributes.normal||[],_=u.attributes.position.count,S=h===!0?2:1,M=_*S,E=1;M>e.maxTextureSize&&(E=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);let L=new Float32Array(M*E*4*g),I=new $T(L,M,E,g);I.format=Mi,I.type=ku,I.needsUpdate=!0;let T=S*4;for(let k=0;k<g;k++){let U=b[k],F=x[k],N=M*E*4*k;for(let j=0;j<U.count;j++){s.fromBufferAttribute(U,j),U.normalized===!0&&qj(s,U);let Y=j*T;L[N+Y+0]=s.x,L[N+Y+1]=s.y,L[N+Y+2]=s.z,L[N+Y+3]=0,h===!0&&(s.fromBufferAttribute(F,j),F.normalized===!0&&qj(s,F),L[N+Y+4]=s.x,L[N+Y+5]=s.y,L[N+Y+6]=s.z,L[N+Y+7]=0)}}y={count:g,texture:I,size:new Ve(M,E)},o.set(u,y),u.addEventListener("dispose",A)}let v=0;for(let h=0;h<f.length;h++)v+=f[h];let m=u.morphTargetsRelative?1:1-v;p.getUniforms().setValue(n,"morphTargetBaseInfluence",m),p.getUniforms().setValue(n,"morphTargetInfluences",f),p.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{let g=f===void 0?0:f.length,y=r[u.id];if(y===void 0||y.length!==g){y=[];for(let x=0;x<g;x++)y[x]=[x,0];r[u.id]=y}for(let x=0;x<g;x++){let _=y[x];_[0]=x,_[1]=f[x]}y.sort(u0e);for(let x=0;x<8;x++)x<g&&y[x][1]?(a[x][0]=y[x][0],a[x][1]=y[x][1]):(a[x][0]=Number.MAX_SAFE_INTEGER,a[x][1]=0);a.sort(c0e);let v=u.morphAttributes.position,m=u.morphAttributes.normal,h=0;for(let x=0;x<8;x++){let _=a[x],S=_[0],M=_[1];S!==Number.MAX_SAFE_INTEGER&&M?(v&&u.getAttribute("morphTarget"+x)!==v[S]&&u.setAttribute("morphTarget"+x,v[S]),m&&u.getAttribute("morphNormal"+x)!==m[S]&&u.setAttribute("morphNormal"+x,m[S]),i[x]=M,h+=M):(v&&u.hasAttribute("morphTarget"+x)===!0&&u.deleteAttribute("morphTarget"+x),m&&u.hasAttribute("morphNormal"+x)===!0&&u.deleteAttribute("morphNormal"+x),i[x]=0)}let b=u.morphTargetsRelative?1:1-h;p.getUniforms().setValue(n,"morphTargetBaseInfluence",b),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function p0e(n,e,t,r){let i=new WeakMap;function o(l){let c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function s(){i=new WeakMap}function a(l){let c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:o,dispose:s}}var WL=class extends yr{constructor(e=null,t=1,r=1,i=1){super(null);this.image={data:e,width:t,height:r,depth:i},this.magFilter=gr,this.minFilter=gr,this.wrapR=io,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};WL.prototype.isDataTexture3D=!0;var $j=new yr,Xj=new $T,Yj=new WL,Jj=new ev,Zj=[],Kj=[],Qj=new Float32Array(16),eq=new Float32Array(9),tq=new Float32Array(4);function jf(n,e,t){let r=n[0];if(r<=0||r>0)return n;let i=e*t,o=Zj[i];if(o===void 0&&(o=new Float32Array(i),Zj[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=t,n[s].toArray(o,a)}return o}function Ei(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function hi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function XT(n,e){let t=Kj[e];t===void 0&&(t=new Int32Array(e),Kj[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function f0e(n,e){let t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function h0e(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ei(t,e))return;n.uniform2fv(this.addr,e),hi(t,e)}}function m0e(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ei(t,e))return;n.uniform3fv(this.addr,e),hi(t,e)}}function g0e(n,e){let t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ei(t,e))return;n.uniform4fv(this.addr,e),hi(t,e)}}function y0e(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Ei(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),hi(t,e)}else{if(Ei(t,r))return;tq.set(r),n.uniformMatrix2fv(this.addr,!1,tq),hi(t,r)}}function v0e(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Ei(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),hi(t,e)}else{if(Ei(t,r))return;eq.set(r),n.uniformMatrix3fv(this.addr,!1,eq),hi(t,r)}}function x0e(n,e){let t=this.cache,r=e.elements;if(r===void 0){if(Ei(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),hi(t,e)}else{if(Ei(t,r))return;Qj.set(r),n.uniformMatrix4fv(this.addr,!1,Qj),hi(t,r)}}function b0e(n,e){let t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function _0e(n,e){let t=this.cache;Ei(t,e)||(n.uniform2iv(this.addr,e),hi(t,e))}function w0e(n,e){let t=this.cache;Ei(t,e)||(n.uniform3iv(this.addr,e),hi(t,e))}function T0e(n,e){let t=this.cache;Ei(t,e)||(n.uniform4iv(this.addr,e),hi(t,e))}function S0e(n,e){let t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function M0e(n,e){let t=this.cache;Ei(t,e)||(n.uniform2uiv(this.addr,e),hi(t,e))}function E0e(n,e){let t=this.cache;Ei(t,e)||(n.uniform3uiv(this.addr,e),hi(t,e))}function P0e(n,e){let t=this.cache;Ei(t,e)||(n.uniform4uiv(this.addr,e),hi(t,e))}function R0e(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTexture2D(e||$j,i)}function C0e(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Yj,i)}function A0e(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.safeSetTextureCube(e||Jj,i)}function L0e(n,e,t){let r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Xj,i)}function D0e(n){switch(n){case 5126:return f0e;case 35664:return h0e;case 35665:return m0e;case 35666:return g0e;case 35674:return y0e;case 35675:return v0e;case 35676:return x0e;case 5124:case 35670:return b0e;case 35667:case 35671:return _0e;case 35668:case 35672:return w0e;case 35669:case 35673:return T0e;case 5125:return S0e;case 36294:return M0e;case 36295:return E0e;case 36296:return P0e;case 35678:case 36198:case 36298:case 36306:case 35682:return R0e;case 35679:case 36299:case 36307:return C0e;case 35680:case 36300:case 36308:case 36293:return A0e;case 36289:case 36303:case 36311:case 36292:return L0e}}function N0e(n,e){n.uniform1fv(this.addr,e)}function I0e(n,e){let t=jf(e,this.size,2);n.uniform2fv(this.addr,t)}function O0e(n,e){let t=jf(e,this.size,3);n.uniform3fv(this.addr,t)}function F0e(n,e){let t=jf(e,this.size,4);n.uniform4fv(this.addr,t)}function k0e(n,e){let t=jf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function B0e(n,e){let t=jf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function z0e(n,e){let t=jf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function U0e(n,e){n.uniform1iv(this.addr,e)}function V0e(n,e){n.uniform2iv(this.addr,e)}function H0e(n,e){n.uniform3iv(this.addr,e)}function W0e(n,e){n.uniform4iv(this.addr,e)}function G0e(n,e){n.uniform1uiv(this.addr,e)}function j0e(n,e){n.uniform2uiv(this.addr,e)}function q0e(n,e){n.uniform3uiv(this.addr,e)}function $0e(n,e){n.uniform4uiv(this.addr,e)}function X0e(n,e,t){let r=e.length,i=XT(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTexture2D(e[o]||$j,i[o])}function Y0e(n,e,t){let r=e.length,i=XT(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture3D(e[o]||Yj,i[o])}function J0e(n,e,t){let r=e.length,i=XT(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.safeSetTextureCube(e[o]||Jj,i[o])}function Z0e(n,e,t){let r=e.length,i=XT(t,r);n.uniform1iv(this.addr,i);for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||Xj,i[o])}function K0e(n){switch(n){case 5126:return N0e;case 35664:return I0e;case 35665:return O0e;case 35666:return F0e;case 35674:return k0e;case 35675:return B0e;case 35676:return z0e;case 5124:case 35670:return U0e;case 35667:case 35671:return V0e;case 35668:case 35672:return H0e;case 35669:case 35673:return W0e;case 5125:return G0e;case 36294:return j0e;case 36295:return q0e;case 36296:return $0e;case 35678:case 36198:case 36298:case 36306:case 35682:return X0e;case 35679:case 36299:case 36307:return Y0e;case 35680:case 36300:case 36308:case 36293:return J0e;case 36289:case 36303:case 36311:case 36292:return Z0e}}function Q0e(n,e,t){this.id=n,this.addr=t,this.cache=[],this.setValue=D0e(e.type)}function nq(n,e,t){this.id=n,this.addr=t,this.cache=[],this.size=e.size,this.setValue=K0e(e.type)}nq.prototype.updateCache=function(n){let e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),hi(e,n)};function rq(n){this.id=n,this.seq=[],this.map={}}rq.prototype.setValue=function(n,e,t){let r=this.seq;for(let i=0,o=r.length;i!==o;++i){let s=r[i];s.setValue(n,e[s.id],t)}};var GL=/(\w+)(\])?(\[|\.)?/g;function iq(n,e){n.seq.push(e),n.map[e.id]=e}function exe(n,e,t){let r=n.name,i=r.length;for(GL.lastIndex=0;;){let o=GL.exec(r),s=GL.lastIndex,a=o[1],l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){iq(t,c===void 0?new Q0e(a,n,e):new nq(a,n,e));break}else{let d=t.map[a];d===void 0&&(d=new rq(a),iq(t,d)),t=d}}}function mc(n,e){this.seq=[],this.map={};let t=n.getProgramParameter(e,35718);for(let r=0;r<t;++r){let i=n.getActiveUniform(e,r),o=n.getUniformLocation(e,i.name);exe(i,o,this)}}mc.prototype.setValue=function(n,e,t,r){let i=this.map[e];i!==void 0&&i.setValue(n,t,r)};mc.prototype.setOptional=function(n,e,t){let r=e[t];r!==void 0&&this.setValue(n,t,r)};mc.upload=function(n,e,t,r){for(let i=0,o=e.length;i!==o;++i){let s=e[i],a=t[s.id];a.needsUpdate!==!1&&s.setValue(n,a.value,r)}};mc.seqWithValue=function(n,e){let t=[];for(let r=0,i=n.length;r!==i;++r){let o=n[r];o.id in e&&t.push(o)}return t};function oq(n,e,t){let r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}var txe=0;function nxe(n){let e=n.split(`
`);for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join(`
`)}function rxe(n){switch(n){case rc:return["Linear","( value )"];case Mn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function sq(n,e,t){let r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();return r&&i===""?"":t.toUpperCase()+`

`+i+`

`+nxe(n.getShaderSource(e))}function ixe(n,e){let t=rxe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function oxe(n,e){let t;switch(e){case xme:t="Linear";break;case bme:t="Reinhard";break;case _me:t="OptimizedCineon";break;case wme:t="ACESFilmic";break;case Tme:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function sxe(n){return[n.extensionDerivatives||n.envMapCubeUV||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(rv).join(`
`)}function axe(n){let e=[];for(let t in n){let r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function lxe(n,e){let t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){let o=n.getActiveAttrib(e,i),s=o.name,a=1;o.type===35674&&(a=2),o.type===35675&&(a=3),o.type===35676&&(a=4),t[s]={type:o.type,location:n.getAttribLocation(e,s),locationSize:a}}return t}function rv(n){return n!==""}function aq(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function lq(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var cxe=/^[ \t]*#include +<([\w\d./]+)>/gm;function jL(n){return n.replace(cxe,uxe)}function uxe(n,e){let t=Et[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return jL(t)}var dxe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,pxe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cq(n){return n.replace(pxe,uq).replace(dxe,fxe)}function fxe(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),uq(n,e,t,r)}function uq(n,e,t,r){let i="";for(let o=parseInt(e);o<parseInt(t);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function dq(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function hxe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===U8?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Zhe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Uy&&(e="SHADOWMAP_TYPE_VSM"),e}function mxe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Wy:case Gy:e="ENVMAP_TYPE_CUBE";break;case gT:case tL:e="ENVMAP_TYPE_CUBE_UV";break}return e}function gxe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Gy:case tL:e="ENVMAP_MODE_REFRACTION";break}return e}function yxe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case mT:e="ENVMAP_BLENDING_MULTIPLY";break;case yme:e="ENVMAP_BLENDING_MIX";break;case vme:e="ENVMAP_BLENDING_ADD";break}return e}function vxe(n,e,t,r){let i=n.getContext(),o=t.defines,s=t.vertexShader,a=t.fragmentShader,l=hxe(t),c=mxe(t),u=gxe(t),d=yxe(t),p=t.isWebGL2?"":sxe(t),f=axe(o),g=i.createProgram(),y,v,m=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(y=[f].filter(rv).join(`
`),y.length>0&&(y+=`
`),v=[p,f].filter(rv).join(`
`),v.length>0&&(v+=`
`)):(y=[dq(t),"#define SHADER_NAME "+t.shaderName,f,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+t.maxBones,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.useVertexTexture?"#define BONE_TEXTURE":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargets&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(rv).join(`
`),v=[p,dq(t),"#define SHADER_NAME "+t.shaderName,f,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==tc?"#define TONE_MAPPING":"",t.toneMapping!==tc?Et.tonemapping_pars_fragment:"",t.toneMapping!==tc?oxe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.alphaWrite?"":"#define OPAQUE",Et.encodings_pars_fragment,ixe("linearToOutputTexel",t.outputEncoding),t.depthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(rv).join(`
`)),s=jL(s),s=aq(s,t),s=lq(s,t),a=jL(a),a=aq(a,t),a=lq(a,t),s=cq(s),a=cq(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(m=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",t.glslVersion===bj?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===bj?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);let h=m+y+s,b=m+v+a,x=oq(i,35633,h),_=oq(i,35632,b);if(i.attachShader(g,x),i.attachShader(g,_),t.index0AttributeName!==void 0?i.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),n.debug.checkShaderErrors){let E=i.getProgramInfoLog(g).trim(),L=i.getShaderInfoLog(x).trim(),I=i.getShaderInfoLog(_).trim(),T=!0,A=!0;if(i.getProgramParameter(g,35714)===!1){T=!1;let k=sq(i,x,"vertex"),U=sq(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,35715)+`

Program Info Log: `+E+`
`+k+`
`+U)}else E!==""?console.warn("THREE.WebGLProgram: Program Info Log:",E):(L===""||I==="")&&(A=!1);A&&(this.diagnostics={runnable:T,programLog:E,vertexShader:{log:L,prefix:y},fragmentShader:{log:I,prefix:v}})}i.deleteShader(x),i.deleteShader(_);let S;this.getUniforms=function(){return S===void 0&&(S=new mc(i,g)),S};let M;return this.getAttributes=function(){return M===void 0&&(M=lxe(i,g)),M},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.name=t.shaderName,this.id=txe++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=x,this.fragmentShader=_,this}var xxe=0,pq=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){let t=this.shaderCache;if(t.has(e)===!1){let r=new fq;t.set(e,r)}return t.get(e)}},fq=class{constructor(){this.id=xxe++,this.usedTimes=0}};function bxe(n,e,t,r,i,o,s){let a=new SL,l=new pq,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,p=i.floatVertexTextures,f=i.maxVertexUniforms,g=i.vertexTextures,y=i.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(T){let k=T.skeleton.bones;if(p)return 1024;{let F=Math.floor((f-20)/4),N=Math.min(F,k.length);return N<k.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+k.length+" bones. This GPU supports "+N+"."),0):N}}function h(T,A,k,U,F){let N=U.fog,j=T.isMeshStandardMaterial?U.environment:null,Y=(T.isMeshStandardMaterial?t:e).get(T.envMap||j),pe=v[T.type],$=F.isSkinnedMesh?m(F):0;T.precision!==null&&(y=i.getMaxPrecision(T.precision),y!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",y,"instead."));let W,J,oe,re;if(pe){let me=Vs[pe];W=me.vertexShader,J=me.fragmentShader}else W=T.vertexShader,J=T.fragmentShader,l.update(T),oe=l.getVertexShaderID(T),re=l.getFragmentShaderID(T);let D=n.getRenderTarget(),Te=T.alphaTest>0,de=T.clearcoat>0;return{isWebGL2:u,shaderID:pe,shaderName:T.type,vertexShader:W,fragmentShader:J,defines:T.defines,customVertexShaderID:oe,customFragmentShaderID:re,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:y,instancing:F.isInstancedMesh===!0,instancingColor:F.isInstancedMesh===!0&&F.instanceColor!==null,supportsVertexTextures:g,outputEncoding:D===null?n.outputEncoding:D.isXRRenderTarget===!0?D.texture.encoding:rc,map:!!T.map,matcap:!!T.matcap,envMap:!!Y,envMapMode:Y&&Y.mapping,envMapCubeUV:!!Y&&(Y.mapping===gT||Y.mapping===tL),lightMap:!!T.lightMap,aoMap:!!T.aoMap,emissiveMap:!!T.emissiveMap,bumpMap:!!T.bumpMap,normalMap:!!T.normalMap,objectSpaceNormalMap:T.normalMapType===jme,tangentSpaceNormalMap:T.normalMapType===Tf,decodeVideoTexture:!!T.map&&T.map.isVideoTexture===!0&&T.map.encoding===Mn,clearcoat:de,clearcoatMap:de&&!!T.clearcoatMap,clearcoatRoughnessMap:de&&!!T.clearcoatRoughnessMap,clearcoatNormalMap:de&&!!T.clearcoatNormalMap,displacementMap:!!T.displacementMap,roughnessMap:!!T.roughnessMap,metalnessMap:!!T.metalnessMap,specularMap:!!T.specularMap,specularIntensityMap:!!T.specularIntensityMap,specularColorMap:!!T.specularColorMap,alphaMap:!!T.alphaMap,alphaTest:Te,alphaWrite:T.alphaWrite||T.transparent,gradientMap:!!T.gradientMap,sheen:T.sheen>0,sheenColorMap:!!T.sheenColorMap,sheenRoughnessMap:!!T.sheenRoughnessMap,transmission:T.transmission>0,transmissionMap:!!T.transmissionMap,thicknessMap:!!T.thicknessMap,combine:T.combine,vertexTangents:!!T.normalMap&&!!F.geometry&&!!F.geometry.attributes.tangent,vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!F.geometry&&!!F.geometry.attributes.color&&F.geometry.attributes.color.itemSize===4,vertexUvs:!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatMap||!!T.clearcoatRoughnessMap||!!T.clearcoatNormalMap||!!T.displacementMap||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||!!T.sheenColorMap||!!T.sheenRoughnessMap,uvsVertexOnly:!(!!T.map||!!T.bumpMap||!!T.normalMap||!!T.specularMap||!!T.alphaMap||!!T.emissiveMap||!!T.roughnessMap||!!T.metalnessMap||!!T.clearcoatNormalMap||T.transmission>0||!!T.transmissionMap||!!T.thicknessMap||!!T.specularIntensityMap||!!T.specularColorMap||T.sheen>0||!!T.sheenColorMap||!!T.sheenRoughnessMap)&&!!T.displacementMap,fog:!!N,useFog:T.fog,fogExp2:N&&N.isFogExp2,flatShading:!!T.flatShading,sizeAttenuation:T.sizeAttenuation,logarithmicDepthBuffer:d,skinning:F.isSkinnedMesh===!0&&$>0,maxBones:$,useVertexTexture:p,morphTargets:!!F.geometry&&!!F.geometry.morphAttributes.position,morphNormals:!!F.geometry&&!!F.geometry.morphAttributes.normal,morphTargetsCount:!!F.geometry&&!!F.geometry.morphAttributes.position?F.geometry.morphAttributes.position.length:0,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:T.toneMapped?n.toneMapping:tc,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===gf,flipSided:T.side===mr,depthPacking:T.depthPacking!==void 0?T.depthPacking:!1,index0AttributeName:T.index0AttributeName,extensionDerivatives:T.extensions&&T.extensions.derivatives,extensionFragDepth:T.extensions&&T.extensions.fragDepth,extensionDrawBuffers:T.extensions&&T.extensions.drawBuffers,extensionShaderTextureLOD:T.extensions&&T.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:T.customProgramCacheKey()}}function b(T){let A=[];if(T.shaderID?A.push(T.shaderID):(A.push(T.customVertexShaderID),A.push(T.customFragmentShaderID)),T.defines!==void 0)for(let k in T.defines)A.push(k),A.push(T.defines[k]);return T.isRawShaderMaterial===!1&&(x(A,T),_(A,T),A.push(n.outputEncoding)),A.push(T.customProgramCacheKey),A.join()}function x(T,A){T.push(A.precision),T.push(A.outputEncoding),T.push(A.envMapMode),T.push(A.combine),T.push(A.vertexUvs),T.push(A.fogExp2),T.push(A.sizeAttenuation),T.push(A.maxBones),T.push(A.morphTargetsCount),T.push(A.numDirLights),T.push(A.numPointLights),T.push(A.numSpotLights),T.push(A.numHemiLights),T.push(A.numRectAreaLights),T.push(A.numDirLightShadows),T.push(A.numPointLightShadows),T.push(A.numSpotLightShadows),T.push(A.shadowMapType),T.push(A.toneMapping),T.push(A.numClippingPlanes),T.push(A.numClipIntersection),T.push(A.alphaWrite)}function _(T,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.map&&a.enable(4),A.matcap&&a.enable(5),A.envMap&&a.enable(6),A.envMapCubeUV&&a.enable(7),A.lightMap&&a.enable(8),A.aoMap&&a.enable(9),A.emissiveMap&&a.enable(10),A.bumpMap&&a.enable(11),A.normalMap&&a.enable(12),A.objectSpaceNormalMap&&a.enable(13),A.tangentSpaceNormalMap&&a.enable(14),A.clearcoat&&a.enable(15),A.clearcoatMap&&a.enable(16),A.clearcoatRoughnessMap&&a.enable(17),A.clearcoatNormalMap&&a.enable(18),A.displacementMap&&a.enable(19),A.specularMap&&a.enable(20),A.roughnessMap&&a.enable(21),A.metalnessMap&&a.enable(22),A.gradientMap&&a.enable(23),A.alphaMap&&a.enable(24),A.alphaTest&&a.enable(25),A.vertexColors&&a.enable(26),A.vertexAlphas&&a.enable(27),A.vertexUvs&&a.enable(28),A.vertexTangents&&a.enable(29),A.uvsVertexOnly&&a.enable(30),A.fog&&a.enable(31),T.push(a.mask),a.disableAll(),A.useFog&&a.enable(0),A.flatShading&&a.enable(1),A.logarithmicDepthBuffer&&a.enable(2),A.skinning&&a.enable(3),A.useVertexTexture&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.premultipliedAlpha&&a.enable(7),A.shadowMapEnabled&&a.enable(8),A.physicallyCorrectLights&&a.enable(9),A.doubleSided&&a.enable(10),A.flipSided&&a.enable(11),A.depthPacking&&a.enable(12),A.dithering&&a.enable(13),A.specularIntensityMap&&a.enable(14),A.specularColorMap&&a.enable(15),A.transmission&&a.enable(16),A.transmissionMap&&a.enable(17),A.thicknessMap&&a.enable(18),A.sheen&&a.enable(19),A.sheenColorMap&&a.enable(20),A.sheenRoughnessMap&&a.enable(21),A.decodeVideoTexture&&a.enable(22),T.push(a.mask)}function S(T){let A=v[T.type],k;if(A){let U=Vs[A];k=vge.clone(U.uniforms)}else k=T.uniforms;return k}function M(T,A){let k;for(let U=0,F=c.length;U<F;U++){let N=c[U];if(N.cacheKey===A){k=N,++k.usedTimes;break}}return k===void 0&&(k=new vxe(n,A,T,o),c.push(k)),k}function E(T){if(--T.usedTimes==0){let A=c.indexOf(T);c[A]=c[c.length-1],c.pop(),T.destroy()}}function L(T){l.remove(T)}function I(){l.dispose()}return{getParameters:h,getProgramCacheKey:b,getUniforms:S,acquireProgram:M,releaseProgram:E,releaseShaderCache:L,programs:c,dispose:I}}function _xe(){let n=new WeakMap;function e(o){let s=n.get(o);return s===void 0&&(s={},n.set(o,s)),s}function t(o){n.delete(o)}function r(o,s,a){n.get(o)[s]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function wxe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function hq(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function mq(){let n=[],e=0,t=[],r=[],i=[];function o(){e=0,t.length=0,r.length=0,i.length=0}function s(d,p,f,g,y,v){let m=n[e];return m===void 0?(m={id:d.id,object:d,geometry:p,material:f,groupOrder:g,renderOrder:d.renderOrder,z:y,group:v},n[e]=m):(m.id=d.id,m.object=d,m.geometry=p,m.material=f,m.groupOrder=g,m.renderOrder=d.renderOrder,m.z=y,m.group=v),e++,m}function a(d,p,f,g,y,v){let m=s(d,p,f,g,y,v);f.transmission>0?r.push(m):f.transparent===!0?i.push(m):t.push(m)}function l(d,p,f,g,y,v){let m=s(d,p,f,g,y,v);f.transmission>0?r.unshift(m):f.transparent===!0?i.unshift(m):t.unshift(m)}function c(d,p){t.length>1&&t.sort(d||wxe),r.length>1&&r.sort(p||hq),i.length>1&&i.sort(p||hq)}function u(){for(let d=e,p=n.length;d<p;d++){let f=n[d];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:t,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function Txe(){let n=new WeakMap;function e(r,i){let o;return n.has(r)===!1?(o=new mq,n.set(r,[o])):i>=n.get(r).length?(o=new mq,n.get(r).push(o)):o=n.get(r)[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Sxe(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Z,color:new tt};break;case"SpotLight":t={position:new Z,direction:new Z,color:new tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Z,color:new tt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Z,skyColor:new tt,groundColor:new tt};break;case"RectAreaLight":t={color:new tt,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return n[e.id]=t,t}}}function Mxe(){let n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}var Exe=0;function Pxe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function Rxe(n,e){let t=new Sxe,r=Mxe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new Z);let o=new Z,s=new dt,a=new dt;function l(u,d){let p=0,f=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let y=0,v=0,m=0,h=0,b=0,x=0,_=0,S=0;u.sort(Pxe);let M=d!==!0?Math.PI:1;for(let L=0,I=u.length;L<I;L++){let T=u[L],A=T.color,k=T.intensity,U=T.distance,F=T.shadow&&T.shadow.map?T.shadow.map.texture:null;if(T.isAmbientLight)p+=A.r*k*M,f+=A.g*k*M,g+=A.b*k*M;else if(T.isLightProbe)for(let N=0;N<9;N++)i.probe[N].addScaledVector(T.sh.coefficients[N],k);else if(T.isDirectionalLight){let N=t.get(T);if(N.color.copy(T.color).multiplyScalar(T.intensity*M),T.castShadow){let j=T.shadow,Y=r.get(T);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,i.directionalShadow[y]=Y,i.directionalShadowMap[y]=F,i.directionalShadowMatrix[y]=T.shadow.matrix,x++}i.directional[y]=N,y++}else if(T.isSpotLight){let N=t.get(T);if(N.position.setFromMatrixPosition(T.matrixWorld),N.color.copy(A).multiplyScalar(k*M),N.distance=U,N.coneCos=Math.cos(T.angle),N.penumbraCos=Math.cos(T.angle*(1-T.penumbra)),N.decay=T.decay,T.castShadow){let j=T.shadow,Y=r.get(T);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,i.spotShadow[m]=Y,i.spotShadowMap[m]=F,i.spotShadowMatrix[m]=T.shadow.matrix,S++}i.spot[m]=N,m++}else if(T.isRectAreaLight){let N=t.get(T);N.color.copy(A).multiplyScalar(k),N.halfWidth.set(T.width*.5,0,0),N.halfHeight.set(0,T.height*.5,0),i.rectArea[h]=N,h++}else if(T.isPointLight){let N=t.get(T);if(N.color.copy(T.color).multiplyScalar(T.intensity*M),N.distance=T.distance,N.decay=T.decay,T.castShadow){let j=T.shadow,Y=r.get(T);Y.shadowBias=j.bias,Y.shadowNormalBias=j.normalBias,Y.shadowRadius=j.radius,Y.shadowMapSize=j.mapSize,Y.shadowCameraNear=j.camera.near,Y.shadowCameraFar=j.camera.far,i.pointShadow[v]=Y,i.pointShadowMap[v]=F,i.pointShadowMatrix[v]=T.shadow.matrix,_++}i.point[v]=N,v++}else if(T.isHemisphereLight){let N=t.get(T);N.skyColor.copy(T.color).multiplyScalar(k*M),N.groundColor.copy(T.groundColor).multiplyScalar(k*M),i.hemi[b]=N,b++}}h>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ze.LTC_FLOAT_1,i.rectAreaLTC2=Ze.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ze.LTC_HALF_1,i.rectAreaLTC2=Ze.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=f,i.ambient[2]=g;let E=i.hash;(E.directionalLength!==y||E.pointLength!==v||E.spotLength!==m||E.rectAreaLength!==h||E.hemiLength!==b||E.numDirectionalShadows!==x||E.numPointShadows!==_||E.numSpotShadows!==S)&&(i.directional.length=y,i.spot.length=m,i.rectArea.length=h,i.point.length=v,i.hemi.length=b,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=_,i.pointShadowMap.length=_,i.spotShadow.length=S,i.spotShadowMap.length=S,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=_,i.spotShadowMatrix.length=S,E.directionalLength=y,E.pointLength=v,E.spotLength=m,E.rectAreaLength=h,E.hemiLength=b,E.numDirectionalShadows=x,E.numPointShadows=_,E.numSpotShadows=S,i.version=Exe++)}function c(u,d){let p=0,f=0,g=0,y=0,v=0,m=d.matrixWorldInverse;for(let h=0,b=u.length;h<b;h++){let x=u[h];if(x.isDirectionalLight){let _=i.directional[p];_.direction.setFromMatrixPosition(x.matrixWorld),o.setFromMatrixPosition(x.target.matrixWorld),_.direction.sub(o),_.direction.transformDirection(m),p++}else if(x.isSpotLight){let _=i.spot[g];_.position.setFromMatrixPosition(x.matrixWorld),_.position.applyMatrix4(m),_.direction.setFromMatrixPosition(x.matrixWorld),o.setFromMatrixPosition(x.target.matrixWorld),_.direction.sub(o),_.direction.transformDirection(m),g++}else if(x.isRectAreaLight){let _=i.rectArea[y];_.position.setFromMatrixPosition(x.matrixWorld),_.position.applyMatrix4(m),a.identity(),s.copy(x.matrixWorld),s.premultiply(m),a.extractRotation(s),_.halfWidth.set(x.width*.5,0,0),_.halfHeight.set(0,x.height*.5,0),_.halfWidth.applyMatrix4(a),_.halfHeight.applyMatrix4(a),y++}else if(x.isPointLight){let _=i.point[f];_.position.setFromMatrixPosition(x.matrixWorld),_.position.applyMatrix4(m),f++}else if(x.isHemisphereLight){let _=i.hemi[v];_.direction.setFromMatrixPosition(x.matrixWorld),_.direction.transformDirection(m),_.direction.normalize(),v++}}}return{setup:l,setupView:c,state:i}}function gq(n,e){let t=new Rxe(n,e),r=[],i=[];function o(){r.length=0,i.length=0}function s(d){r.push(d)}function a(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:o,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:a}}function Cxe(n,e){let t=new WeakMap;function r(o,s=0){let a;return t.has(o)===!1?(a=new gq(n,e),t.set(o,[a])):s>=t.get(o).length?(a=new gq(n,e),t.get(o).push(a)):a=t.get(o)[s],a}function i(){t=new WeakMap}return{get:r,dispose:i}}var qf=class extends Cr{constructor(e){super();this.type="MeshDepthMaterial",this.depthPacking=Wme,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}};qf.prototype.isMeshDepthMaterial=!0;var YT=class extends Cr{constructor(e){super();this.type="MeshDistanceMaterial",this.referencePosition=new Z,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};YT.prototype.isMeshDistanceMaterial=!0;var Axe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Lxe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yq(n,e,t){let r=new tv,i=new Ve,o=new Ve,s=new tn,a=new qf({depthPacking:Gme}),l=new YT,c={},u=t.maxTextureSize,d={0:mr,1:Vy,2:gf},p=new Ma({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ve},radius:{value:4}},vertexShader:Axe,fragmentShader:Lxe}),f=p.clone();f.defines.HORIZONTAL_PASS=1;let g=new Tt;g.setAttribute("position",new En(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let y=new Lr(g,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=U8,this.render=function(x,_,S){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||x.length===0)return;let M=n.getRenderTarget(),E=n.getActiveCubeFace(),L=n.getActiveMipmapLevel(),I=n.state;I.setBlending(ec),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let T=0,A=x.length;T<A;T++){let k=x[T],U=k.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);let F=U.getFrameExtents();if(i.multiply(F),o.copy(U.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/F.x),i.x=o.x*F.x,U.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/F.y),i.y=o.y*F.y,U.mapSize.y=o.y)),U.map===null&&!U.isPointLightShadow&&this.type===Uy){let j={minFilter:di,magFilter:di,format:Mi};U.map=new oo(i.x,i.y,j),U.map.texture.name=k.name+".shadowMap",U.mapPass=new oo(i.x,i.y,j),U.camera.updateProjectionMatrix()}if(U.map===null){let j={minFilter:gr,magFilter:gr,format:Mi};U.map=new oo(i.x,i.y,j),U.map.texture.name=k.name+".shadowMap",U.camera.updateProjectionMatrix()}n.setRenderTarget(U.map),n.clear();let N=U.getViewportCount();for(let j=0;j<N;j++){let Y=U.getViewport(j);s.set(o.x*Y.x,o.y*Y.y,o.x*Y.z,o.y*Y.w),I.viewport(s),U.updateMatrices(k,j),r=U.getFrustum(),b(_,S,U.camera,k,this.type)}!U.isPointLightShadow&&this.type===Uy&&m(U,S),U.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(M,E,L)};function m(x,_){let S=e.update(y);p.defines.VSM_SAMPLES!==x.blurSamples&&(p.defines.VSM_SAMPLES=x.blurSamples,f.defines.VSM_SAMPLES=x.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),p.uniforms.shadow_pass.value=x.map.texture,p.uniforms.resolution.value=x.mapSize,p.uniforms.radius.value=x.radius,n.setRenderTarget(x.mapPass),n.clear(),n.renderBufferDirect(_,null,S,p,y,null),f.uniforms.shadow_pass.value=x.mapPass.texture,f.uniforms.resolution.value=x.mapSize,f.uniforms.radius.value=x.radius,n.setRenderTarget(x.map),n.clear(),n.renderBufferDirect(_,null,S,f,y,null)}function h(x,_,S,M,E,L,I){let T=null,A=M.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(A!==void 0?T=A:T=M.isPointLight===!0?l:a,n.localClippingEnabled&&S.clipShadows===!0&&S.clippingPlanes.length!==0||S.displacementMap&&S.displacementScale!==0||S.alphaMap&&S.alphaTest>0){let k=T.uuid,U=S.uuid,F=c[k];F===void 0&&(F={},c[k]=F);let N=F[U];N===void 0&&(N=T.clone(),F[U]=N),T=N}return T.visible=S.visible,T.wireframe=S.wireframe,I===Uy?T.side=S.shadowSide!==null?S.shadowSide:S.side:T.side=S.shadowSide!==null?S.shadowSide:d[S.side],T.alphaMap=S.alphaMap,T.alphaTest=S.alphaTest,T.clipShadows=S.clipShadows,T.clippingPlanes=S.clippingPlanes,T.clipIntersection=S.clipIntersection,T.displacementMap=S.displacementMap,T.displacementScale=S.displacementScale,T.displacementBias=S.displacementBias,T.wireframeLinewidth=S.wireframeLinewidth,T.linewidth=S.linewidth,M.isPointLight===!0&&T.isMeshDistanceMaterial===!0&&(T.referencePosition.setFromMatrixPosition(M.matrixWorld),T.nearDistance=E,T.farDistance=L),T}function b(x,_,S,M,E){if(x.visible===!1)return;if(x.layers.test(_.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&E===Uy)&&(!x.frustumCulled||r.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,x.matrixWorld);let T=e.update(x),A=x.material;if(Array.isArray(A)){let k=T.groups;for(let U=0,F=k.length;U<F;U++){let N=k[U],j=A[N.materialIndex];if(j&&j.visible){let Y=h(x,T,j,M,S.near,S.far,E);n.renderBufferDirect(S,null,T,Y,x,N)}}}else if(A.visible){let k=h(x,T,A,M,S.near,S.far,E);n.renderBufferDirect(S,null,T,k,x,null)}}let I=x.children;for(let T=0,A=I.length;T<A;T++)b(I[T],_,S,M,E)}}function Dxe(n,e,t){let r=t.isWebGL2;function i(){let z=!1,xe=new tn,ne=null,he=new tn(0,0,0,0);return{setMask:function(V){ne!==V&&!z&&(n.colorMask(V,V,V,V),ne=V)},setLocked:function(V){z=V},setClear:function(V,Ee,Oe,We,nt){nt===!0&&(V*=We,Ee*=We,Oe*=We),xe.set(V,Ee,Oe,We),he.equals(xe)===!1&&(n.clearColor(V,Ee,Oe,We),he.copy(xe))},reset:function(){z=!1,ne=null,he.set(-1,0,0,0)}}}function o(){let z=!1,xe=null,ne=null,he=null;return{setTest:function(V){V?D(2929):Te(2929)},setMask:function(V){xe!==V&&!z&&(n.depthMask(V),xe=V)},setFunc:function(V){if(ne!==V){if(V)switch(V){case ume:n.depthFunc(512);break;case dme:n.depthFunc(519);break;case pme:n.depthFunc(513);break;case K2:n.depthFunc(515);break;case fme:n.depthFunc(514);break;case hme:n.depthFunc(518);break;case mme:n.depthFunc(516);break;case gme:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);ne=V}},setLocked:function(V){z=V},setClear:function(V){he!==V&&(n.clearDepth(V),he=V)},reset:function(){z=!1,xe=null,ne=null,he=null}}}function s(){let z=!1,xe=null,ne=null,he=null,V=null,Ee=null,Oe=null,We=null,nt=null;return{setTest:function(Xe){z||(Xe?D(2960):Te(2960))},setMask:function(Xe){xe!==Xe&&!z&&(n.stencilMask(Xe),xe=Xe)},setFunc:function(Xe,bt,yt){(ne!==Xe||he!==bt||V!==yt)&&(n.stencilFunc(Xe,bt,yt),ne=Xe,he=bt,V=yt)},setOp:function(Xe,bt,yt){(Ee!==Xe||Oe!==bt||We!==yt)&&(n.stencilOp(Xe,bt,yt),Ee=Xe,Oe=bt,We=yt)},setLocked:function(Xe){z=Xe},setClear:function(Xe){nt!==Xe&&(n.clearStencil(Xe),nt=Xe)},reset:function(){z=!1,xe=null,ne=null,he=null,V=null,Ee=null,Oe=null,We=null,nt=null}}}let a=new i,l=new o,c=new s,u={},d={},p=new WeakMap,f=[],g=null,y=!1,v=null,m=null,h=null,b=null,x=null,_=null,S=null,M=!1,E=null,L=null,I=null,T=null,A=null,k=n.getParameter(35661),U=!1,F=0,N=n.getParameter(7938);N.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(N)[1]),U=F>=1):N.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),U=F>=2);let j=null,Y={},pe=n.getParameter(3088),$=n.getParameter(2978),W=new tn().fromArray(pe),J=new tn().fromArray($);function oe(z,xe,ne){let he=new Uint8Array(4),V=n.createTexture();n.bindTexture(z,V),n.texParameteri(z,10241,9728),n.texParameteri(z,10240,9728);for(let Ee=0;Ee<ne;Ee++)n.texImage2D(xe+Ee,0,6408,1,1,0,6408,5121,he);return V}let re={};re[3553]=oe(3553,3553,1),re[34067]=oe(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),D(2929),l.setFunc(K2),se(!1),Se(z8),D(2884),q(ec);function D(z){u[z]!==!0&&(n.enable(z),u[z]=!0)}function Te(z){u[z]!==!1&&(n.disable(z),u[z]=!1)}function de(z,xe){return d[z]!==xe?(n.bindFramebuffer(z,xe),d[z]=xe,r&&(z===36009&&(d[36160]=xe),z===36160&&(d[36009]=xe)),!0):!1}function Me(z,xe){let ne=f,he=!1;if(z)if(ne=p.get(xe),ne===void 0&&(ne=[],p.set(xe,ne)),z.isWebGLMultipleRenderTargets){let V=z.texture;if(ne.length!==V.length||ne[0]!==36064){for(let Ee=0,Oe=V.length;Ee<Oe;Ee++)ne[Ee]=36064+Ee;ne.length=V.length,he=!0}}else ne[0]!==36064&&(ne[0]=36064,he=!0);else ne[0]!==1029&&(ne[0]=1029,he=!0);he&&(t.isWebGL2?n.drawBuffers(ne):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ne))}function me(z){return g!==z?(n.useProgram(z),g=z,!0):!1}let Pe={[yf]:32774,[Qhe]:32778,[eme]:32779};if(r)Pe[j8]=32775,Pe[q8]=32776;else{let z=e.get("EXT_blend_minmax");z!==null&&(Pe[j8]=z.MIN_EXT,Pe[q8]=z.MAX_EXT)}let _e={[tme]:0,[nme]:1,[rme]:768,[$8]:770,[cme]:776,[ame]:774,[ome]:772,[ime]:769,[X8]:771,[lme]:775,[sme]:773};function q(z,xe,ne,he,V,Ee,Oe,We){if(z===ec){y===!0&&(Te(3042),y=!1);return}if(y===!1&&(D(3042),y=!0),z!==Khe){if(z!==v||We!==M){if((m!==yf||x!==yf)&&(n.blendEquation(32774),m=yf,x=yf),We)switch(z){case Hy:n.blendFuncSeparate(1,771,1,771);break;case H8:n.blendFunc(1,1);break;case W8:n.blendFuncSeparate(0,769,0,1);break;case G8:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}else switch(z){case Hy:n.blendFuncSeparate(770,771,1,771);break;case H8:n.blendFunc(770,1);break;case W8:n.blendFuncSeparate(0,769,0,1);break;case G8:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}h=null,b=null,_=null,S=null,v=z,M=We}return}V=V||xe,Ee=Ee||ne,Oe=Oe||he,(xe!==m||V!==x)&&(n.blendEquationSeparate(Pe[xe],Pe[V]),m=xe,x=V),(ne!==h||he!==b||Ee!==_||Oe!==S)&&(n.blendFuncSeparate(_e[ne],_e[he],_e[Ee],_e[Oe]),h=ne,b=he,_=Ee,S=Oe),v=z,M=null}function ce(z,xe){z.side===gf?Te(2884):D(2884);let ne=z.side===mr;xe&&(ne=!ne),se(ne),z.blending===Hy&&z.transparent===!1?q(ec):q(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.premultipliedAlpha),l.setFunc(z.depthFunc),l.setTest(z.depthTest),l.setMask(z.depthWrite),a.setMask(z.colorWrite);let he=z.stencilWrite;c.setTest(he),he&&(c.setMask(z.stencilWriteMask),c.setFunc(z.stencilFunc,z.stencilRef,z.stencilFuncMask),c.setOp(z.stencilFail,z.stencilZFail,z.stencilZPass)),Ce(z.polygonOffset,z.polygonOffsetFactor,z.polygonOffsetUnits),z.alphaToCoverage===!0?D(32926):Te(32926)}function se(z){E!==z&&(z?n.frontFace(2304):n.frontFace(2305),E=z)}function Se(z){z!==Yhe?(D(2884),z!==L&&(z===z8?n.cullFace(1029):z===Jhe?n.cullFace(1028):n.cullFace(1032))):Te(2884),L=z}function be(z){z!==I&&(U&&n.lineWidth(z),I=z)}function Ce(z,xe,ne){z?(D(32823),(T!==xe||A!==ne)&&(n.polygonOffset(xe,ne),T=xe,A=ne)):Te(32823)}function Le(z){z?D(3089):Te(3089)}function Ne(z){z===void 0&&(z=33984+k-1),j!==z&&(n.activeTexture(z),j=z)}function Ge(z,xe){j===null&&Ne();let ne=Y[j];ne===void 0&&(ne={type:void 0,texture:void 0},Y[j]=ne),(ne.type!==z||ne.texture!==xe)&&(n.bindTexture(z,xe||re[z]),ne.type=z,ne.texture=xe)}function Ue(){let z=Y[j];z!==void 0&&z.type!==void 0&&(n.bindTexture(z.type,null),z.type=void 0,z.texture=void 0)}function C(){try{n.compressedTexImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function w(){try{n.texSubImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function H(){try{n.texSubImage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ee(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ue(){try{n.texStorage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function G(){try{n.texStorage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function ge(){try{n.texImage2D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function fe(){try{n.texImage3D.apply(n,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function le(z){W.equals(z)===!1&&(n.scissor(z.x,z.y,z.z,z.w),W.copy(z))}function ve(z){J.equals(z)===!1&&(n.viewport(z.x,z.y,z.z,z.w),J.copy(z))}function De(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},j=null,Y={},d={},p=new WeakMap,f=[],g=null,y=!1,v=null,m=null,h=null,b=null,x=null,_=null,S=null,M=!1,E=null,L=null,I=null,T=null,A=null,W.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:D,disable:Te,bindFramebuffer:de,drawBuffers:Me,useProgram:me,setBlending:q,setMaterial:ce,setFlipSided:se,setCullFace:Se,setLineWidth:be,setPolygonOffset:Ce,setScissorTest:Le,activeTexture:Ne,bindTexture:Ge,unbindTexture:Ue,compressedTexImage2D:C,texImage2D:ge,texImage3D:fe,texStorage2D:ue,texStorage3D:G,texSubImage2D:w,texSubImage3D:H,compressedTexSubImage2D:ee,scissor:le,viewport:ve,reset:De}}function Nxe(n,e,t,r,i,o,s){let a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):void 0,g=new WeakMap,y,v=!1;try{v=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(C){}function m(C,w){return v?new OffscreenCanvas(C,w):Yy("canvas")}function h(C,w,H,ee){let ue=1;if((C.width>ee||C.height>ee)&&(ue=ee/Math.max(C.width,C.height)),ue<1||w===!0)if(typeof HTMLImageElement!="undefined"&&C instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&C instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&C instanceof ImageBitmap){let G=w?_j:Math.floor,ge=G(ue*C.width),fe=G(ue*C.height);y===void 0&&(y=m(ge,fe));let le=H?m(ge,fe):y;return le.width=ge,le.height=fe,le.getContext("2d").drawImage(C,0,0,ge,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+C.width+"x"+C.height+") to ("+ge+"x"+fe+")."),le}else return"data"in C&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+C.width+"x"+C.height+")."),C;return C}function b(C){return fL(C.width)&&fL(C.height)}function x(C){return a?!1:C.wrapS!==io||C.wrapT!==io||C.minFilter!==gr&&C.minFilter!==di}function _(C,w){return C.generateMipmaps&&w&&C.minFilter!==gr&&C.minFilter!==di}function S(C){n.generateMipmap(C)}function M(C,w,H,ee,ue=!1){if(a===!1)return w;if(C!==null){if(n[C]!==void 0)return n[C];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+C+"'")}let G=w;return w===6403&&(H===5126&&(G=33326),H===5131&&(G=33325),H===5121&&(G=33321)),w===33319&&(H===5126&&(G=33328),H===5131&&(G=33327),H===5121&&(G=33323)),w===6408&&(H===5126&&(G=34836),H===5131&&(G=34842),H===5121&&(G=ee===Mn&&ue===!1?35907:32856),H===32819&&(G=32854),H===32820&&(G=32855)),(G===33325||G===33326||G===33327||G===33328||G===34842||G===34836)&&e.get("EXT_color_buffer_float"),G}function E(C,w,H){return _(C,H)===!0||C.isFramebufferTexture&&C.minFilter!==gr&&C.minFilter!==di?Math.log2(Math.max(w.width,w.height))+1:C.mipmaps!==void 0&&C.mipmaps.length>0?C.mipmaps.length:C.isCompressedTexture&&Array.isArray(C.image)?w.mipmaps.length:1}function L(C){return C===gr||C===J8||C===Z8?9728:9729}function I(C){let w=C.target;w.removeEventListener("dispose",I),A(w),w.isVideoTexture&&g.delete(w),s.memory.textures--}function T(C){let w=C.target;w.removeEventListener("dispose",T),k(w)}function A(C){let w=r.get(C);w.__webglInit!==void 0&&(n.deleteTexture(w.__webglTexture),r.remove(C))}function k(C){let w=C.texture,H=r.get(C),ee=r.get(w);if(!!C){if(ee.__webglTexture!==void 0&&(n.deleteTexture(ee.__webglTexture),s.memory.textures--),C.depthTexture&&C.depthTexture.dispose(),C.isWebGLCubeRenderTarget)for(let ue=0;ue<6;ue++)n.deleteFramebuffer(H.__webglFramebuffer[ue]),H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer[ue]);else n.deleteFramebuffer(H.__webglFramebuffer),H.__webglDepthbuffer&&n.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&n.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer&&n.deleteRenderbuffer(H.__webglColorRenderbuffer),H.__webglDepthRenderbuffer&&n.deleteRenderbuffer(H.__webglDepthRenderbuffer);if(C.isWebGLMultipleRenderTargets)for(let ue=0,G=w.length;ue<G;ue++){let ge=r.get(w[ue]);ge.__webglTexture&&(n.deleteTexture(ge.__webglTexture),s.memory.textures--),r.remove(w[ue])}r.remove(w),r.remove(C)}}let U=0;function F(){U=0}function N(){let C=U;return C>=l&&console.warn("THREE.WebGLTextures: Trying to use "+C+" texture units while this GPU supports only "+l),U+=1,C}function j(C,w){let H=r.get(C);if(C.isVideoTexture&&be(C),C.version>0&&H.__version!==C.version){let ee=C.image;if(ee===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{D(H,C,w);return}}t.activeTexture(33984+w),t.bindTexture(3553,H.__webglTexture)}function Y(C,w){let H=r.get(C);if(C.version>0&&H.__version!==C.version){D(H,C,w);return}t.activeTexture(33984+w),t.bindTexture(35866,H.__webglTexture)}function pe(C,w){let H=r.get(C);if(C.version>0&&H.__version!==C.version){D(H,C,w);return}t.activeTexture(33984+w),t.bindTexture(32879,H.__webglTexture)}function $(C,w){let H=r.get(C);if(C.version>0&&H.__version!==C.version){Te(H,C,w);return}t.activeTexture(33984+w),t.bindTexture(34067,H.__webglTexture)}let W={[nL]:10497,[io]:33071,[rL]:33648},J={[gr]:9728,[J8]:9984,[Z8]:9986,[di]:9729,[Sme]:9985,[yT]:9987};function oe(C,w,H){if(H?(n.texParameteri(C,10242,W[w.wrapS]),n.texParameteri(C,10243,W[w.wrapT]),(C===32879||C===35866)&&n.texParameteri(C,32882,W[w.wrapR]),n.texParameteri(C,10240,J[w.magFilter]),n.texParameteri(C,10241,J[w.minFilter])):(n.texParameteri(C,10242,33071),n.texParameteri(C,10243,33071),(C===32879||C===35866)&&n.texParameteri(C,32882,33071),(w.wrapS!==io||w.wrapT!==io)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(C,10240,L(w.magFilter)),n.texParameteri(C,10241,L(w.minFilter)),w.minFilter!==gr&&w.minFilter!==di&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){let ee=e.get("EXT_texture_filter_anisotropic");if(w.type===ku&&e.has("OES_texture_float_linear")===!1||a===!1&&w.type===vf&&e.has("OES_texture_half_float_linear")===!1)return;(w.anisotropy>1||r.get(w).__currentAnisotropy)&&(n.texParameterf(C,ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(w.anisotropy,i.getMaxAnisotropy())),r.get(w).__currentAnisotropy=w.anisotropy)}}function re(C,w){C.__webglInit===void 0&&(C.__webglInit=!0,w.addEventListener("dispose",I),C.__webglTexture=n.createTexture(),s.memory.textures++)}function D(C,w,H){let ee=3553;w.isDataTexture2DArray&&(ee=35866),w.isDataTexture3D&&(ee=32879),re(C,w),t.activeTexture(33984+H),t.bindTexture(ee,C.__webglTexture),n.pixelStorei(37440,w.flipY),n.pixelStorei(37441,w.premultiplyAlpha),n.pixelStorei(3317,w.unpackAlignment),n.pixelStorei(37443,0);let ue=x(w)&&b(w.image)===!1,G=h(w.image,ue,!1,u);G=Ce(w,G);let ge=b(G)||a,fe=o.convert(w.format,w.encoding),le=o.convert(w.type),ve=M(w.internalFormat,fe,le,w.encoding,w.isVideoTexture);oe(ee,w,ge);let De,z=w.mipmaps,xe=a&&w.isVideoTexture!==!0,ne=C.__version===void 0,he=E(w,G,ge);if(w.isDepthTexture)ve=6402,a?w.type===ku?ve=36012:w.type===vT?ve=33190:w.type===xf?ve=35056:ve=33189:w.type===ku&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),w.format===Bu&&ve===6402&&w.type!==jy&&w.type!==vT&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),w.type=jy,le=o.convert(w.type)),w.format===bf&&ve===6402&&(ve=34041,w.type!==xf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),w.type=xf,le=o.convert(w.type))),xe&&ne?t.texStorage2D(3553,1,ve,G.width,G.height):t.texImage2D(3553,0,ve,G.width,G.height,0,fe,le,null);else if(w.isDataTexture)if(z.length>0&&ge){xe&&ne&&t.texStorage2D(3553,he,ve,z[0].width,z[0].height);for(let V=0,Ee=z.length;V<Ee;V++)De=z[V],xe?t.texSubImage2D(3553,0,0,0,De.width,De.height,fe,le,De.data):t.texImage2D(3553,V,ve,De.width,De.height,0,fe,le,De.data);w.generateMipmaps=!1}else xe?(ne&&t.texStorage2D(3553,he,ve,G.width,G.height),t.texSubImage2D(3553,0,0,0,G.width,G.height,fe,le,G.data)):t.texImage2D(3553,0,ve,G.width,G.height,0,fe,le,G.data);else if(w.isCompressedTexture){xe&&ne&&t.texStorage2D(3553,he,ve,z[0].width,z[0].height);for(let V=0,Ee=z.length;V<Ee;V++)De=z[V],w.format!==Mi?fe!==null?xe?t.compressedTexSubImage2D(3553,V,0,0,De.width,De.height,fe,De.data):t.compressedTexImage2D(3553,V,ve,De.width,De.height,0,De.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xe?t.texSubImage2D(3553,V,0,0,De.width,De.height,fe,le,De.data):t.texImage2D(3553,V,ve,De.width,De.height,0,fe,le,De.data)}else if(w.isDataTexture2DArray)xe?(ne&&t.texStorage3D(35866,he,ve,G.width,G.height,G.depth),t.texSubImage3D(35866,0,0,0,0,G.width,G.height,G.depth,fe,le,G.data)):t.texImage3D(35866,0,ve,G.width,G.height,G.depth,0,fe,le,G.data);else if(w.isDataTexture3D)xe?(ne&&t.texStorage3D(32879,he,ve,G.width,G.height,G.depth),t.texSubImage3D(32879,0,0,0,0,G.width,G.height,G.depth,fe,le,G.data)):t.texImage3D(32879,0,ve,G.width,G.height,G.depth,0,fe,le,G.data);else if(w.isFramebufferTexture)xe&&ne?t.texStorage2D(3553,he,ve,G.width,G.height):t.texImage2D(3553,0,ve,G.width,G.height,0,fe,le,null);else if(z.length>0&&ge){xe&&ne&&t.texStorage2D(3553,he,ve,z[0].width,z[0].height);for(let V=0,Ee=z.length;V<Ee;V++)De=z[V],xe?t.texSubImage2D(3553,V,0,0,fe,le,De):t.texImage2D(3553,V,ve,fe,le,De);w.generateMipmaps=!1}else xe?(ne&&t.texStorage2D(3553,he,ve,G.width,G.height),t.texSubImage2D(3553,0,0,0,fe,le,G)):t.texImage2D(3553,0,ve,fe,le,G);_(w,ge)&&S(ee),C.__version=w.version,w.onUpdate&&w.onUpdate(w)}function Te(C,w,H){if(w.image.length!==6)return;re(C,w),t.activeTexture(33984+H),t.bindTexture(34067,C.__webglTexture),n.pixelStorei(37440,w.flipY),n.pixelStorei(37441,w.premultiplyAlpha),n.pixelStorei(3317,w.unpackAlignment),n.pixelStorei(37443,0);let ee=w&&(w.isCompressedTexture||w.image[0].isCompressedTexture),ue=w.image[0]&&w.image[0].isDataTexture,G=[];for(let V=0;V<6;V++)!ee&&!ue?G[V]=h(w.image[V],!1,!0,c):G[V]=ue?w.image[V].image:w.image[V],G[V]=Ce(w,G[V]);let ge=G[0],fe=b(ge)||a,le=o.convert(w.format,w.encoding),ve=o.convert(w.type),De=M(w.internalFormat,le,ve,w.encoding),z=a&&w.isVideoTexture!==!0,xe=C.__version===void 0,ne=E(w,ge,fe);oe(34067,w,fe);let he;if(ee){z&&xe&&t.texStorage2D(34067,ne,De,ge.width,ge.height);for(let V=0;V<6;V++){he=G[V].mipmaps;for(let Ee=0;Ee<he.length;Ee++){let Oe=he[Ee];w.format!==Mi?le!==null?z?t.compressedTexSubImage2D(34069+V,Ee,0,0,Oe.width,Oe.height,le,Oe.data):t.compressedTexImage2D(34069+V,Ee,De,Oe.width,Oe.height,0,Oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):z?t.texSubImage2D(34069+V,Ee,0,0,Oe.width,Oe.height,le,ve,Oe.data):t.texImage2D(34069+V,Ee,De,Oe.width,Oe.height,0,le,ve,Oe.data)}}}else{he=w.mipmaps,z&&xe&&(he.length>0&&ne++,t.texStorage2D(34067,ne,De,G[0].width,G[0].height));for(let V=0;V<6;V++)if(ue){z?t.texSubImage2D(34069+V,0,0,0,G[V].width,G[V].height,le,ve,G[V].data):t.texImage2D(34069+V,0,De,G[V].width,G[V].height,0,le,ve,G[V].data);for(let Ee=0;Ee<he.length;Ee++){let We=he[Ee].image[V].image;z?t.texSubImage2D(34069+V,Ee+1,0,0,We.width,We.height,le,ve,We.data):t.texImage2D(34069+V,Ee+1,De,We.width,We.height,0,le,ve,We.data)}}else{z?t.texSubImage2D(34069+V,0,0,0,le,ve,G[V]):t.texImage2D(34069+V,0,De,le,ve,G[V]);for(let Ee=0;Ee<he.length;Ee++){let Oe=he[Ee];z?t.texSubImage2D(34069+V,Ee+1,0,0,le,ve,Oe.image[V]):t.texImage2D(34069+V,Ee+1,De,le,ve,Oe.image[V])}}}_(w,fe)&&S(34067),C.__version=w.version,w.onUpdate&&w.onUpdate(w)}function de(C,w,H,ee,ue){let G=o.convert(H.format,H.encoding),ge=o.convert(H.type),fe=M(H.internalFormat,G,ge,H.encoding);r.get(w).__hasExternalTextures||(ue===32879||ue===35866?t.texImage3D(ue,0,fe,w.width,w.height,w.depth,0,G,ge,null):t.texImage2D(ue,0,fe,w.width,w.height,0,G,ge,null)),t.bindFramebuffer(36160,C),w.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,ee,ue,r.get(H).__webglTexture,0,Se(w)):n.framebufferTexture2D(36160,ee,ue,r.get(H).__webglTexture,0),t.bindFramebuffer(36160,null)}function Me(C,w,H){if(n.bindRenderbuffer(36161,C),w.depthBuffer&&!w.stencilBuffer){let ee=33189;if(H||w.useRenderToTexture){let ue=w.depthTexture;ue&&ue.isDepthTexture&&(ue.type===ku?ee=36012:ue.type===vT&&(ee=33190));let G=Se(w);w.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,G,ee,w.width,w.height):n.renderbufferStorageMultisample(36161,G,ee,w.width,w.height)}else n.renderbufferStorage(36161,ee,w.width,w.height);n.framebufferRenderbuffer(36160,36096,36161,C)}else if(w.depthBuffer&&w.stencilBuffer){let ee=Se(w);H&&w.useRenderbuffer?n.renderbufferStorageMultisample(36161,ee,35056,w.width,w.height):w.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,ee,35056,w.width,w.height):n.renderbufferStorage(36161,34041,w.width,w.height),n.framebufferRenderbuffer(36160,33306,36161,C)}else{let ee=w.isWebGLMultipleRenderTargets===!0?w.texture[0]:w.texture,ue=o.convert(ee.format,ee.encoding),G=o.convert(ee.type),ge=M(ee.internalFormat,ue,G,ee.encoding),fe=Se(w);H&&w.useRenderbuffer?n.renderbufferStorageMultisample(36161,fe,ge,w.width,w.height):w.useRenderToTexture?f.renderbufferStorageMultisampleEXT(36161,fe,ge,w.width,w.height):n.renderbufferStorage(36161,ge,w.width,w.height)}n.bindRenderbuffer(36161,null)}function me(C,w){if(w&&w.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,C),!(w.depthTexture&&w.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(w.depthTexture).__webglTexture||w.depthTexture.image.width!==w.width||w.depthTexture.image.height!==w.height)&&(w.depthTexture.image.width=w.width,w.depthTexture.image.height=w.height,w.depthTexture.needsUpdate=!0),j(w.depthTexture,0);let ee=r.get(w.depthTexture).__webglTexture,ue=Se(w);if(w.depthTexture.format===Bu)w.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,ee,0,ue):n.framebufferTexture2D(36160,36096,3553,ee,0);else if(w.depthTexture.format===bf)w.useRenderToTexture?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,ee,0,ue):n.framebufferTexture2D(36160,33306,3553,ee,0);else throw new Error("Unknown depthTexture format")}function Pe(C){let w=r.get(C),H=C.isWebGLCubeRenderTarget===!0;if(C.depthTexture&&!w.__autoAllocateDepthBuffer){if(H)throw new Error("target.depthTexture not supported in Cube render targets");me(w.__webglFramebuffer,C)}else if(H){w.__webglDepthbuffer=[];for(let ee=0;ee<6;ee++)t.bindFramebuffer(36160,w.__webglFramebuffer[ee]),w.__webglDepthbuffer[ee]=n.createRenderbuffer(),Me(w.__webglDepthbuffer[ee],C,!1)}else t.bindFramebuffer(36160,w.__webglFramebuffer),w.__webglDepthbuffer=n.createRenderbuffer(),Me(w.__webglDepthbuffer,C,!1);t.bindFramebuffer(36160,null)}function _e(C,w,H){let ee=r.get(C);w!==void 0&&de(ee.__webglFramebuffer,C,C.texture,36064,3553),H!==void 0&&Pe(C)}function q(C){let w=C.texture,H=r.get(C),ee=r.get(w);C.addEventListener("dispose",T),C.isWebGLMultipleRenderTargets!==!0&&(ee.__webglTexture===void 0&&(ee.__webglTexture=n.createTexture()),ee.__version=w.version,s.memory.textures++);let ue=C.isWebGLCubeRenderTarget===!0,G=C.isWebGLMultipleRenderTargets===!0,ge=w.isDataTexture3D||w.isDataTexture2DArray,fe=b(C)||a;if(ue){H.__webglFramebuffer=[];for(let le=0;le<6;le++)H.__webglFramebuffer[le]=n.createFramebuffer()}else if(H.__webglFramebuffer=n.createFramebuffer(),G)if(i.drawBuffers){let le=C.texture;for(let ve=0,De=le.length;ve<De;ve++){let z=r.get(le[ve]);z.__webglTexture===void 0&&(z.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(C.useRenderbuffer)if(a){H.__webglMultisampledFramebuffer=n.createFramebuffer(),H.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,H.__webglColorRenderbuffer);let le=o.convert(w.format,w.encoding),ve=o.convert(w.type),De=M(w.internalFormat,le,ve,w.encoding),z=Se(C);n.renderbufferStorageMultisample(36161,z,De,C.width,C.height),t.bindFramebuffer(36160,H.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,H.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),C.depthBuffer&&(H.__webglDepthRenderbuffer=n.createRenderbuffer(),Me(H.__webglDepthRenderbuffer,C,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ue){t.bindTexture(34067,ee.__webglTexture),oe(34067,w,fe);for(let le=0;le<6;le++)de(H.__webglFramebuffer[le],C,w,36064,34069+le);_(w,fe)&&S(34067),t.unbindTexture()}else if(G){let le=C.texture;for(let ve=0,De=le.length;ve<De;ve++){let z=le[ve],xe=r.get(z);t.bindTexture(3553,xe.__webglTexture),oe(3553,z,fe),de(H.__webglFramebuffer,C,z,36064+ve,3553),_(z,fe)&&S(3553)}t.unbindTexture()}else{let le=3553;ge&&(a?le=w.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),t.bindTexture(le,ee.__webglTexture),oe(le,w,fe),de(H.__webglFramebuffer,C,w,36064,le),_(w,fe)&&S(le),t.unbindTexture()}C.depthBuffer&&Pe(C)}function ce(C){let w=b(C)||a,H=C.isWebGLMultipleRenderTargets===!0?C.texture:[C.texture];for(let ee=0,ue=H.length;ee<ue;ee++){let G=H[ee];if(_(G,w)){let ge=C.isWebGLCubeRenderTarget?34067:3553,fe=r.get(G).__webglTexture;t.bindTexture(ge,fe),S(ge),t.unbindTexture()}}}function se(C){if(C.useRenderbuffer)if(a){let w=C.width,H=C.height,ee=16384,ue=[36064],G=C.stencilBuffer?33306:36096;C.depthBuffer&&ue.push(G),C.ignoreDepthForMultisampleCopy||(C.depthBuffer&&(ee|=256),C.stencilBuffer&&(ee|=1024));let ge=r.get(C);t.bindFramebuffer(36008,ge.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ge.__webglFramebuffer),C.ignoreDepthForMultisampleCopy&&(n.invalidateFramebuffer(36008,[G]),n.invalidateFramebuffer(36009,[G])),n.blitFramebuffer(0,0,w,H,0,0,w,H,ee,9728),n.invalidateFramebuffer(36008,ue),t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,ge.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Se(C){return a&&(C.useRenderbuffer||C.useRenderToTexture)?Math.min(d,C.samples):0}function be(C){let w=s.render.frame;g.get(C)!==w&&(g.set(C,w),C.update())}function Ce(C,w){let H=C.encoding,ee=C.format,ue=C.type;return C.isCompressedTexture===!0||C.isVideoTexture===!0||C.format===dL||H!==rc&&(H===Mn?a===!1?e.has("EXT_sRGB")===!0&&ee===Mi?(C.format=dL,C.minFilter=di,C.generateMipmaps=!1):w=oc.sRGBToLinear(w):(ee!==Mi||ue!==nc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",H)),w}let Le=!1,Ne=!1;function Ge(C,w){C&&C.isWebGLRenderTarget&&(Le===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Le=!0),C=C.texture),j(C,w)}function Ue(C,w){C&&C.isWebGLCubeRenderTarget&&(Ne===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Ne=!0),C=C.texture),$(C,w)}this.allocateTextureUnit=N,this.resetTextureUnits=F,this.setTexture2D=j,this.setTexture2DArray=Y,this.setTexture3D=pe,this.setTextureCube=$,this.rebindTextures=_e,this.setupRenderTarget=q,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=se,this.setupDepthRenderbuffer=Pe,this.setupFrameBufferTexture=de,this.safeSetTexture2D=Ge,this.safeSetTextureCube=Ue}function Ixe(n,e,t){let r=t.isWebGL2;function i(o,s=null){let a;if(o===nc)return 5121;if(o===Rme)return 32819;if(o===Cme)return 32820;if(o===Mme)return 5120;if(o===Eme)return 5122;if(o===jy)return 5123;if(o===Pme)return 5124;if(o===vT)return 5125;if(o===ku)return 5126;if(o===vf)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===Ame)return 6406;if(o===Mi)return 6408;if(o===Lme)return 6409;if(o===Dme)return 6410;if(o===Bu)return 6402;if(o===bf)return 34041;if(o===Nme)return 6403;if(o===dL)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(o===Ime)return 36244;if(o===Ome)return 33319;if(o===Fme)return 33320;if(o===kme)return 36249;if(o===iL||o===oL||o===sL||o===aL)if(s===Mn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(o===iL)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===oL)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===sL)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===aL)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===iL)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===oL)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===sL)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===aL)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===K8||o===Q8||o===ej||o===tj)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===K8)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Q8)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===ej)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===tj)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===Bme)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===nj||o===rj)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(o===nj)return s===Mn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===rj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===ij||o===oj||o===sj||o===aj||o===lj||o===cj||o===uj||o===dj||o===pj||o===fj||o===hj||o===mj||o===gj||o===yj)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(o===ij)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===oj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===sj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===aj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===lj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===cj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===uj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===dj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===pj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===fj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===hj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===mj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===gj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===yj)return s===Mn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===vj)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(o===vj)return s===Mn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===xf)return r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:i}}var qL=class extends Gr{constructor(e=[]){super();this.cameras=e}};qL.prototype.isArrayCamera=!0;var gc=class extends Wt{constructor(){super();this.type="Group"}};gc.prototype.isGroup=!0;var Oxe={type:"move"},JT=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new gc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new gc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new gc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,o=null,s=null,a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred")if(a!==null&&(i=t.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Oxe))),c&&e.hand){s=!0;for(let y of e.hand.values()){let v=t.getJointPose(y,r);if(c.joints[y.jointName]===void 0){let h=new gc;h.matrixAutoUpdate=!1,h.visible=!1,c.joints[y.jointName]=h,c.add(h)}let m=c.joints[y.jointName];v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.jointRadius=v.radius),m.visible=v!==null}let u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=u.position.distanceTo(d.position),f=.02,g=.005;c.inputState.pinching&&p>f+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=f-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=t.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}},ZT=class extends yr{constructor(e,t,r,i,o,s,a,l,c,u){if(u=u!==void 0?u:Bu,u!==Bu&&u!==bf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Bu&&(r=jy),r===void 0&&u===bf&&(r=xf),super(null,i,o,s,a,l,u,r,c),this.image={width:e,height:t},this.magFilter=a!==void 0?a:gr,this.minFilter=l!==void 0?l:gr,this.flipY=!1,this.generateMipmaps=!1}};ZT.prototype.isDepthTexture=!0;var vq=class extends ic{constructor(e,t){super();let r=this,i=null,o=1,s=null,a="local-floor",l=e.extensions.has("WEBGL_multisampled_render_to_texture"),c=null,u=null,d=null,p=null,f=!1,g=null,y=t.getContextAttributes(),v=null,m=null,h=[],b=new Map,x=new Gr;x.layers.enable(1),x.viewport=new tn;let _=new Gr;_.layers.enable(2),_.viewport=new tn;let S=[x,_],M=new qL;M.layers.enable(1),M.layers.enable(2);let E=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function($){let W=h[$];return W===void 0&&(W=new JT,h[$]=W),W.getTargetRaySpace()},this.getControllerGrip=function($){let W=h[$];return W===void 0&&(W=new JT,h[$]=W),W.getGripSpace()},this.getHand=function($){let W=h[$];return W===void 0&&(W=new JT,h[$]=W),W.getHandSpace()};function I($){let W=b.get($.inputSource);W&&W.dispatchEvent({type:$.type,data:$.inputSource})}function T(){b.forEach(function($,W){$.disconnect(W)}),b.clear(),E=null,L=null,e.setRenderTarget(v),p=null,d=null,u=null,i=null,m=null,pe.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function($){o=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){a=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return u},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function($){if(i=$,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",I),i.addEventListener("selectstart",I),i.addEventListener("selectend",I),i.addEventListener("squeeze",I),i.addEventListener("squeezestart",I),i.addEventListener("squeezeend",I),i.addEventListener("end",T),i.addEventListener("inputsourceschange",A),y.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let W={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(i,t,W),i.updateRenderState({baseLayer:p}),m=new oo(p.framebufferWidth,p.framebufferHeight,{format:Mi,type:nc,encoding:e.outputEncoding})}else{f=y.antialias;let W=null,J=null,oe=null;y.depth&&(oe=y.stencil?35056:33190,W=y.stencil?bf:Bu,J=y.stencil?xf:jy);let re={colorFormat:e.outputEncoding===Mn?35907:32856,depthFormat:oe,scaleFactor:o};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(re),i.updateRenderState({layers:[d]}),f?m=new MT(d.textureWidth,d.textureHeight,{format:Mi,type:nc,depthTexture:new ZT(d.textureWidth,d.textureHeight,J,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:y.stencil,ignoreDepth:d.ignoreDepthValues,useRenderToTexture:l,encoding:e.outputEncoding}):m=new oo(d.textureWidth,d.textureHeight,{format:Mi,type:nc,depthTexture:new ZT(d.textureWidth,d.textureHeight,J,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:y.stencil,ignoreDepth:d.ignoreDepthValues,encoding:e.outputEncoding})}m.isXRRenderTarget=!0,this.setFoveation(1),s=await i.requestReferenceSpace(a),pe.setContext(i),pe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function A($){let W=i.inputSources;for(let J=0;J<h.length;J++)b.set(W[J],h[J]);for(let J=0;J<$.removed.length;J++){let oe=$.removed[J],re=b.get(oe);re&&(re.dispatchEvent({type:"disconnected",data:oe}),b.delete(oe))}for(let J=0;J<$.added.length;J++){let oe=$.added[J],re=b.get(oe);re&&re.dispatchEvent({type:"connected",data:oe})}}let k=new Z,U=new Z;function F($,W,J){k.setFromMatrixPosition(W.matrixWorld),U.setFromMatrixPosition(J.matrixWorld);let oe=k.distanceTo(U),re=W.projectionMatrix.elements,D=J.projectionMatrix.elements,Te=re[14]/(re[10]-1),de=re[14]/(re[10]+1),Me=(re[9]+1)/re[5],me=(re[9]-1)/re[5],Pe=(re[8]-1)/re[0],_e=(D[8]+1)/D[0],q=Te*Pe,ce=Te*_e,se=oe/(-Pe+_e),Se=se*-Pe;W.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(Se),$.translateZ(se),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert();let be=Te+se,Ce=de+se,Le=q-Se,Ne=ce+(oe-Se),Ge=Me*de/Ce*be,Ue=me*de/Ce*be;$.projectionMatrix.makePerspective(Le,Ne,Ge,Ue,be,Ce)}function N($,W){W===null?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(W.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.updateCamera=function($){if(i===null)return;M.near=_.near=x.near=$.near,M.far=_.far=x.far=$.far,(E!==M.near||L!==M.far)&&(i.updateRenderState({depthNear:M.near,depthFar:M.far}),E=M.near,L=M.far);let W=$.parent,J=M.cameras;N(M,W);for(let re=0;re<J.length;re++)N(J[re],W);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),$.position.copy(M.position),$.quaternion.copy(M.quaternion),$.scale.copy(M.scale),$.matrix.copy(M.matrix),$.matrixWorld.copy(M.matrixWorld);let oe=$.children;for(let re=0,D=oe.length;re<D;re++)oe[re].updateMatrixWorld(!0);J.length===2?F(M,x,_):M.projectionMatrix.copy(x.projectionMatrix)},this.getCamera=function(){return M},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function($){d!==null&&(d.fixedFoveation=$),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=$)};let j=null;function Y($,W){if(c=W.getViewerPose(s),g=W,c!==null){let oe=c.views;p!==null&&(e.setRenderTargetFramebuffer(m,p.framebuffer),e.setRenderTarget(m));let re=!1;oe.length!==M.cameras.length&&(M.cameras.length=0,re=!0);for(let D=0;D<oe.length;D++){let Te=oe[D],de=null;if(p!==null)de=p.getViewport(Te);else{let me=u.getViewSubImage(d,Te);de=me.viewport,D===0&&(e.setRenderTargetTextures(m,me.colorTexture,d.ignoreDepthValues?void 0:me.depthStencilTexture),e.setRenderTarget(m))}let Me=S[D];Me.matrix.fromArray(Te.transform.matrix),Me.projectionMatrix.fromArray(Te.projectionMatrix),Me.viewport.set(de.x,de.y,de.width,de.height),D===0&&M.matrix.copy(Me.matrix),re===!0&&M.cameras.push(Me)}}let J=i.inputSources;for(let oe=0;oe<h.length;oe++){let re=h[oe],D=J[oe];re.update(D,W,s)}j&&j($,W),g=null}let pe=new kj;pe.setAnimationLoop(Y),this.setAnimationLoop=function($){j=$},this.dispose=function(){}}};function Fxe(n){function e(m,h){m.fogColor.value.copy(h.color),h.isFog?(m.fogNear.value=h.near,m.fogFar.value=h.far):h.isFogExp2&&(m.fogDensity.value=h.density)}function t(m,h,b,x,_){h.isMeshBasicMaterial?r(m,h):h.isMeshLambertMaterial?(r(m,h),l(m,h)):h.isMeshToonMaterial?(r(m,h),u(m,h)):h.isMeshPhongMaterial?(r(m,h),c(m,h)):h.isMeshStandardMaterial?(r(m,h),h.isMeshPhysicalMaterial?p(m,h,_):d(m,h)):h.isMeshMatcapMaterial?(r(m,h),f(m,h)):h.isMeshDepthMaterial?(r(m,h),g(m,h)):h.isMeshDistanceMaterial?(r(m,h),y(m,h)):h.isMeshNormalMaterial?(r(m,h),v(m,h)):h.isLineBasicMaterial?(i(m,h),h.isLineDashedMaterial&&o(m,h)):h.isPointsMaterial?s(m,h,b,x):h.isSpriteMaterial?a(m,h):h.isShadowMaterial?(m.color.value.copy(h.color),m.opacity.value=h.opacity):h.isShaderMaterial&&(h.uniformsNeedUpdate=!1)}function r(m,h){m.opacity.value=h.opacity,h.color&&m.diffuse.value.copy(h.color),h.emissive&&m.emissive.value.copy(h.emissive).multiplyScalar(h.emissiveIntensity),h.map&&(m.map.value=h.map),h.alphaMap&&(m.alphaMap.value=h.alphaMap),h.specularMap&&(m.specularMap.value=h.specularMap),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest);let b=n.get(h).envMap;b&&(m.envMap.value=b,m.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=h.reflectivity,m.ior.value=h.ior,m.refractionRatio.value=h.refractionRatio),h.lightMap&&(m.lightMap.value=h.lightMap,m.lightMapIntensity.value=h.lightMapIntensity),h.aoMap&&(m.aoMap.value=h.aoMap,m.aoMapIntensity.value=h.aoMapIntensity);let x;h.map?x=h.map:h.specularMap?x=h.specularMap:h.displacementMap?x=h.displacementMap:h.normalMap?x=h.normalMap:h.bumpMap?x=h.bumpMap:h.roughnessMap?x=h.roughnessMap:h.metalnessMap?x=h.metalnessMap:h.alphaMap?x=h.alphaMap:h.emissiveMap?x=h.emissiveMap:h.clearcoatMap?x=h.clearcoatMap:h.clearcoatNormalMap?x=h.clearcoatNormalMap:h.clearcoatRoughnessMap?x=h.clearcoatRoughnessMap:h.specularIntensityMap?x=h.specularIntensityMap:h.specularColorMap?x=h.specularColorMap:h.transmissionMap?x=h.transmissionMap:h.thicknessMap?x=h.thicknessMap:h.sheenColorMap?x=h.sheenColorMap:h.sheenRoughnessMap&&(x=h.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),m.uvTransform.value.copy(x.matrix));let _;h.aoMap?_=h.aoMap:h.lightMap&&(_=h.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),m.uv2Transform.value.copy(_.matrix))}function i(m,h){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity}function o(m,h){m.dashSize.value=h.dashSize,m.totalSize.value=h.dashSize+h.gapSize,m.scale.value=h.scale}function s(m,h,b,x){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity,m.size.value=h.size*b,m.scale.value=x*.5,h.map&&(m.map.value=h.map),h.alphaMap&&(m.alphaMap.value=h.alphaMap),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest);let _;h.map?_=h.map:h.alphaMap&&(_=h.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),m.uvTransform.value.copy(_.matrix))}function a(m,h){m.diffuse.value.copy(h.color),m.opacity.value=h.opacity,m.rotation.value=h.rotation,h.map&&(m.map.value=h.map),h.alphaMap&&(m.alphaMap.value=h.alphaMap),h.alphaTest>0&&(m.alphaTest.value=h.alphaTest);let b;h.map?b=h.map:h.alphaMap&&(b=h.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}function l(m,h){h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap)}function c(m,h){m.specular.value.copy(h.specular),m.shininess.value=Math.max(h.shininess,1e-4),h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap),h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===mr&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===mr&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}function u(m,h){h.gradientMap&&(m.gradientMap.value=h.gradientMap),h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap),h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===mr&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===mr&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}function d(m,h){m.roughness.value=h.roughness,m.metalness.value=h.metalness,h.roughnessMap&&(m.roughnessMap.value=h.roughnessMap),h.metalnessMap&&(m.metalnessMap.value=h.metalnessMap),h.emissiveMap&&(m.emissiveMap.value=h.emissiveMap),h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===mr&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===mr&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias),n.get(h).envMap&&(m.envMapIntensity.value=h.envMapIntensity)}function p(m,h,b){d(m,h),m.ior.value=h.ior,h.sheen>0&&(m.sheenColor.value.copy(h.sheenColor).multiplyScalar(h.sheen),m.sheenRoughness.value=h.sheenRoughness,h.sheenColorMap&&(m.sheenColorMap.value=h.sheenColorMap),h.sheenRoughnessMap&&(m.sheenRoughnessMap.value=h.sheenRoughnessMap)),h.clearcoat>0&&(m.clearcoat.value=h.clearcoat,m.clearcoatRoughness.value=h.clearcoatRoughness,h.clearcoatMap&&(m.clearcoatMap.value=h.clearcoatMap),h.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=h.clearcoatRoughnessMap),h.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(h.clearcoatNormalScale),m.clearcoatNormalMap.value=h.clearcoatNormalMap,h.side===mr&&m.clearcoatNormalScale.value.negate())),h.transmission>0&&(m.transmission.value=h.transmission,m.transmissionSamplerMap.value=b.texture,m.transmissionSamplerSize.value.set(b.width,b.height),h.transmissionMap&&(m.transmissionMap.value=h.transmissionMap),m.thickness.value=h.thickness,h.thicknessMap&&(m.thicknessMap.value=h.thicknessMap),m.attenuationDistance.value=h.attenuationDistance,m.attenuationColor.value.copy(h.attenuationColor)),m.specularIntensity.value=h.specularIntensity,m.specularColor.value.copy(h.specularColor),h.specularIntensityMap&&(m.specularIntensityMap.value=h.specularIntensityMap),h.specularColorMap&&(m.specularColorMap.value=h.specularColorMap)}function f(m,h){h.matcap&&(m.matcap.value=h.matcap),h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===mr&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===mr&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}function g(m,h){h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}function y(m,h){h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias),m.referencePosition.value.copy(h.referencePosition),m.nearDistance.value=h.nearDistance,m.farDistance.value=h.farDistance}function v(m,h){h.bumpMap&&(m.bumpMap.value=h.bumpMap,m.bumpScale.value=h.bumpScale,h.side===mr&&(m.bumpScale.value*=-1)),h.normalMap&&(m.normalMap.value=h.normalMap,m.normalScale.value.copy(h.normalScale),h.side===mr&&m.normalScale.value.negate()),h.displacementMap&&(m.displacementMap.value=h.displacementMap,m.displacementScale.value=h.displacementScale,m.displacementBias.value=h.displacementBias)}return{refreshFogUniforms:e,refreshMaterialUniforms:t}}function kxe(){let n=Yy("canvas");return n.style.display="block",n}function Gt(n={}){let e=n.canvas!==void 0?n.canvas:kxe(),t=n.context!==void 0?n.context:null,r=n.alpha!==void 0?n.alpha:!1,i=n.depth!==void 0?n.depth:!0,o=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,a=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,l=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,c=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1,d=null,p=null,f=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=rc,this.physicallyCorrectLights=!1,this.toneMapping=tc,this.toneMappingExposure=1;let y=this,v=!1,m=0,h=0,b=null,x=-1,_=null,S=new tn,M=new tn,E=null,L=e.width,I=e.height,T=1,A=null,k=null,U=new tn(0,0,L,I),F=new tn(0,0,L,I),N=!1,j=new tv,Y=!1,pe=!1,$=null,W=new dt,J=new Z,oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function re(){return b===null?T:1}let D=t;function Te(P,X){for(let te=0;te<P.length;te++){let K=P[te],ae=e.getContext(K,X);if(ae!==null)return ae}return null}try{let P={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Z2}`),e.addEventListener("webglcontextlost",De,!1),e.addEventListener("webglcontextrestored",z,!1),D===null){let X=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&X.shift(),D=Te(X,P),D===null)throw Te(X)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}D.getShaderPrecisionFormat===void 0&&(D.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(P){throw console.error("THREE.WebGLRenderer: "+P.message),P}let de,Me,me,Pe,_e,q,ce,se,Se,be,Ce,Le,Ne,Ge,Ue,C,w,H,ee,ue,G,ge,fe;function le(){de=new o0e(D),Me=new Qve(D,de,n),de.init(Me),ge=new Ixe(D,de,Me),me=new Dxe(D,de,Me),Pe=new l0e(D),_e=new _xe,q=new Nxe(D,de,me,_e,Me,ge,Pe),ce=new t0e(y),se=new i0e(y),Se=new Tge(D,Me),fe=new Zve(D,de,Se,Me),be=new s0e(D,Se,Pe,fe),Ce=new p0e(D,be,Se,Pe),ee=new d0e(D,Me,q),C=new e0e(_e),Le=new bxe(y,ce,se,de,Me,fe,C),Ne=new Fxe(_e),Ge=new Txe,Ue=new Cxe(de,Me),H=new Jve(y,ce,me,Ce,r,a),w=new yq(y,Ce,Me),ue=new Kve(D,de,Pe,Me),G=new a0e(D,de,Pe,Me),Pe.programs=Le.programs,y.capabilities=Me,y.extensions=de,y.properties=_e,y.renderLists=Ge,y.shadowMap=w,y.state=me,y.info=Pe}le();let ve=new vq(y,D);this.xr=ve,this.getContext=function(){return D},this.getContextAttributes=function(){return D.getContextAttributes()},this.forceContextLoss=function(){let P=de.get("WEBGL_lose_context");P&&P.loseContext()},this.forceContextRestore=function(){let P=de.get("WEBGL_lose_context");P&&P.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(P){P!==void 0&&(T=P,this.setSize(L,I,!1))},this.getSize=function(P){return P.set(L,I)},this.setSize=function(P,X,te){if(ve.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}L=P,I=X,e.width=Math.floor(P*T),e.height=Math.floor(X*T),te!==!1&&(e.style.width=P+"px",e.style.height=X+"px"),this.setViewport(0,0,P,X)},this.getDrawingBufferSize=function(P){return P.set(L*T,I*T).floor()},this.setDrawingBufferSize=function(P,X,te){L=P,I=X,T=te,e.width=Math.floor(P*te),e.height=Math.floor(X*te),this.setViewport(0,0,P,X)},this.getCurrentViewport=function(P){return P.copy(S)},this.getViewport=function(P){return P.copy(U)},this.setViewport=function(P,X,te,K){P.isVector4?U.set(P.x,P.y,P.z,P.w):U.set(P,X,te,K),me.viewport(S.copy(U).multiplyScalar(T).floor())},this.getScissor=function(P){return P.copy(F)},this.setScissor=function(P,X,te,K){P.isVector4?F.set(P.x,P.y,P.z,P.w):F.set(P,X,te,K),me.scissor(M.copy(F).multiplyScalar(T).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(P){me.setScissorTest(N=P)},this.setOpaqueSort=function(P){A=P},this.setTransparentSort=function(P){k=P},this.getClearColor=function(P){return P.copy(H.getClearColor())},this.setClearColor=function(){H.setClearColor.apply(H,arguments)},this.getClearAlpha=function(){return H.getClearAlpha()},this.setClearAlpha=function(){H.setClearAlpha.apply(H,arguments)},this.clear=function(P,X,te){let K=0;(P===void 0||P)&&(K|=16384),(X===void 0||X)&&(K|=256),(te===void 0||te)&&(K|=1024),D.clear(K)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",De,!1),e.removeEventListener("webglcontextrestored",z,!1),Ge.dispose(),Ue.dispose(),_e.dispose(),ce.dispose(),se.dispose(),Ce.dispose(),fe.dispose(),Le.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",Oe),ve.removeEventListener("sessionend",We),$&&($.dispose(),$=null),nt.stop()};function De(P){P.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function z(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;let P=Pe.autoReset,X=w.enabled,te=w.autoUpdate,K=w.needsUpdate,ae=w.type;le(),Pe.autoReset=P,w.enabled=X,w.autoUpdate=te,w.needsUpdate=K,w.type=ae}function xe(P){let X=P.target;X.removeEventListener("dispose",xe),ne(X)}function ne(P){he(P),_e.remove(P)}function he(P){let X=_e.get(P).programs;X!==void 0&&(X.forEach(function(te){Le.releaseProgram(te)}),P.isShaderMaterial&&Le.releaseShaderCache(P))}this.renderBufferDirect=function(P,X,te,K,ae,He){X===null&&(X=oe);let ke=ae.isMesh&&ae.matrixWorld.determinant()<0,qe=Dt(P,X,te,K,ae);me.setMaterial(K,ke);let je=te.index,lt=te.attributes.position;if(je===null){if(lt===void 0||lt.count===0)return}else if(je.count===0)return;let it=1;K.wireframe===!0&&(je=be.getWireframeAttribute(te),it=2),fe.setup(ae,K,qe,te,je);let Qe,ut=ue;je!==null&&(Qe=Se.get(je),ut=G,ut.setIndex(Qe));let _r=je!==null?je.count:lt.count,xi=te.drawRange.start*it,rt=te.drawRange.count*it,Rn=He!==null?He.start*it:0,wt=He!==null?He.count*it:Infinity,Gn=Math.max(xi,Rn),Ys=Math.min(_r,xi+rt,Rn+wt)-1,jn=Math.max(0,Ys-Gn+1);if(jn!==0){if(ae.isMesh)K.wireframe===!0?(me.setLineWidth(K.wireframeLinewidth*re()),ut.setMode(1)):ut.setMode(4);else if(ae.isLine){let ur=K.linewidth;ur===void 0&&(ur=1),me.setLineWidth(ur*re()),ae.isLineSegments?ut.setMode(1):ae.isLineLoop?ut.setMode(2):ut.setMode(3)}else ae.isPoints?ut.setMode(0):ae.isSprite&&ut.setMode(4);if(ae.isInstancedMesh)ut.renderInstances(Gn,jn,ae.count);else if(te.isInstancedBufferGeometry){let ur=Math.min(te.instanceCount,te._maxInstanceCount);ut.renderInstances(Gn,jn,ur)}else ut.render(Gn,jn)}},this.compile=function(P,X){p=Ue.get(P),p.init(),g.push(p),P.traverseVisible(function(te){te.isLight&&te.layers.test(X.layers)&&(p.pushLight(te),te.castShadow&&p.pushShadow(te))}),p.setupLights(y.physicallyCorrectLights),P.traverse(function(te){let K=te.material;if(K)if(Array.isArray(K))for(let ae=0;ae<K.length;ae++){let He=K[ae];zt(He,P,te)}else zt(K,P,te)}),g.pop(),p=null};let V=null;function Ee(P){V&&V(P)}function Oe(){nt.stop()}function We(){nt.start()}let nt=new kj;nt.setAnimationLoop(Ee),typeof window!="undefined"&&nt.setContext(window),this.setAnimationLoop=function(P){V=P,ve.setAnimationLoop(P),P===null?nt.stop():nt.start()},ve.addEventListener("sessionstart",Oe),ve.addEventListener("sessionend",We),this.render=function(P,X){if(X!==void 0&&X.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;P.autoUpdate===!0&&P.updateMatrixWorld(),X.parent===null&&X.updateMatrixWorld(),ve.enabled===!0&&ve.isPresenting===!0&&(ve.cameraAutoUpdate===!0&&ve.updateCamera(X),X=ve.getCamera()),P.isScene===!0&&P.onBeforeRender(y,P,X,b),p=Ue.get(P,g.length),p.init(),g.push(p),W.multiplyMatrices(X.projectionMatrix,X.matrixWorldInverse),j.setFromProjectionMatrix(W),pe=this.localClippingEnabled,Y=C.init(this.clippingPlanes,pe,X),d=Ge.get(P,f.length),d.init(),f.push(d),Xe(P,X,0,y.sortObjects),d.finish(),y.sortObjects===!0&&d.sort(A,k),Y===!0&&C.beginShadows();let te=p.state.shadowsArray;if(w.render(te,P,X),Y===!0&&C.endShadows(),this.info.autoReset===!0&&this.info.reset(),H.render(d,P),p.setupLights(y.physicallyCorrectLights),X.isArrayCamera){let K=X.cameras;for(let ae=0,He=K.length;ae<He;ae++){let ke=K[ae];bt(d,P,ke,ke.viewport)}}else bt(d,P,X);b!==null&&(q.updateMultisampleRenderTarget(b),q.updateRenderTargetMipmap(b)),P.isScene===!0&&P.onAfterRender(y,P,X),me.buffers.depth.setTest(!0),me.buffers.depth.setMask(!0),me.buffers.color.setMask(!0),me.setPolygonOffset(!1),fe.resetDefaultState(),x=-1,_=null,g.pop(),g.length>0?p=g[g.length-1]:p=null,f.pop(),f.length>0?d=f[f.length-1]:d=null};function Xe(P,X,te,K){if(P.visible===!1)return;if(P.layers.test(X.layers)){if(P.isGroup)te=P.renderOrder;else if(P.isLOD)P.autoUpdate===!0&&P.update(X);else if(P.isLight)p.pushLight(P),P.castShadow&&p.pushShadow(P);else if(P.isSprite){if(!P.frustumCulled||j.intersectsSprite(P)){K&&J.setFromMatrixPosition(P.matrixWorld).applyMatrix4(W);let ke=Ce.update(P),qe=P.material;qe.visible&&d.push(P,ke,qe,te,J.z,null)}}else if((P.isMesh||P.isLine||P.isPoints)&&(P.isSkinnedMesh&&P.skeleton.frame!==Pe.render.frame&&(P.skeleton.update(),P.skeleton.frame=Pe.render.frame),!P.frustumCulled||j.intersectsObject(P))){K&&J.setFromMatrixPosition(P.matrixWorld).applyMatrix4(W);let ke=Ce.update(P),qe=P.material;if(Array.isArray(qe)){let je=ke.groups;for(let lt=0,it=je.length;lt<it;lt++){let Qe=je[lt],ut=qe[Qe.materialIndex];ut&&ut.visible&&d.push(P,ke,ut,te,J.z,Qe)}}else qe.visible&&d.push(P,ke,qe,te,J.z,null)}}let He=P.children;for(let ke=0,qe=He.length;ke<qe;ke++)Xe(He[ke],X,te,K)}function bt(P,X,te,K){let ae=P.opaque,He=P.transmissive,ke=P.transparent;p.setupLightsView(te),He.length>0&&yt(ae,X,te),K&&me.viewport(S.copy(K)),ae.length>0&&un(ae,X,te),He.length>0&&un(He,X,te),ke.length>0&&un(ke,X,te)}function yt(P,X,te){if($===null){let ke=s===!0&&Me.isWebGL2===!0?MT:oo;$=new ke(1024,1024,{generateMipmaps:!0,type:ge.convert(vf)!==null?vf:nc,minFilter:yT,magFilter:gr,wrapS:io,wrapT:io,useRenderToTexture:de.has("WEBGL_multisampled_render_to_texture")})}let K=y.getRenderTarget();y.setRenderTarget($),y.clear();let ae=y.toneMapping;y.toneMapping=tc,un(P,X,te),y.toneMapping=ae,q.updateMultisampleRenderTarget($),q.updateRenderTargetMipmap($),y.setRenderTarget(K)}function un(P,X,te){let K=X.isScene===!0?X.overrideMaterial:null;for(let ae=0,He=P.length;ae<He;ae++){let ke=P[ae],qe=ke.object,je=ke.geometry,lt=K===null?ke.material:K,it=ke.group;qe.layers.test(te.layers)&&zo(qe,X,te,je,lt,it)}}function zo(P,X,te,K,ae,He){P.onBeforeRender(y,X,te,K,ae,He),P.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,P.matrixWorld),P.normalMatrix.getNormalMatrix(P.modelViewMatrix),ae.onBeforeRender(y,X,te,K,P,He),ae.transparent===!0&&ae.side===gf?(ae.side=mr,ae.needsUpdate=!0,y.renderBufferDirect(te,X,K,ae,P,He),ae.side=Vy,ae.needsUpdate=!0,y.renderBufferDirect(te,X,K,ae,P,He),ae.side=gf):y.renderBufferDirect(te,X,K,ae,P,He),P.onAfterRender(y,X,te,K,ae,He)}function zt(P,X,te){X.isScene!==!0&&(X=oe);let K=_e.get(P),ae=p.state.lights,He=p.state.shadowsArray,ke=ae.state.version,qe=Le.getParameters(P,ae.state,He,X,te),je=Le.getProgramCacheKey(qe),lt=K.programs;K.environment=P.isMeshStandardMaterial?X.environment:null,K.fog=X.fog,K.envMap=(P.isMeshStandardMaterial?se:ce).get(P.envMap||K.environment),lt===void 0&&(P.addEventListener("dispose",xe),lt=new Map,K.programs=lt);let it=lt.get(je);if(it!==void 0){if(K.currentProgram===it&&K.lightsStateVersion===ke)return Rt(P,qe),it}else qe.uniforms=Le.getUniforms(P),P.onBuild(te,qe,y),P.onBeforeCompile(qe,y),it=Le.acquireProgram(qe,je),lt.set(je,it),K.uniforms=qe.uniforms;let Qe=K.uniforms;(!P.isShaderMaterial&&!P.isRawShaderMaterial||P.clipping===!0)&&(Qe.clippingPlanes=C.uniform),Rt(P,qe),K.needsLights=ht(P),K.lightsStateVersion=ke,K.needsLights&&(Qe.ambientLightColor.value=ae.state.ambient,Qe.lightProbe.value=ae.state.probe,Qe.directionalLights.value=ae.state.directional,Qe.directionalLightShadows.value=ae.state.directionalShadow,Qe.spotLights.value=ae.state.spot,Qe.spotLightShadows.value=ae.state.spotShadow,Qe.rectAreaLights.value=ae.state.rectArea,Qe.ltc_1.value=ae.state.rectAreaLTC1,Qe.ltc_2.value=ae.state.rectAreaLTC2,Qe.pointLights.value=ae.state.point,Qe.pointLightShadows.value=ae.state.pointShadow,Qe.hemisphereLights.value=ae.state.hemi,Qe.directionalShadowMap.value=ae.state.directionalShadowMap,Qe.directionalShadowMatrix.value=ae.state.directionalShadowMatrix,Qe.spotShadowMap.value=ae.state.spotShadowMap,Qe.spotShadowMatrix.value=ae.state.spotShadowMatrix,Qe.pointShadowMap.value=ae.state.pointShadowMap,Qe.pointShadowMatrix.value=ae.state.pointShadowMatrix);let ut=it.getUniforms(),_r=mc.seqWithValue(ut.seq,Qe);return K.currentProgram=it,K.uniformsList=_r,it}function Rt(P,X){let te=_e.get(P);te.outputEncoding=X.outputEncoding,te.instancing=X.instancing,te.skinning=X.skinning,te.morphTargets=X.morphTargets,te.morphNormals=X.morphNormals,te.morphTargetsCount=X.morphTargetsCount,te.numClippingPlanes=X.numClippingPlanes,te.numIntersection=X.numClipIntersection,te.vertexAlphas=X.vertexAlphas,te.vertexTangents=X.vertexTangents,te.toneMapping=X.toneMapping}function Dt(P,X,te,K,ae){X.isScene!==!0&&(X=oe),q.resetTextureUnits();let He=X.fog,ke=K.isMeshStandardMaterial?X.environment:null,qe=b===null?y.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:rc,je=(K.isMeshStandardMaterial?se:ce).get(K.envMap||ke),lt=K.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,it=!!K.normalMap&&!!te.attributes.tangent,Qe=!!te.morphAttributes.position,ut=!!te.morphAttributes.normal,_r=te.morphAttributes.position?te.morphAttributes.position.length:0,xi=K.toneMapped?y.toneMapping:tc,rt=_e.get(K),Rn=p.state.lights;if(Y===!0&&(pe===!0||P!==_)){let Cn=P===_&&K.id===x;C.setState(K,P,Cn)}let wt=!1;K.version===rt.__version?(rt.needsLights&&rt.lightsStateVersion!==Rn.state.version||rt.outputEncoding!==qe||ae.isInstancedMesh&&rt.instancing===!1||!ae.isInstancedMesh&&rt.instancing===!0||ae.isSkinnedMesh&&rt.skinning===!1||!ae.isSkinnedMesh&&rt.skinning===!0||rt.envMap!==je||K.fog&&rt.fog!==He||rt.numClippingPlanes!==void 0&&(rt.numClippingPlanes!==C.numPlanes||rt.numIntersection!==C.numIntersection)||rt.vertexAlphas!==lt||rt.vertexTangents!==it||rt.morphTargets!==Qe||rt.morphNormals!==ut||rt.toneMapping!==xi||Me.isWebGL2===!0&&rt.morphTargetsCount!==_r)&&(wt=!0):(wt=!0,rt.__version=K.version);let Gn=rt.currentProgram;wt===!0&&(Gn=zt(K,X,ae));let Ys=!1,jn=!1,ur=!1,It=Gn.getUniforms(),Uo=rt.uniforms;if(me.useProgram(Gn.program)&&(Ys=!0,jn=!0,ur=!0),K.id!==x&&(x=K.id,jn=!0),Ys||_!==P){if(It.setValue(D,"projectionMatrix",P.projectionMatrix),Me.logarithmicDepthBuffer&&It.setValue(D,"logDepthBufFC",2/(Math.log(P.far+1)/Math.LN2)),_!==P&&(_=P,jn=!0,ur=!0),K.isShaderMaterial||K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshStandardMaterial||K.envMap){let Cn=It.map.cameraPosition;Cn!==void 0&&Cn.setValue(D,J.setFromMatrixPosition(P.matrixWorld))}(K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshLambertMaterial||K.isMeshBasicMaterial||K.isMeshStandardMaterial||K.isShaderMaterial)&&It.setValue(D,"isOrthographic",P.isOrthographicCamera===!0),(K.isMeshPhongMaterial||K.isMeshToonMaterial||K.isMeshLambertMaterial||K.isMeshBasicMaterial||K.isMeshStandardMaterial||K.isShaderMaterial||K.isShadowMaterial||ae.isSkinnedMesh)&&It.setValue(D,"viewMatrix",P.matrixWorldInverse)}if(ae.isSkinnedMesh){It.setOptional(D,ae,"bindMatrix"),It.setOptional(D,ae,"bindMatrixInverse");let Cn=ae.skeleton;Cn&&(Me.floatVertexTextures?(Cn.boneTexture===null&&Cn.computeBoneTexture(),It.setValue(D,"boneTexture",Cn.boneTexture,q),It.setValue(D,"boneTextureSize",Cn.boneTextureSize)):It.setOptional(D,Cn,"boneMatrices"))}return!!te&&(te.morphAttributes.position!==void 0||te.morphAttributes.normal!==void 0)&&ee.update(ae,te,K,Gn),(jn||rt.receiveShadow!==ae.receiveShadow)&&(rt.receiveShadow=ae.receiveShadow,It.setValue(D,"receiveShadow",ae.receiveShadow)),jn&&(It.setValue(D,"toneMappingExposure",y.toneMappingExposure),rt.needsLights&&Je(Uo,ur),He&&K.fog&&Ne.refreshFogUniforms(Uo,He),Ne.refreshMaterialUniforms(Uo,K,T,I,$),mc.upload(D,rt.uniformsList,Uo,q)),K.isShaderMaterial&&K.uniformsNeedUpdate===!0&&(mc.upload(D,rt.uniformsList,Uo,q),K.uniformsNeedUpdate=!1),K.isSpriteMaterial&&It.setValue(D,"center",ae.center),It.setValue(D,"modelViewMatrix",ae.modelViewMatrix),It.setValue(D,"normalMatrix",ae.normalMatrix),It.setValue(D,"modelMatrix",ae.matrixWorld),Gn}function Je(P,X){P.ambientLightColor.needsUpdate=X,P.lightProbe.needsUpdate=X,P.directionalLights.needsUpdate=X,P.directionalLightShadows.needsUpdate=X,P.pointLights.needsUpdate=X,P.pointLightShadows.needsUpdate=X,P.spotLights.needsUpdate=X,P.spotLightShadows.needsUpdate=X,P.rectAreaLights.needsUpdate=X,P.hemisphereLights.needsUpdate=X}function ht(P){return P.isMeshLambertMaterial||P.isMeshToonMaterial||P.isMeshPhongMaterial||P.isMeshStandardMaterial||P.isShadowMaterial||P.isShaderMaterial&&P.lights===!0}this.getActiveCubeFace=function(){return m},this.getActiveMipmapLevel=function(){return h},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(P,X,te){_e.get(P.texture).__webglTexture=X,_e.get(P.depthTexture).__webglTexture=te;let K=_e.get(P);K.__hasExternalTextures=!0,K.__hasExternalTextures&&(K.__autoAllocateDepthBuffer=te===void 0,K.__autoAllocateDepthBuffer||P.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),P.useRenderToTexture=!1,P.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(P,X){let te=_e.get(P);te.__webglFramebuffer=X,te.__useDefaultFramebuffer=X===void 0},this.setRenderTarget=function(P,X=0,te=0){b=P,m=X,h=te;let K=!0;if(P){let je=_e.get(P);je.__useDefaultFramebuffer!==void 0?(me.bindFramebuffer(36160,null),K=!1):je.__webglFramebuffer===void 0?q.setupRenderTarget(P):je.__hasExternalTextures&&q.rebindTextures(P,_e.get(P.texture).__webglTexture,_e.get(P.depthTexture).__webglTexture)}let ae=null,He=!1,ke=!1;if(P){let je=P.texture;(je.isDataTexture3D||je.isDataTexture2DArray)&&(ke=!0);let lt=_e.get(P).__webglFramebuffer;P.isWebGLCubeRenderTarget?(ae=lt[X],He=!0):P.useRenderbuffer?ae=_e.get(P).__webglMultisampledFramebuffer:ae=lt,S.copy(P.viewport),M.copy(P.scissor),E=P.scissorTest}else S.copy(U).multiplyScalar(T).floor(),M.copy(F).multiplyScalar(T).floor(),E=N;if(me.bindFramebuffer(36160,ae)&&Me.drawBuffers&&K&&me.drawBuffers(P,ae),me.viewport(S),me.scissor(M),me.setScissorTest(E),He){let je=_e.get(P.texture);D.framebufferTexture2D(36160,36064,34069+X,je.__webglTexture,te)}else if(ke){let je=_e.get(P.texture),lt=X||0;D.framebufferTextureLayer(36160,36064,je.__webglTexture,te||0,lt)}x=-1},this.readRenderTargetPixels=function(P,X,te,K,ae,He,ke){if(!(P&&P.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let qe=_e.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&ke!==void 0&&(qe=qe[ke]),qe){me.bindFramebuffer(36160,qe);try{let je=P.texture,lt=je.format,it=je.type;if(lt!==Mi&&ge.convert(lt)!==D.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let Qe=it===vf&&(de.has("EXT_color_buffer_half_float")||Me.isWebGL2&&de.has("EXT_color_buffer_float"));if(it!==nc&&ge.convert(it)!==D.getParameter(35738)&&!(it===ku&&(Me.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float")))&&!Qe){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}D.checkFramebufferStatus(36160)===36053?X>=0&&X<=P.width-K&&te>=0&&te<=P.height-ae&&D.readPixels(X,te,K,ae,ge.convert(lt),ge.convert(it),He):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{let je=b!==null?_e.get(b).__webglFramebuffer:null;me.bindFramebuffer(36160,je)}}},this.copyFramebufferToTexture=function(P,X,te=0){if(X.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}let K=Math.pow(2,-te),ae=Math.floor(X.image.width*K),He=Math.floor(X.image.height*K);q.setTexture2D(X,0),D.copyTexSubImage2D(3553,te,0,0,P.x,P.y,ae,He),me.unbindTexture()},this.copyTextureToTexture=function(P,X,te,K=0){let ae=X.image.width,He=X.image.height,ke=ge.convert(te.format),qe=ge.convert(te.type);q.setTexture2D(te,0),D.pixelStorei(37440,te.flipY),D.pixelStorei(37441,te.premultiplyAlpha),D.pixelStorei(3317,te.unpackAlignment),X.isDataTexture?D.texSubImage2D(3553,K,P.x,P.y,ae,He,ke,qe,X.image.data):X.isCompressedTexture?D.compressedTexSubImage2D(3553,K,P.x,P.y,X.mipmaps[0].width,X.mipmaps[0].height,ke,X.mipmaps[0].data):D.texSubImage2D(3553,K,P.x,P.y,ke,qe,X.image),K===0&&te.generateMipmaps&&D.generateMipmap(3553),me.unbindTexture()},this.copyTextureToTexture3D=function(P,X,te,K,ae=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let He=P.max.x-P.min.x+1,ke=P.max.y-P.min.y+1,qe=P.max.z-P.min.z+1,je=ge.convert(K.format),lt=ge.convert(K.type),it;if(K.isDataTexture3D)q.setTexture3D(K,0),it=32879;else if(K.isDataTexture2DArray)q.setTexture2DArray(K,0),it=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}D.pixelStorei(37440,K.flipY),D.pixelStorei(37441,K.premultiplyAlpha),D.pixelStorei(3317,K.unpackAlignment);let Qe=D.getParameter(3314),ut=D.getParameter(32878),_r=D.getParameter(3316),xi=D.getParameter(3315),rt=D.getParameter(32877),Rn=te.isCompressedTexture?te.mipmaps[0]:te.image;D.pixelStorei(3314,Rn.width),D.pixelStorei(32878,Rn.height),D.pixelStorei(3316,P.min.x),D.pixelStorei(3315,P.min.y),D.pixelStorei(32877,P.min.z),te.isDataTexture||te.isDataTexture3D?D.texSubImage3D(it,ae,X.x,X.y,X.z,He,ke,qe,je,lt,Rn.data):te.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),D.compressedTexSubImage3D(it,ae,X.x,X.y,X.z,He,ke,qe,je,Rn.data)):D.texSubImage3D(it,ae,X.x,X.y,X.z,He,ke,qe,je,lt,Rn),D.pixelStorei(3314,Qe),D.pixelStorei(32878,ut),D.pixelStorei(3316,_r),D.pixelStorei(3315,xi),D.pixelStorei(32877,rt),ae===0&&K.generateMipmaps&&D.generateMipmap(it),me.unbindTexture()},this.initTexture=function(P){q.setTexture2D(P,0),me.unbindTexture()},this.resetState=function(){m=0,h=0,b=null,me.reset(),fe.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Gt.prototype.isWebGLRenderer=!0;var xq=class extends Gt{};xq.prototype.isWebGL1Renderer=!0;var KT=class{constructor(e,t=25e-5){this.name="",this.color=new tt(e),this.density=t}clone(){return new KT(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}};KT.prototype.isFogExp2=!0;var QT=class{constructor(e,t=1,r=1e3){this.name="",this.color=new tt(e),this.near=t,this.far=r}clone(){return new QT(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}};QT.prototype.isFog=!0;var iv=class extends Wt{constructor(){super();this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};iv.prototype.isScene=!0;var $f=class{constructor(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=qy,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=No()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=No()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=No()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}};$f.prototype.isInterleavedBuffer=!0;var Jn=new Z,Xf=class{constructor(e,t,r,i=!1){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Jn.x=this.getX(t),Jn.y=this.getY(t),Jn.z=this.getZ(t),Jn.applyMatrix4(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Jn.x=this.getX(t),Jn.y=this.getY(t),Jn.z=this.getZ(t),Jn.applyNormalMatrix(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Jn.x=this.getX(t),Jn.y=this.getY(t),Jn.z=this.getZ(t),Jn.transformDirection(e),this.setXYZ(t,Jn.x,Jn.y,Jn.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,o){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return new En(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)t.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}};Xf.prototype.isInterleavedBufferAttribute=!0;var eS=class extends Cr{constructor(e){super();this.type="SpriteMaterial",this.color=new tt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}};eS.prototype.isSpriteMaterial=!0;var Yf,ov=new Z,Jf=new Z,Zf=new Z,Kf=new Ve,sv=new Ve,bq=new dt,tS=new Z,av=new Z,nS=new Z,_q=new Ve,$L=new Ve,wq=new Ve,Tq=class extends Wt{constructor(e){super();if(this.type="Sprite",Yf===void 0){Yf=new Tt;let t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new $f(t,5);Yf.setIndex([0,1,2,0,2,3]),Yf.setAttribute("position",new Xf(r,3,0,!1)),Yf.setAttribute("uv",new Xf(r,2,3,!1))}this.geometry=Yf,this.material=e!==void 0?e:new eS,this.center=new Ve(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Jf.setFromMatrixScale(this.matrixWorld),bq.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Zf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Jf.multiplyScalar(-Zf.z);let r=this.material.rotation,i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));let s=this.center;rS(tS.set(-.5,-.5,0),Zf,s,Jf,i,o),rS(av.set(.5,-.5,0),Zf,s,Jf,i,o),rS(nS.set(.5,.5,0),Zf,s,Jf,i,o),_q.set(0,0),$L.set(1,0),wq.set(1,1);let a=e.ray.intersectTriangle(tS,av,nS,!1,ov);if(a===null&&(rS(av.set(-.5,.5,0),Zf,s,Jf,i,o),$L.set(0,1),a=e.ray.intersectTriangle(tS,nS,av,!1,ov),a===null))return;let l=e.ray.origin.distanceTo(ov);l<e.near||l>e.far||t.push({distance:l,point:ov.clone(),uv:Yn.getUV(ov,tS,av,nS,_q,$L,wq,new Ve),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}};Tq.prototype.isSprite=!0;function rS(n,e,t,r,i,o){Kf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(sv.x=o*Kf.x-i*Kf.y,sv.y=i*Kf.x+o*Kf.y):sv.copy(Kf),n.copy(e),n.x+=sv.x,n.y+=sv.y,n.applyMatrix4(bq)}var elt=new Z,tlt=new Z;var Sq=new Z,Mq=new tn,Eq=new tn,Bxe=new Z,Pq=new dt,XL=class extends Lr{constructor(e,t){super(e,t);this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new dt,this.bindMatrixInverse=new dt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new tn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.x=t.getX(r),e.y=t.getY(r),e.z=t.getZ(r),e.w=t.getW(r);let o=1/e.manhattanLength();o!==Infinity?e.multiplyScalar(o):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){let r=this.skeleton,i=this.geometry;Mq.fromBufferAttribute(i.attributes.skinIndex,e),Eq.fromBufferAttribute(i.attributes.skinWeight,e),Sq.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let o=0;o<4;o++){let s=Eq.getComponent(o);if(s!==0){let a=Mq.getComponent(o);Pq.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(Bxe.copy(Sq).applyMatrix4(Pq),s)}}return t.applyMatrix4(this.bindMatrixInverse)}};XL.prototype.isSkinnedMesh=!0;var Rq=class extends Wt{constructor(){super();this.type="Bone"}};Rq.prototype.isBone=!0;var Cq=class extends yr{constructor(e=null,t=1,r=1,i,o,s,a,l,c=gr,u=gr,d,p){super(null,s,a,l,c,u,i,o,d,p);this.image={data:e,width:t,height:r},this.magFilter=c,this.minFilter=u,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};Cq.prototype.isDataTexture=!0;var nlt=new dt,rlt=new dt;var iS=class extends En{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};iS.prototype.isInstancedBufferAttribute=!0;var Aq=new dt,Lq=new dt,oS=[],lv=new Lr,Dq=class extends Lr{constructor(e,t,r){super(e,t);this.instanceMatrix=new iS(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){let r=this.matrixWorld,i=this.count;if(lv.geometry=this.geometry,lv.material=this.material,lv.material!==void 0)for(let o=0;o<i;o++){this.getMatrixAt(o,Aq),Lq.multiplyMatrices(r,Aq),lv.matrixWorld=Lq,lv.raycast(e,oS);for(let s=0,a=oS.length;s<a;s++){let l=oS[s];l.instanceId=o,l.object=this,t.push(l)}oS.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new iS(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}};Dq.prototype.isInstancedMesh=!0;var yc=class extends Cr{constructor(e){super();this.type="LineBasicMaterial",this.color=new tt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}};yc.prototype.isLineBasicMaterial=!0;var Nq=new Z,Iq=new Z,Oq=new dt,YL=new Wu,sS=new Hu,aS=class extends Wt{constructor(e=new Tt,t=new yc){super();this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,r=[0];for(let i=1,o=t.count;i<o;i++)Nq.fromBufferAttribute(t,i-1),Iq.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=Nq.distanceTo(Iq);e.setAttribute("lineDistance",new gt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),sS.copy(r.boundingSphere),sS.applyMatrix4(i),sS.radius+=o,e.ray.intersectsSphere(sS)===!1)return;Oq.copy(i).invert(),YL.copy(e.ray).applyMatrix4(Oq);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new Z,u=new Z,d=new Z,p=new Z,f=this.isLineSegments?2:1;if(r.isBufferGeometry){let g=r.index,v=r.attributes.position;if(g!==null){let m=Math.max(0,s.start),h=Math.min(g.count,s.start+s.count);for(let b=m,x=h-1;b<x;b+=f){let _=g.getX(b),S=g.getX(b+1);if(c.fromBufferAttribute(v,_),u.fromBufferAttribute(v,S),YL.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);let E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{let m=Math.max(0,s.start),h=Math.min(v.count,s.start+s.count);for(let b=m,x=h-1;b<x;b+=f){if(c.fromBufferAttribute(v,b),u.fromBufferAttribute(v,b+1),YL.distanceSqToSegment(c,u,p,d)>l)continue;p.applyMatrix4(this.matrixWorld);let S=e.ray.origin.distanceTo(p);S<e.near||S>e.far||t.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};aS.prototype.isLine=!0;var Fq=new Z,kq=new Z,cv=class extends aS{constructor(e,t){super(e,t);this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.isBufferGeometry)if(e.index===null){let t=e.attributes.position,r=[];for(let i=0,o=t.count;i<o;i+=2)Fq.fromBufferAttribute(t,i),kq.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+Fq.distanceTo(kq);e.setAttribute("lineDistance",new gt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}};cv.prototype.isLineSegments=!0;var Bq=class extends aS{constructor(e,t){super(e,t);this.type="LineLoop"}};Bq.prototype.isLineLoop=!0;var lS=class extends Cr{constructor(e){super();this.type="PointsMaterial",this.color=new tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}};lS.prototype.isPointsMaterial=!0;var zq=new dt,JL=new Wu,cS=new Hu,uS=new Z,Uq=class extends Wt{constructor(e=new Tt,t=new lS){super();this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){let r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),cS.copy(r.boundingSphere),cS.applyMatrix4(i),cS.radius+=o,e.ray.intersectsSphere(cS)===!1)return;zq.copy(i).invert(),JL.copy(e.ray).applyMatrix4(zq);let a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){let c=r.index,d=r.attributes.position;if(c!==null){let p=Math.max(0,s.start),f=Math.min(c.count,s.start+s.count);for(let g=p,y=f;g<y;g++){let v=c.getX(g);uS.fromBufferAttribute(d,v),Vq(uS,v,l,i,e,t,this)}}else{let p=Math.max(0,s.start),f=Math.min(d.count,s.start+s.count);for(let g=p,y=f;g<y;g++)uS.fromBufferAttribute(d,g),Vq(uS,g,l,i,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){let t=e.morphAttributes,r=Object.keys(t);if(r.length>0){let i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){let a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}else{let t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}};Uq.prototype.isPoints=!0;function Vq(n,e,t,r,i,o,s){let a=JL.distanceSqToPoint(n);if(a<t){let l=new Z;JL.closestPointToPoint(n,l),l.applyMatrix4(r);let c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}var Hq=class extends yr{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c);this.minFilter=s!==void 0?s:di,this.magFilter=o!==void 0?o:di,this.generateMipmaps=!1;let u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}};Hq.prototype.isVideoTexture=!0;var Wq=class extends yr{constructor(e,t,r){super({width:e,height:t});this.format=r,this.magFilter=gr,this.minFilter=gr,this.generateMipmaps=!1,this.needsUpdate=!0}};Wq.prototype.isFramebufferTexture=!0;var Gq=class extends yr{constructor(e,t,r,i,o,s,a,l,c,u,d,p){super(null,s,a,l,c,u,i,o,d,p);this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}};Gq.prototype.isCompressedTexture=!0;var jq=class extends yr{constructor(e,t,r,i,o,s,a,l,c){super(e,t,r,i,o,s,a,l,c);this.needsUpdate=!0}};jq.prototype.isCanvasTexture=!0;var uv=class extends Tt{constructor(e=1,t=8,r=0,i=Math.PI*2){super();this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);let o=[],s=[],a=[],l=[],c=new Z,u=new Ve;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){let f=r+d/t*i;c.x=e*Math.cos(f),c.y=e*Math.sin(f),s.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(s[p]/e+1)/2,u.y=(s[p+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new gt(s,3)),this.setAttribute("normal",new gt(a,3)),this.setAttribute("uv",new gt(l,2))}static fromJSON(e){return new uv(e.radius,e.segments,e.thetaStart,e.thetaLength)}},Qf=class extends Tt{constructor(e=1,t=1,r=1,i=8,o=1,s=!1,a=0,l=Math.PI*2){super();this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};let c=this;i=Math.floor(i),o=Math.floor(o);let u=[],d=[],p=[],f=[],g=0,y=[],v=r/2,m=0;h(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new gt(d,3)),this.setAttribute("normal",new gt(p,3)),this.setAttribute("uv",new gt(f,2));function h(){let x=new Z,_=new Z,S=0,M=(t-e)/r;for(let E=0;E<=o;E++){let L=[],I=E/o,T=I*(t-e)+e;for(let A=0;A<=i;A++){let k=A/i,U=k*l+a,F=Math.sin(U),N=Math.cos(U);_.x=T*F,_.y=-I*r+v,_.z=T*N,d.push(_.x,_.y,_.z),x.set(F,M,N).normalize(),p.push(x.x,x.y,x.z),f.push(k,1-I),L.push(g++)}y.push(L)}for(let E=0;E<i;E++)for(let L=0;L<o;L++){let I=y[L][E],T=y[L+1][E],A=y[L+1][E+1],k=y[L][E+1];u.push(I,T,k),u.push(T,A,k),S+=6}c.addGroup(m,S,0),m+=S}function b(x){let _=g,S=new Ve,M=new Z,E=0,L=x===!0?e:t,I=x===!0?1:-1;for(let A=1;A<=i;A++)d.push(0,v*I,0),p.push(0,I,0),f.push(.5,.5),g++;let T=g;for(let A=0;A<=i;A++){let U=A/i*l+a,F=Math.cos(U),N=Math.sin(U);M.x=L*N,M.y=v*I,M.z=L*F,d.push(M.x,M.y,M.z),p.push(0,I,0),S.x=F*.5+.5,S.y=N*.5*I+.5,f.push(S.x,S.y),g++}for(let A=0;A<i;A++){let k=_+A,U=T+A;x===!0?u.push(U,U+1,k):u.push(U+1,U,k),E+=3}c.addGroup(m,E,x===!0?1:2),m+=E}}static fromJSON(e){return new Qf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},dv=class extends Qf{constructor(e=1,t=1,r=8,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,t,r,i,o,s,a);this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new dv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Ea=class extends Tt{constructor(e=[],t=[],r=1,i=0){super();this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};let o=[],s=[];a(i),c(r),u(),this.setAttribute("position",new gt(o,3)),this.setAttribute("normal",new gt(o.slice(),3)),this.setAttribute("uv",new gt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(h){let b=new Z,x=new Z,_=new Z;for(let S=0;S<t.length;S+=3)f(t[S+0],b),f(t[S+1],x),f(t[S+2],_),l(b,x,_,h)}function l(h,b,x,_){let S=_+1,M=[];for(let E=0;E<=S;E++){M[E]=[];let L=h.clone().lerp(x,E/S),I=b.clone().lerp(x,E/S),T=S-E;for(let A=0;A<=T;A++)A===0&&E===S?M[E][A]=L:M[E][A]=L.clone().lerp(I,A/T)}for(let E=0;E<S;E++)for(let L=0;L<2*(S-E)-1;L++){let I=Math.floor(L/2);L%2==0?(p(M[E][I+1]),p(M[E+1][I]),p(M[E][I])):(p(M[E][I+1]),p(M[E+1][I+1]),p(M[E+1][I]))}}function c(h){let b=new Z;for(let x=0;x<o.length;x+=3)b.x=o[x+0],b.y=o[x+1],b.z=o[x+2],b.normalize().multiplyScalar(h),o[x+0]=b.x,o[x+1]=b.y,o[x+2]=b.z}function u(){let h=new Z;for(let b=0;b<o.length;b+=3){h.x=o[b+0],h.y=o[b+1],h.z=o[b+2];let x=v(h)/2/Math.PI+.5,_=m(h)/Math.PI+.5;s.push(x,1-_)}g(),d()}function d(){for(let h=0;h<s.length;h+=6){let b=s[h+0],x=s[h+2],_=s[h+4],S=Math.max(b,x,_),M=Math.min(b,x,_);S>.9&&M<.1&&(b<.2&&(s[h+0]+=1),x<.2&&(s[h+2]+=1),_<.2&&(s[h+4]+=1))}}function p(h){o.push(h.x,h.y,h.z)}function f(h,b){let x=h*3;b.x=e[x+0],b.y=e[x+1],b.z=e[x+2]}function g(){let h=new Z,b=new Z,x=new Z,_=new Z,S=new Ve,M=new Ve,E=new Ve;for(let L=0,I=0;L<o.length;L+=9,I+=6){h.set(o[L+0],o[L+1],o[L+2]),b.set(o[L+3],o[L+4],o[L+5]),x.set(o[L+6],o[L+7],o[L+8]),S.set(s[I+0],s[I+1]),M.set(s[I+2],s[I+3]),E.set(s[I+4],s[I+5]),_.copy(h).add(b).add(x).divideScalar(3);let T=v(_);y(S,I+0,h,T),y(M,I+2,b,T),y(E,I+4,x,T)}}function y(h,b,x,_){_<0&&h.x===1&&(s[b]=h.x-1),x.x===0&&x.z===0&&(s[b]=_/2/Math.PI+.5)}function v(h){return Math.atan2(h.z,-h.x)}function m(h){return Math.atan2(-h.y,Math.sqrt(h.x*h.x+h.z*h.z))}}static fromJSON(e){return new Ea(e.vertices,e.indices,e.radius,e.details)}},pv=class extends Ea{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,t);this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pv(e.radius,e.detail)}},dS=new Z,pS=new Z,ZL=new Z,fS=new Yn,qq=class extends Tt{constructor(e=null,t=1){super();if(this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){let i=Math.pow(10,4),o=Math.cos(Sf*t),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),p={},f=[];for(let g=0;g<l;g+=3){s?(c[0]=s.getX(g),c[1]=s.getX(g+1),c[2]=s.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);let{a:y,b:v,c:m}=fS;if(y.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),m.fromBufferAttribute(a,c[2]),fS.getNormal(ZL),d[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let h=0;h<3;h++){let b=(h+1)%3,x=d[h],_=d[b],S=fS[u[h]],M=fS[u[b]],E=`${x}_${_}`,L=`${_}_${x}`;L in p&&p[L]?(ZL.dot(p[L].normal)<=o&&(f.push(S.x,S.y,S.z),f.push(M.x,M.y,M.z)),p[L]=null):E in p||(p[E]={index0:c[h],index1:c[b],normal:ZL.clone()})}}for(let g in p)if(p[g]){let{index0:y,index1:v}=p[g];dS.fromBufferAttribute(a,y),pS.fromBufferAttribute(a,v),f.push(dS.x,dS.y,dS.z),f.push(pS.x,pS.y,pS.z)}this.setAttribute("position",new gt(f,3))}}},co=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,i=this.getPoint(0),o=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),t.push(o),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let r=this.getLengths(),i=0,o=r.length,s;t?s=t:s=e*r[o-1];let a=0,l=o-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-s,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);let u=r[i],p=r[i+1]-u,f=(s-u)/p;return(i+f)/(o-1)}getTangent(e,t){let r=1e-4,i=e-r,o=e+r;i<0&&(i=0),o>1&&(o=1);let s=this.getPoint(i),a=this.getPoint(o),l=t||(s.isVector2?new Ve:new Z);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){let r=new Z,i=[],o=[],s=[],a=new Z,l=new dt;for(let f=0;f<=e;f++){let g=f/e;i[f]=this.getTangentAt(g,new Z)}o[0]=new Z,s[0]=new Z;let c=Number.MAX_VALUE,u=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let f=1;f<=e;f++){if(o[f]=o[f-1].clone(),s[f]=s[f-1].clone(),a.crossVectors(i[f-1],i[f]),a.length()>Number.EPSILON){a.normalize();let g=Math.acos(pi(i[f-1].dot(i[f]),-1,1));o[f].applyMatrix4(l.makeRotationAxis(a,g))}s[f].crossVectors(i[f],o[f])}if(t===!0){let f=Math.acos(pi(o[0].dot(o[e]),-1,1));f/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(f=-f);for(let g=1;g<=e;g++)o[g].applyMatrix4(l.makeRotationAxis(i[g],f*g)),s[g].crossVectors(i[g],o[g])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},fv=class extends co{constructor(e=0,t=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super();this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,t){let r=t||new Ve,i=Math.PI*2,o=this.aEndAngle-this.aStartAngle,s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);let a=this.aStartAngle+e*o,l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){let u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,f=c-this.aY;l=p*u-f*d+this.aX,c=p*d+f*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}};fv.prototype.isEllipseCurve=!0;var KL=class extends fv{constructor(e,t,r,i,o,s){super(e,t,r,r,i,o,s);this.type="ArcCurve"}};KL.prototype.isArcCurve=!0;function QL(){let n=0,e=0,t=0,r=0;function i(o,s,a,l){n=o,e=a,t=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,u,d){let p=(s-o)/c-(a-o)/(c+u)+(a-s)/u,f=(a-s)/u-(l-s)/(u+d)+(l-a)/d;p*=u,f*=u,i(s,a,p,f)},calc:function(o){let s=o*o,a=s*o;return n+e*o+t*s+r*a}}}var hS=new Z,eD=new QL,tD=new QL,nD=new QL,rD=class extends co{constructor(e=[],t=!1,r="centripetal",i=.5){super();this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Z){let r=t,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e,a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%o]:(hS.subVectors(i[0],i[1]).add(i[0]),c=hS);let d=i[a%o],p=i[(a+1)%o];if(this.closed||a+2<o?u=i[(a+2)%o]:(hS.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=hS),this.curveType==="centripetal"||this.curveType==="chordal"){let f=this.curveType==="chordal"?.5:.25,g=Math.pow(c.distanceToSquared(d),f),y=Math.pow(d.distanceToSquared(p),f),v=Math.pow(p.distanceToSquared(u),f);y<1e-4&&(y=1),g<1e-4&&(g=y),v<1e-4&&(v=y),eD.initNonuniformCatmullRom(c.x,d.x,p.x,u.x,g,y,v),tD.initNonuniformCatmullRom(c.y,d.y,p.y,u.y,g,y,v),nD.initNonuniformCatmullRom(c.z,d.z,p.z,u.z,g,y,v)}else this.curveType==="catmullrom"&&(eD.initCatmullRom(c.x,d.x,p.x,u.x,this.tension),tD.initCatmullRom(c.y,d.y,p.y,u.y,this.tension),nD.initCatmullRom(c.z,d.z,p.z,u.z,this.tension));return r.set(eD.calc(l),tD.calc(l),nD.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new Z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};rD.prototype.isCatmullRomCurve3=!0;function $q(n,e,t,r,i){let o=(r-e)*.5,s=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+o+s)*l+(-3*t+3*r-2*o-s)*a+o*n+t}function zxe(n,e){let t=1-n;return t*t*e}function Uxe(n,e){return 2*(1-n)*n*e}function Vxe(n,e){return n*n*e}function hv(n,e,t,r){return zxe(n,e)+Uxe(n,t)+Vxe(n,r)}function Hxe(n,e){let t=1-n;return t*t*t*e}function Wxe(n,e){let t=1-n;return 3*t*t*n*e}function Gxe(n,e){return 3*(1-n)*n*n*e}function jxe(n,e){return n*n*n*e}function mv(n,e,t,r,i){return Hxe(n,e)+Wxe(n,t)+Gxe(n,r)+jxe(n,i)}var mS=class extends co{constructor(e=new Ve,t=new Ve,r=new Ve,i=new Ve){super();this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ve){let r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(mv(e,i.x,o.x,s.x,a.x),mv(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};mS.prototype.isCubicBezierCurve=!0;var iD=class extends co{constructor(e=new Z,t=new Z,r=new Z,i=new Z){super();this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Z){let r=t,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(mv(e,i.x,o.x,s.x,a.x),mv(e,i.y,o.y,s.y,a.y),mv(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}};iD.prototype.isCubicBezierCurve3=!0;var gv=class extends co{constructor(e=new Ve,t=new Ve){super();this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ve){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let r=t||new Ve;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};gv.prototype.isLineCurve=!0;var Xq=class extends co{constructor(e=new Z,t=new Z){super();this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Z){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},gS=class extends co{constructor(e=new Ve,t=new Ve,r=new Ve){super();this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ve){let r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(hv(e,i.x,o.x,s.x),hv(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};gS.prototype.isQuadraticBezierCurve=!0;var yS=class extends co{constructor(e=new Z,t=new Z,r=new Z){super();this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Z){let r=t,i=this.v0,o=this.v1,s=this.v2;return r.set(hv(e,i.x,o.x,s.x),hv(e,i.y,o.y,s.y),hv(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}};yS.prototype.isQuadraticBezierCurve3=!0;var vS=class extends co{constructor(e=[]){super();this.type="SplineCurve",this.points=e}getPoint(e,t=new Ve){let r=t,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set($q(a,l.x,c.x,u.x,d.x),$q(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let i=e.points[t];this.points.push(new Ve().fromArray(i))}return this}};vS.prototype.isSplineCurve=!0;var oD=Object.freeze({__proto__:null,ArcCurve:KL,CatmullRomCurve3:rD,CubicBezierCurve:mS,CubicBezierCurve3:iD,EllipseCurve:fv,LineCurve:gv,LineCurve3:Xq,QuadraticBezierCurve:gS,QuadraticBezierCurve3:yS,SplineCurve:vS}),Yq=class extends co{constructor(){super();this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new gv(t,e))}getPoint(e,t){let r=e*this.getLength(),i=this.getCurveLengths(),o=0;for(;o<i.length;){if(i[o]>=r){let s=i[o]-r,a=this.curves[o],l=a.getLength(),c=l===0?0:1-s/l;return a.getPointAt(c,t)}o++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],r;for(let i=0,o=this.curves;i<o.length;i++){let s=o[i],a=s&&s.isEllipseCurve?e*2:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let c=0;c<l.length;c++){let u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let i=e.curves[t];this.curves.push(new oD[i.type]().fromJSON(i))}return this}},xS=class extends Yq{constructor(e){super();this.type="Path",this.currentPoint=new Ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new gv(this.currentPoint.clone(),new Ve(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){let o=new gS(this.currentPoint.clone(),new Ve(e,t),new Ve(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,o,s){let a=new mS(this.currentPoint.clone(),new Ve(e,t),new Ve(r,i),new Ve(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),r=new vS(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,o,s){let a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,o,s),this}absarc(e,t,r,i,o,s){return this.absellipse(e,t,r,r,i,o,s),this}ellipse(e,t,r,i,o,s,a,l){let c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,o,s,a,l),this}absellipse(e,t,r,i,o,s,a,l){let c=new fv(e,t,r,i,o,s,a,l);if(this.curves.length>0){let d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);let u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},vc=class extends xS{constructor(e){super(e);this.uuid=No(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let i=e.holes[t];this.holes.push(new xS().fromJSON(i))}return this}},qxe={triangulate:function(n,e,t=2){let r=e&&e.length,i=r?e[0]*t:n.length,o=Jq(n,0,i,t,!0),s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,d,p,f;if(r&&(o=Zxe(n,e,o,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)d=n[g],p=n[g+1],d<a&&(a=d),p<l&&(l=p),d>c&&(c=d),p>u&&(u=p);f=Math.max(c-a,u-l),f=f!==0?1/f:0}return yv(o,s,t,a,l,f),s}};function Jq(n,e,t,r,i){let o,s;if(i===lbe(n,e,t,r)>0)for(o=e;o<t;o+=r)s=Qq(o,n[o],n[o+1],s);else for(o=t-r;o>=e;o-=r)s=Qq(o,n[o],n[o+1],s);return s&&bS(s,s.next)&&(xv(s),s=s.next),s}function xc(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(bS(t,t.next)||Nn(t.prev,t,t.next)===0)){if(xv(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function yv(n,e,t,r,i,o,s){if(!n)return;!s&&o&&nbe(n,r,i,o);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,o?Xxe(n,r,i,o):$xe(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),xv(n),n=c.next,a=c.next;continue}if(n=c,n===a){s?s===1?(n=Yxe(xc(n),e,t),yv(n,e,t,r,i,o,2)):s===2&&Jxe(n,e,t,r,i,o):yv(xc(n),e,t,r,i,o,1);break}}}function $xe(n){let e=n.prev,t=n,r=n.next;if(Nn(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(eh(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Nn(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Xxe(n,e,t,r){let i=n.prev,o=n,s=n.next;if(Nn(i,o,s)>=0)return!1;let a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,l=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,c=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,u=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,d=sD(a,l,e,t,r),p=sD(c,u,e,t,r),f=n.prevZ,g=n.nextZ;for(;f&&f.z>=d&&g&&g.z<=p;){if(f!==n.prev&&f!==n.next&&eh(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Nn(f.prev,f,f.next)>=0||(f=f.prevZ,g!==n.prev&&g!==n.next&&eh(i.x,i.y,o.x,o.y,s.x,s.y,g.x,g.y)&&Nn(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;f&&f.z>=d;){if(f!==n.prev&&f!==n.next&&eh(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Nn(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;g&&g.z<=p;){if(g!==n.prev&&g!==n.next&&eh(i.x,i.y,o.x,o.y,s.x,s.y,g.x,g.y)&&Nn(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function Yxe(n,e,t){let r=n;do{let i=r.prev,o=r.next.next;!bS(i,o)&&Zq(i,r,r.next,o)&&vv(i,o)&&vv(o,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(o.i/t),xv(r),xv(r.next),r=n=o),r=r.next}while(r!==n);return xc(r)}function Jxe(n,e,t,r,i,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&obe(s,a)){let l=Kq(s,a);s=xc(s,s.next),l=xc(l,l.next),yv(s,e,t,r,i,o),yv(l,e,t,r,i,o);return}a=a.next}s=s.next}while(s!==n)}function Zxe(n,e,t,r){let i=[],o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:n.length,c=Jq(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(ibe(c));for(i.sort(Kxe),o=0;o<i.length;o++)Qxe(i[o],t),t=xc(t,t.next);return t}function Kxe(n,e){return n.x-e.x}function Qxe(n,e){if(e=ebe(n,e),e){let t=Kq(e,n);xc(e,e.next),xc(t,t.next)}}function ebe(n,e){let t=e,r=n.x,i=n.y,o=-Infinity,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){let p=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=r&&p>o){if(o=p,p===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===o)return s;let a=s,l=s.x,c=s.y,u=Infinity,d;t=s;do r>=t.x&&t.x>=l&&r!==t.x&&eh(i<c?r:o,i,l,c,i<c?o:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),vv(t,n)&&(d<u||d===u&&(t.x>s.x||t.x===s.x&&tbe(s,t)))&&(s=t,u=d)),t=t.next;while(t!==a);return s}function tbe(n,e){return Nn(n.prev,n,e.prev)<0&&Nn(e.next,n,n.next)<0}function nbe(n,e,t,r){let i=n;do i.z===null&&(i.z=sD(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,rbe(i)}function rbe(n){let e,t,r,i,o,s,a,l,c=1;do{for(t=n,n=null,o=null,s=0;t;){for(s++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:n=i,i.prevZ=o,o=i;t=r}o.nextZ=null,c*=2}while(s>1);return n}function sD(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function ibe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function eh(n,e,t,r,i,o,s,a){return(i-s)*(e-a)-(n-s)*(o-a)>=0&&(n-s)*(r-a)-(t-s)*(e-a)>=0&&(t-s)*(o-a)-(i-s)*(r-a)>=0}function obe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!sbe(n,e)&&(vv(n,e)&&vv(e,n)&&abe(n,e)&&(Nn(n.prev,n,e.prev)||Nn(n,e.prev,e))||bS(n,e)&&Nn(n.prev,n,n.next)>0&&Nn(e.prev,e,e.next)>0)}function Nn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function bS(n,e){return n.x===e.x&&n.y===e.y}function Zq(n,e,t,r){let i=wS(Nn(n,e,t)),o=wS(Nn(n,e,r)),s=wS(Nn(t,r,n)),a=wS(Nn(t,r,e));return!!(i!==o&&s!==a||i===0&&_S(n,t,e)||o===0&&_S(n,r,e)||s===0&&_S(t,n,r)||a===0&&_S(t,e,r))}function _S(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function wS(n){return n>0?1:n<0?-1:0}function sbe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Zq(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function vv(n,e){return Nn(n.prev,n,n.next)<0?Nn(n,e,n.next)>=0&&Nn(n,n.prev,e)>=0:Nn(n,e,n.prev)<0||Nn(n,n.next,e)<0}function abe(n,e){let t=n,r=!1,i=(n.x+e.x)/2,o=(n.y+e.y)/2;do t.y>o!=t.next.y>o&&t.next.y!==t.y&&i<(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Kq(n,e){let t=new aD(n.i,n.x,n.y),r=new aD(e.i,e.x,e.y),i=n.next,o=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,o.next=r,r.prev=o,r}function Qq(n,e,t,r){let i=new aD(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function xv(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function aD(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lbe(n,e,t,r){let i=0;for(let o=e,s=t-r;o<t;o+=r)i+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return i}var Pa=class{static area(e){let t=e.length,r=0;for(let i=t-1,o=0;o<t;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Pa.area(e)<0}static triangulateShape(e,t){let r=[],i=[],o=[];e9(e),t9(r,e);let s=e.length;t.forEach(e9);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,t9(r,t[l]);let a=qxe.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}};function e9(n){let e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function t9(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}var Ra=class extends Tt{constructor(e=new vc([new Ve(.5,.5),new Ve(-.5,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),t={}){super();this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];let r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){let c=e[a];s(c)}this.setAttribute("position",new gt(i,3)),this.setAttribute("uv",new gt(o,2)),this.computeVertexNormals();function s(a){let l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1,p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,f=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:f-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3,m=t.extrudePath,h=t.UVGenerator!==void 0?t.UVGenerator:cbe;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=t.amount);let b,x=!1,_,S,M,E;m&&(b=m.getSpacedPoints(u),x=!0,p=!1,_=m.computeFrenetFrames(u,!1),S=new Z,M=new Z,E=new Z),p||(v=0,f=0,g=0,y=0);let L=a.extractPoints(c),I=L.shape,T=L.holes;if(!Pa.isClockWise(I)){I=I.reverse();for(let q=0,ce=T.length;q<ce;q++){let se=T[q];Pa.isClockWise(se)&&(T[q]=se.reverse())}}let k=Pa.triangulateShape(I,T),U=I;for(let q=0,ce=T.length;q<ce;q++){let se=T[q];I=I.concat(se)}function F(q,ce,se){return ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().multiplyScalar(se).add(q)}let N=I.length,j=k.length;function Y(q,ce,se){let Se,be,Ce,Le=q.x-ce.x,Ne=q.y-ce.y,Ge=se.x-q.x,Ue=se.y-q.y,C=Le*Le+Ne*Ne,w=Le*Ue-Ne*Ge;if(Math.abs(w)>Number.EPSILON){let H=Math.sqrt(C),ee=Math.sqrt(Ge*Ge+Ue*Ue),ue=ce.x-Ne/H,G=ce.y+Le/H,ge=se.x-Ue/ee,fe=se.y+Ge/ee,le=((ge-ue)*Ue-(fe-G)*Ge)/(Le*Ue-Ne*Ge);Se=ue+Le*le-q.x,be=G+Ne*le-q.y;let ve=Se*Se+be*be;if(ve<=2)return new Ve(Se,be);Ce=Math.sqrt(ve/2)}else{let H=!1;Le>Number.EPSILON?Ge>Number.EPSILON&&(H=!0):Le<-Number.EPSILON?Ge<-Number.EPSILON&&(H=!0):Math.sign(Ne)===Math.sign(Ue)&&(H=!0),H?(Se=-Ne,be=Le,Ce=Math.sqrt(C)):(Se=Le,be=Ne,Ce=Math.sqrt(C/2))}return new Ve(Se/Ce,be/Ce)}let pe=[];for(let q=0,ce=U.length,se=ce-1,Se=q+1;q<ce;q++,se++,Se++)se===ce&&(se=0),Se===ce&&(Se=0),pe[q]=Y(U[q],U[se],U[Se]);let $=[],W,J=pe.concat();for(let q=0,ce=T.length;q<ce;q++){let se=T[q];W=[];for(let Se=0,be=se.length,Ce=be-1,Le=Se+1;Se<be;Se++,Ce++,Le++)Ce===be&&(Ce=0),Le===be&&(Le=0),W[Se]=Y(se[Se],se[Ce],se[Le]);$.push(W),J=J.concat(W)}for(let q=0;q<v;q++){let ce=q/v,se=f*Math.cos(ce*Math.PI/2),Se=g*Math.sin(ce*Math.PI/2)+y;for(let be=0,Ce=U.length;be<Ce;be++){let Le=F(U[be],pe[be],Se);de(Le.x,Le.y,-se)}for(let be=0,Ce=T.length;be<Ce;be++){let Le=T[be];W=$[be];for(let Ne=0,Ge=Le.length;Ne<Ge;Ne++){let Ue=F(Le[Ne],W[Ne],Se);de(Ue.x,Ue.y,-se)}}}let oe=g+y;for(let q=0;q<N;q++){let ce=p?F(I[q],J[q],oe):I[q];x?(M.copy(_.normals[0]).multiplyScalar(ce.x),S.copy(_.binormals[0]).multiplyScalar(ce.y),E.copy(b[0]).add(M).add(S),de(E.x,E.y,E.z)):de(ce.x,ce.y,0)}for(let q=1;q<=u;q++)for(let ce=0;ce<N;ce++){let se=p?F(I[ce],J[ce],oe):I[ce];x?(M.copy(_.normals[q]).multiplyScalar(se.x),S.copy(_.binormals[q]).multiplyScalar(se.y),E.copy(b[q]).add(M).add(S),de(E.x,E.y,E.z)):de(se.x,se.y,d/u*q)}for(let q=v-1;q>=0;q--){let ce=q/v,se=f*Math.cos(ce*Math.PI/2),Se=g*Math.sin(ce*Math.PI/2)+y;for(let be=0,Ce=U.length;be<Ce;be++){let Le=F(U[be],pe[be],Se);de(Le.x,Le.y,d+se)}for(let be=0,Ce=T.length;be<Ce;be++){let Le=T[be];W=$[be];for(let Ne=0,Ge=Le.length;Ne<Ge;Ne++){let Ue=F(Le[Ne],W[Ne],Se);x?de(Ue.x,Ue.y+b[u-1].y,b[u-1].x+se):de(Ue.x,Ue.y,d+se)}}}re(),D();function re(){let q=i.length/3;if(p){let ce=0,se=N*ce;for(let Se=0;Se<j;Se++){let be=k[Se];Me(be[2]+se,be[1]+se,be[0]+se)}ce=u+v*2,se=N*ce;for(let Se=0;Se<j;Se++){let be=k[Se];Me(be[0]+se,be[1]+se,be[2]+se)}}else{for(let ce=0;ce<j;ce++){let se=k[ce];Me(se[2],se[1],se[0])}for(let ce=0;ce<j;ce++){let se=k[ce];Me(se[0]+N*u,se[1]+N*u,se[2]+N*u)}}r.addGroup(q,i.length/3-q,0)}function D(){let q=i.length/3,ce=0;Te(U,ce),ce+=U.length;for(let se=0,Se=T.length;se<Se;se++){let be=T[se];Te(be,ce),ce+=be.length}r.addGroup(q,i.length/3-q,1)}function Te(q,ce){let se=q.length;for(;--se>=0;){let Se=se,be=se-1;be<0&&(be=q.length-1);for(let Ce=0,Le=u+v*2;Ce<Le;Ce++){let Ne=N*Ce,Ge=N*(Ce+1),Ue=ce+Se+Ne,C=ce+be+Ne,w=ce+be+Ge,H=ce+Se+Ge;me(Ue,C,w,H)}}}function de(q,ce,se){l.push(q),l.push(ce),l.push(se)}function Me(q,ce,se){Pe(q),Pe(ce),Pe(se);let Se=i.length/3,be=h.generateTopUV(r,i,Se-3,Se-2,Se-1);_e(be[0]),_e(be[1]),_e(be[2])}function me(q,ce,se,Se){Pe(q),Pe(ce),Pe(Se),Pe(ce),Pe(se),Pe(Se);let be=i.length/3,Ce=h.generateSideWallUV(r,i,be-6,be-3,be-2,be-1);_e(Ce[0]),_e(Ce[1]),_e(Ce[3]),_e(Ce[1]),_e(Ce[2]),_e(Ce[3])}function Pe(q){i.push(l[q*3+0]),i.push(l[q*3+1]),i.push(l[q*3+2])}function _e(q){o.push(q.x),o.push(q.y)}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return ube(t,r,e)}static fromJSON(e,t){let r=[];for(let o=0,s=e.shapes.length;o<s;o++){let a=t[e.shapes[o]];r.push(a)}let i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new oD[i.type]().fromJSON(i)),new Ra(r,e.options)}},cbe={generateTopUV:function(n,e,t,r,i){let o=e[t*3],s=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Ve(o,s),new Ve(a,l),new Ve(c,u)]},generateSideWallUV:function(n,e,t,r,i,o){let s=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],p=e[i*3],f=e[i*3+1],g=e[i*3+2],y=e[o*3],v=e[o*3+1],m=e[o*3+2];return Math.abs(a-u)<Math.abs(s-c)?[new Ve(s,1-l),new Ve(c,1-d),new Ve(p,1-g),new Ve(y,1-m)]:[new Ve(a,1-l),new Ve(u,1-d),new Ve(f,1-g),new Ve(v,1-m)]}};function ube(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){let o=n[r];t.shapes.push(o.uuid)}else t.shapes.push(n.uuid);return e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}var bv=class extends Ea{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,t);this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bv(e.radius,e.detail)}},_v=class extends Tt{constructor(e=[new Ve(0,.5),new Ve(.5,0),new Ve(0,-.5)],t=12,r=0,i=Math.PI*2){super();this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=pi(i,0,Math.PI*2);let o=[],s=[],a=[],l=[],c=[],u=1/t,d=new Z,p=new Ve,f=new Z,g=new Z,y=new Z,v=0,m=0;for(let h=0;h<=e.length-1;h++)switch(h){case 0:v=e[h+1].x-e[h].x,m=e[h+1].y-e[h].y,f.x=m*1,f.y=-v,f.z=m*0,y.copy(f),f.normalize(),l.push(f.x,f.y,f.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:v=e[h+1].x-e[h].x,m=e[h+1].y-e[h].y,f.x=m*1,f.y=-v,f.z=m*0,g.copy(f),f.x+=y.x,f.y+=y.y,f.z+=y.z,f.normalize(),l.push(f.x,f.y,f.z),y.copy(g)}for(let h=0;h<=t;h++){let b=r+h*u*i,x=Math.sin(b),_=Math.cos(b);for(let S=0;S<=e.length-1;S++){d.x=e[S].x*x,d.y=e[S].y,d.z=e[S].x*_,s.push(d.x,d.y,d.z),p.x=h/t,p.y=S/(e.length-1),a.push(p.x,p.y);let M=l[3*S+0]*x,E=l[3*S+1],L=l[3*S+0]*_;c.push(M,E,L)}}for(let h=0;h<t;h++)for(let b=0;b<e.length-1;b++){let x=b+h*e.length,_=x,S=x+e.length,M=x+e.length+1,E=x+1;o.push(_,S,E),o.push(M,E,S)}this.setIndex(o),this.setAttribute("position",new gt(s,3)),this.setAttribute("uv",new gt(a,2)),this.setAttribute("normal",new gt(c,3))}static fromJSON(e){return new _v(e.points,e.segments,e.phiStart,e.phiLength)}},wv=class extends Ea{constructor(e=1,t=0){let r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t);this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wv(e.radius,e.detail)}},Tv=class extends Tt{constructor(e=.5,t=1,r=8,i=1,o=0,s=Math.PI*2){super();this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);let a=[],l=[],c=[],u=[],d=e,p=(t-e)/i,f=new Z,g=new Ve;for(let y=0;y<=i;y++){for(let v=0;v<=r;v++){let m=o+v/r*s;f.x=d*Math.cos(m),f.y=d*Math.sin(m),l.push(f.x,f.y,f.z),c.push(0,0,1),g.x=(f.x/t+1)/2,g.y=(f.y/t+1)/2,u.push(g.x,g.y)}d+=p}for(let y=0;y<i;y++){let v=y*(r+1);for(let m=0;m<r;m++){let h=m+v,b=h,x=h+r+1,_=h+r+2,S=h+1;a.push(b,x,S),a.push(x,_,S)}}this.setIndex(a),this.setAttribute("position",new gt(l,3)),this.setAttribute("normal",new gt(c,3)),this.setAttribute("uv",new gt(u,2))}static fromJSON(e){return new Tv(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}},bc=class extends Tt{constructor(e=new vc([new Ve(0,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),t=12){super();this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};let r=[],i=[],o=[],s=[],a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new gt(i,3)),this.setAttribute("normal",new gt(o,3)),this.setAttribute("uv",new gt(s,2));function c(u){let d=i.length/3,p=u.extractPoints(t),f=p.shape,g=p.holes;Pa.isClockWise(f)===!1&&(f=f.reverse());for(let v=0,m=g.length;v<m;v++){let h=g[v];Pa.isClockWise(h)===!0&&(g[v]=h.reverse())}let y=Pa.triangulateShape(f,g);for(let v=0,m=g.length;v<m;v++){let h=g[v];f=f.concat(h)}for(let v=0,m=f.length;v<m;v++){let h=f[v];i.push(h.x,h.y,0),o.push(0,0,1),s.push(h.x,h.y)}for(let v=0,m=y.length;v<m;v++){let h=y[v],b=h[0]+d,x=h[1]+d,_=h[2]+d;r.push(b,x,_),l+=3}}}toJSON(){let e=super.toJSON(),t=this.parameters.shapes;return dbe(t,e)}static fromJSON(e,t){let r=[];for(let i=0,o=e.shapes.length;i<o;i++){let s=t[e.shapes[i]];r.push(s)}return new bc(r,e.curveSegments)}};function dbe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){let i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}var Sv=class extends Tt{constructor(e=1,t=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super();this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));let l=Math.min(s+a,Math.PI),c=0,u=[],d=new Z,p=new Z,f=[],g=[],y=[],v=[];for(let m=0;m<=r;m++){let h=[],b=m/r,x=0;m==0&&s==0?x=.5/t:m==r&&l==Math.PI&&(x=-.5/t);for(let _=0;_<=t;_++){let S=_/t;d.x=-e*Math.cos(i+S*o)*Math.sin(s+b*a),d.y=e*Math.cos(s+b*a),d.z=e*Math.sin(i+S*o)*Math.sin(s+b*a),g.push(d.x,d.y,d.z),p.copy(d).normalize(),y.push(p.x,p.y,p.z),v.push(S+x,1-b),h.push(c++)}u.push(h)}for(let m=0;m<r;m++)for(let h=0;h<t;h++){let b=u[m][h+1],x=u[m][h],_=u[m+1][h],S=u[m+1][h+1];(m!==0||s>0)&&f.push(b,x,S),(m!==r-1||l<Math.PI)&&f.push(x,_,S)}this.setIndex(f),this.setAttribute("position",new gt(g,3)),this.setAttribute("normal",new gt(y,3)),this.setAttribute("uv",new gt(v,2))}static fromJSON(e){return new Sv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},Mv=class extends Ea{constructor(e=1,t=0){let r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t);this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Mv(e.radius,e.detail)}},Ev=class extends Tt{constructor(e=1,t=.4,r=8,i=6,o=Math.PI*2){super();this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);let s=[],a=[],l=[],c=[],u=new Z,d=new Z,p=new Z;for(let f=0;f<=r;f++)for(let g=0;g<=i;g++){let y=g/i*o,v=f/r*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(y),d.y=(e+t*Math.cos(v))*Math.sin(y),d.z=t*Math.sin(v),a.push(d.x,d.y,d.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),c.push(g/i),c.push(f/r)}for(let f=1;f<=r;f++)for(let g=1;g<=i;g++){let y=(i+1)*f+g-1,v=(i+1)*(f-1)+g-1,m=(i+1)*(f-1)+g,h=(i+1)*f+g;s.push(y,v,h),s.push(v,m,h)}this.setIndex(s),this.setAttribute("position",new gt(a,3)),this.setAttribute("normal",new gt(l,3)),this.setAttribute("uv",new gt(c,2))}static fromJSON(e){return new Ev(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}},Pv=class extends Tt{constructor(e=1,t=.4,r=64,i=8,o=2,s=3){super();this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);let a=[],l=[],c=[],u=[],d=new Z,p=new Z,f=new Z,g=new Z,y=new Z,v=new Z,m=new Z;for(let b=0;b<=r;++b){let x=b/r*o*Math.PI*2;h(x,o,s,e,f),h(x+.01,o,s,e,g),v.subVectors(g,f),m.addVectors(g,f),y.crossVectors(v,m),m.crossVectors(y,v),y.normalize(),m.normalize();for(let _=0;_<=i;++_){let S=_/i*Math.PI*2,M=-t*Math.cos(S),E=t*Math.sin(S);d.x=f.x+(M*m.x+E*y.x),d.y=f.y+(M*m.y+E*y.y),d.z=f.z+(M*m.z+E*y.z),l.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),c.push(p.x,p.y,p.z),u.push(b/r),u.push(_/i)}}for(let b=1;b<=r;b++)for(let x=1;x<=i;x++){let _=(i+1)*(b-1)+(x-1),S=(i+1)*b+(x-1),M=(i+1)*b+x,E=(i+1)*(b-1)+x;a.push(_,S,E),a.push(S,M,E)}this.setIndex(a),this.setAttribute("position",new gt(l,3)),this.setAttribute("normal",new gt(c,3)),this.setAttribute("uv",new gt(u,2));function h(b,x,_,S,M){let E=Math.cos(b),L=Math.sin(b),I=_/x*b,T=Math.cos(I);M.x=S*(2+T)*.5*E,M.y=S*(2+T)*L*.5,M.z=S*Math.sin(I)*.5}}static fromJSON(e){return new Pv(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}},Rv=class extends Tt{constructor(e=new yS(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),t=64,r=1,i=8,o=!1){super();this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:o};let s=e.computeFrenetFrames(t,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;let a=new Z,l=new Z,c=new Ve,u=new Z,d=[],p=[],f=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new gt(d,3)),this.setAttribute("normal",new gt(p,3)),this.setAttribute("uv",new gt(f,2));function y(){for(let b=0;b<t;b++)v(b);v(o===!1?t:0),h(),m()}function v(b){u=e.getPointAt(b/t,u);let x=s.normals[b],_=s.binormals[b];for(let S=0;S<=i;S++){let M=S/i*Math.PI*2,E=Math.sin(M),L=-Math.cos(M);l.x=L*x.x+E*_.x,l.y=L*x.y+E*_.y,l.z=L*x.z+E*_.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function m(){for(let b=1;b<=t;b++)for(let x=1;x<=i;x++){let _=(i+1)*(b-1)+(x-1),S=(i+1)*b+(x-1),M=(i+1)*b+x,E=(i+1)*(b-1)+x;g.push(_,S,E),g.push(S,M,E)}}function h(){for(let b=0;b<=t;b++)for(let x=0;x<=i;x++)c.x=b/t,c.y=x/i,f.push(c.x,c.y)}}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Rv(new oD[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}},n9=class extends Tt{constructor(e=null){super();if(this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){let t=[],r=new Set,i=new Z,o=new Z;if(e.index!==null){let s=e.attributes.position,a=e.index,l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){let d=l[c],p=d.start,f=d.count;for(let g=p,y=p+f;g<y;g+=3)for(let v=0;v<3;v++){let m=a.getX(g+v),h=a.getX(g+(v+1)%3);i.fromBufferAttribute(s,m),o.fromBufferAttribute(s,h),r9(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}}else{let s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){let u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(s,u),o.fromBufferAttribute(s,d),r9(i,o,r)===!0&&(t.push(i.x,i.y,i.z),t.push(o.x,o.y,o.z))}}this.setAttribute("position",new gt(t,3))}}};function r9(n,e,t){let r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r,i),!0)}var ilt=Object.freeze({__proto__:null,BoxGeometry:fc,BoxBufferGeometry:fc,CircleGeometry:uv,CircleBufferGeometry:uv,ConeGeometry:dv,ConeBufferGeometry:dv,CylinderGeometry:Qf,CylinderBufferGeometry:Qf,DodecahedronGeometry:pv,DodecahedronBufferGeometry:pv,EdgesGeometry:qq,ExtrudeGeometry:Ra,ExtrudeBufferGeometry:Ra,IcosahedronGeometry:bv,IcosahedronBufferGeometry:bv,LatheGeometry:_v,LatheBufferGeometry:_v,OctahedronGeometry:wv,OctahedronBufferGeometry:wv,PlaneGeometry:Uf,PlaneBufferGeometry:Uf,PolyhedronGeometry:Ea,PolyhedronBufferGeometry:Ea,RingGeometry:Tv,RingBufferGeometry:Tv,ShapeGeometry:bc,ShapeBufferGeometry:bc,SphereGeometry:Sv,SphereBufferGeometry:Sv,TetrahedronGeometry:Mv,TetrahedronBufferGeometry:Mv,TorusGeometry:Ev,TorusBufferGeometry:Ev,TorusKnotGeometry:Pv,TorusKnotBufferGeometry:Pv,TubeGeometry:Rv,TubeBufferGeometry:Rv,WireframeGeometry:n9}),lD=class extends Cr{constructor(e){super();this.type="ShadowMaterial",this.color=new tt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}};lD.prototype.isShadowMaterial=!0;var TS=class extends Cr{constructor(e){super();this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new tt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};TS.prototype.isMeshStandardMaterial=!0;var cD=class extends TS{constructor(e){super();this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new tt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new tt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}};cD.prototype.isMeshPhysicalMaterial=!0;var uD=class extends Cr{constructor(e){super();this.type="MeshPhongMaterial",this.color=new tt(16777215),this.specular=new tt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}};uD.prototype.isMeshPhongMaterial=!0;var dD=class extends Cr{constructor(e){super();this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};dD.prototype.isMeshToonMaterial=!0;var pD=class extends Cr{constructor(e){super();this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}};pD.prototype.isMeshNormalMaterial=!0;var fD=class extends Cr{constructor(e){super();this.type="MeshLambertMaterial",this.color=new tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mT,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}};fD.prototype.isMeshLambertMaterial=!0;var hD=class extends Cr{constructor(e){super();this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}};hD.prototype.isMeshMatcapMaterial=!0;var mD=class extends yc{constructor(e){super();this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}};mD.prototype.isLineDashedMaterial=!0;var olt=Object.freeze({__proto__:null,ShadowMaterial:lD,SpriteMaterial:eS,RawShaderMaterial:Vf,ShaderMaterial:Ma,PointsMaterial:lS,MeshPhysicalMaterial:cD,MeshStandardMaterial:TS,MeshPhongMaterial:uD,MeshToonMaterial:dD,MeshNormalMaterial:pD,MeshLambertMaterial:fD,MeshDepthMaterial:qf,MeshDistanceMaterial:YT,MeshBasicMaterial:ju,MeshMatcapMaterial:hD,LineDashedMaterial:mD,LineBasicMaterial:yc,Material:Cr}),Pn={arraySlice:function(n,e,t){return Pn.isTypedArray(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)},convertArray:function(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){function e(i,o){return n[i]-n[o]}let t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r},sortedArray:function(n,e,t){let r=n.length,i=new n.constructor(r);for(let o=0,s=0;s!==r;++o){let a=t[o]*e;for(let l=0;l!==e;++l)i[s++]=n[a+l]}return i},flattenJSON:function(n,e,t,r){let i=1,o=n[0];for(;o!==void 0&&o[r]===void 0;)o=n[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),t.push.apply(t,s)),o=n[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(t,t.length)),o=n[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),t.push(s)),o=n[i++];while(o!==void 0)},subclip:function(n,e,t,r,i=30){let o=n.clone();o.name=e;let s=[];for(let l=0;l<o.tracks.length;++l){let c=o.tracks[l],u=c.getValueSize(),d=[],p=[];for(let f=0;f<c.times.length;++f){let g=c.times[f]*i;if(!(g<t||g>=r)){d.push(c.times[f]);for(let y=0;y<u;++y)p.push(c.values[f*u+y])}}d.length!==0&&(c.times=Pn.convertArray(d,c.times.constructor),c.values=Pn.convertArray(p,c.values.constructor),s.push(c))}o.tracks=s;let a=Infinity;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(n,e=0,t=n,r=30){r<=0&&(r=30);let i=t.tracks.length,o=e/r;for(let s=0;s<i;++s){let a=t.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;let c=n.tracks.find(function(m){return m.name===a.name&&m.ValueTypeName===l});if(c===void 0)continue;let u=0,d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let p=0,f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=f/3);let g=a.times.length-1,y;if(o<=a.times[0]){let m=u,h=d-u;y=Pn.arraySlice(a.values,m,h)}else if(o>=a.times[g]){let m=g*d+u,h=m+d-u;y=Pn.arraySlice(a.values,m,h)}else{let m=a.createInterpolant(),h=u,b=d-u;m.evaluate(o),y=Pn.arraySlice(m.resultBuffer,h,b)}l==="quaternion"&&new Wr().fromArray(y).normalize().conjugate().toArray(y);let v=c.times.length;for(let m=0;m<v;++m){let h=m*f+p;if(l==="quaternion")Wr.multiplyQuaternionsFlat(c.values,h,y,0,c.values,h);else{let b=f-p*2;for(let x=0;x<b;++x)c.values[h+x]-=y[x]}}}return n.blendMode=xj,n}},Ca=class{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,i=t[r],o=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,e,o)}if(r===a)break;if(o=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=o)){let a=t[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=o,o=t[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){let a=r+s>>>1;e<t[a]?s=a:r=a+1}if(i=t[r],o=t[r-1],o===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=t.length,this._cachedIndex=r,this.afterEnd_(r-1,o,e)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)t[s]=r[o+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}};Ca.prototype.beforeStart_=Ca.prototype.copySampleValue_;Ca.prototype.afterEnd_=Ca.prototype.copySampleValue_;var i9=class extends Ca{constructor(e,t,r,i){super(e,t,r,i);this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:_f,endingEnd:_f}}intervalChanged_(e,t,r){let i=this.parameterPositions,o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case wf:o=e,a=2*t-r;break;case _T:o=i.length-2,a=t+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case wf:s=e,l=2*r-t;break;case _T:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}let c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=s*u}interpolate_(e,t,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,f=this._weightNext,g=(r-t)/(i-t),y=g*g,v=y*g,m=-p*v+2*p*y-p*g,h=(1+p)*v+(-1.5-2*p)*y+(-.5+p)*g+1,b=(-1-f)*v+(1.5+f)*y+.5*g,x=f*v-f*y;for(let _=0;_!==a;++_)o[_]=m*s[u+_]+h*s[c+_]+b*s[l+_]+x*s[d+_];return o}},gD=class extends Ca{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),d=1-u;for(let p=0;p!==a;++p)o[p]=s[c+p]*d+s[l+p]*u;return o}},o9=class extends Ca{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}},ns=class{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Pn.convertArray(t,this.TimeBufferType),this.values=Pn.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Pn.convertArray(e.times,Array),values:Pn.convertArray(e.values,Array)};let i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new o9(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new gD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new i9(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case xT:t=this.InterpolantFactoryMethodDiscrete;break;case bT:t=this.InterpolantFactoryMethodLinear;break;case lL:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xT;case this.InterpolantFactoryMethodLinear:return bT;case this.InterpolantFactoryMethodSmooth:return lL}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){let r=this.times,i=r.length,o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>t;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);let a=this.getValueSize();this.times=Pn.arraySlice(r,o,s),this.values=Pn.arraySlice(this.values,o*a,s*a)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){let l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&Pn.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){let c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){let e=Pn.arraySlice(this.times),t=Pn.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===lL,o=e.length-1,s=1;for(let a=1;a<o;++a){let l=!1,c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{let d=a*r,p=d-r,f=d+r;for(let g=0;g!==r;++g){let y=t[d+g];if(y!==t[p+g]||y!==t[f+g]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];let d=a*r,p=s*r;for(let f=0;f!==r;++f)t[p+f]=t[d+f]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,c=0;c!==r;++c)t[l+c]=t[a+c];++s}return s!==e.length?(this.times=Pn.arraySlice(e,0,s),this.values=Pn.arraySlice(t,0,s*r)):(this.times=e,this.values=t),this}clone(){let e=Pn.arraySlice(this.times,0),t=Pn.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}};ns.prototype.TimeBufferType=Float32Array;ns.prototype.ValueBufferType=Float32Array;ns.prototype.DefaultInterpolation=bT;var $u=class extends ns{};$u.prototype.ValueTypeName="bool";$u.prototype.ValueBufferType=Array;$u.prototype.DefaultInterpolation=xT;$u.prototype.InterpolantFactoryMethodLinear=void 0;$u.prototype.InterpolantFactoryMethodSmooth=void 0;var yD=class extends ns{};yD.prototype.ValueTypeName="color";var Cv=class extends ns{};Cv.prototype.ValueTypeName="number";var s9=class extends Ca{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){let o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t),c=e*a;for(let u=c+a;c!==u;c+=4)Wr.slerpFlat(o,0,s,c-a,s,c,l);return o}},th=class extends ns{InterpolantFactoryMethodLinear(e){return new s9(this.times,this.values,this.getValueSize(),e)}};th.prototype.ValueTypeName="quaternion";th.prototype.DefaultInterpolation=bT;th.prototype.InterpolantFactoryMethodSmooth=void 0;var Xu=class extends ns{};Xu.prototype.ValueTypeName="string";Xu.prototype.ValueBufferType=Array;Xu.prototype.DefaultInterpolation=xT;Xu.prototype.InterpolantFactoryMethodLinear=void 0;Xu.prototype.InterpolantFactoryMethodSmooth=void 0;var Av=class extends ns{};Av.prototype.ValueTypeName="vector";var vD=class{constructor(e,t=-1,r,i=cL){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=No(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)t.push(fbe(r[s]).scale(i));let o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){let t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)t.push(ns.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,t,r,i){let o=t.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);let u=Pn.getKeyframeOrder(l);l=Pn.sortedArray(l,1,u),c=Pn.sortedArray(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new Cv(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){let i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){let i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){let c=e[a],u=c.name.match(o);if(u&&u.length>1){let d=u[1],p=i[d];p||(i[d]=p=[]),p.push(c)}}let s=[];for(let a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let r=function(d,p,f,g,y){if(f.length!==0){let v=[],m=[];Pn.flattenJSON(f,v,m,g),v.length!==0&&y.push(new d(p,v,m))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode,l=e.length||-1,c=e.hierarchy||[];for(let d=0;d<c.length;d++){let p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){let f={},g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let y=0;y<p[g].morphTargets.length;y++)f[p[g].morphTargets[y]]=-1;for(let y in f){let v=[],m=[];for(let h=0;h!==p[g].morphTargets.length;++h){let b=p[g];v.push(b.time),m.push(b.morphTarget===y?1:0)}i.push(new Cv(".morphTargetInfluence["+y+"]",v,m))}l=f.length*(s||1)}else{let f=".bones["+t[d].name+"]";r(Av,f+".position",p,"pos",i),r(th,f+".quaternion",p,"rot",i),r(Av,f+".scale",p,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){let e=this.tracks,t=0;for(let r=0,i=e.length;r!==i;++r){let o=this.tracks[r];t=Math.max(t,o.times[o.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function pbe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Cv;case"vector":case"vector2":case"vector3":case"vector4":return Av;case"color":return yD;case"quaternion":return th;case"bool":case"boolean":return $u;case"string":return Xu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function fbe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=pbe(n.type);if(n.times===void 0){let t=[],r=[];Pn.flattenJSON(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}var nh={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}},a9=class{constructor(e,t,r){let i=this,o=!1,s=0,a=0,l,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){let d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,p=c.length;d<p;d+=2){let f=c[d],g=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return g}return null}}},hbe=new a9,Aa=class{constructor(e){this.manager=e!==void 0?e:hbe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(i,o){r.load(e,i,t,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},La={},l9=class extends Aa{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=nh.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(o),this.manager.itemEnd(e)},0),o;if(La[e]!==void 0){La[e].push({onLoad:t,onProgress:r,onError:i});return}La[e]=[],La[e].push({onLoad:t,onProgress:r,onError:i});let s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||c.body.getReader===void 0)return c;let u=La[e],d=c.body.getReader(),p=c.headers.get("Content-Length"),f=p?parseInt(p):0,g=f!==0,y=0,v=new ReadableStream({start(m){h();function h(){d.read().then(({done:b,value:x})=>{if(b)m.close();else{y+=x.byteLength;let _=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:f});for(let S=0,M=u.length;S<M;S++){let E=u[S];E.onProgress&&E.onProgress(_)}m.enqueue(x),h()}})}}});return new Response(v)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{let d=/charset="?([^;"\s]*)"?/i.exec(a),p=d&&d[1]?d[1].toLowerCase():void 0,f=new TextDecoder(p);return c.arrayBuffer().then(g=>f.decode(g))}}}).then(c=>{nh.add(e,c);let u=La[e];delete La[e];for(let d=0,p=u.length;d<p;d++){let f=u[d];f.onLoad&&f.onLoad(c)}}).catch(c=>{let u=La[e];if(u===void 0)throw this.manager.itemError(e),c;delete La[e];for(let d=0,p=u.length;d<p;d++){let f=u[d];f.onError&&f.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}};var xD=class extends Aa{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=this,s=nh.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;let a=Yy("img");function l(){u(),nh.add(e,this),t&&t(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}},c9=class extends Aa{constructor(e){super(e)}load(e,t,r,i){let o=new ev,s=new xD(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(u){o.images[c]=u,a++,a===6&&(o.needsUpdate=!0,t&&t(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}};var u9=class extends Aa{constructor(e){super(e)}load(e,t,r,i){let o=new yr,s=new xD(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,t!==void 0&&t(o)},r,i),o}},rs=class extends Wt{constructor(e,t=1){super();this.type="Light",this.color=new tt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}};rs.prototype.isLight=!0;var d9=class extends rs{constructor(e,t,r){super(e,r);this.type="HemisphereLight",this.position.copy(Wt.DefaultUp),this.updateMatrix(),this.groundColor=new tt(t)}copy(e){return rs.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}};d9.prototype.isHemisphereLight=!0;var p9=new dt,f9=new Z,h9=new Z,SS=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ve(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new tv,this._frameExtents=new Ve(1,1),this._viewportCount=1,this._viewports=[new tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;f9.setFromMatrixPosition(e.matrixWorld),t.position.copy(f9),h9.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(h9),t.updateMatrixWorld(),p9.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(p9),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},bD=class extends SS{constructor(){super(new Gr(50,1,.5,500));this.focus=1}updateMatrices(e){let t=this.camera,r=$y*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||t.far;(r!==t.fov||i!==t.aspect||o!==t.far)&&(t.fov=r,t.aspect=i,t.far=o,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}};bD.prototype.isSpotLightShadow=!0;var m9=class extends rs{constructor(e,t,r=0,i=Math.PI/3,o=0,s=1){super(e,t);this.type="SpotLight",this.position.copy(Wt.DefaultUp),this.updateMatrix(),this.target=new Wt,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.shadow=new bD}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};m9.prototype.isSpotLight=!0;var g9=new dt,Lv=new Z,_D=new Z,wD=class extends SS{constructor(){super(new Gr(90,1,.5,500));this._frameExtents=new Ve(4,2),this._viewportCount=6,this._viewports=[new tn(2,1,1,1),new tn(0,1,1,1),new tn(3,1,1,1),new tn(1,1,1,1),new tn(3,0,1,1),new tn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,t=0){let r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),Lv.setFromMatrixPosition(e.matrixWorld),r.position.copy(Lv),_D.copy(r.position),_D.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(_D),r.updateMatrixWorld(),i.makeTranslation(-Lv.x,-Lv.y,-Lv.z),g9.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(g9)}};wD.prototype.isPointLightShadow=!0;var y9=class extends rs{constructor(e,t,r=0,i=1){super(e,t);this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new wD}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}};y9.prototype.isPointLight=!0;var TD=class extends SS{constructor(){super(new GT(-5,5,5,-5,.5,500))}};TD.prototype.isDirectionalLightShadow=!0;var v9=class extends rs{constructor(e,t){super(e,t);this.type="DirectionalLight",this.position.copy(Wt.DefaultUp),this.updateMatrix(),this.target=new Wt,this.shadow=new TD}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}};v9.prototype.isDirectionalLight=!0;var x9=class extends rs{constructor(e,t){super(e,t);this.type="AmbientLight"}};x9.prototype.isAmbientLight=!0;var b9=class extends rs{constructor(e,t,r=10,i=10){super(e,t);this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}};b9.prototype.isRectAreaLight=!0;var SD=class{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){let r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*o),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*o)),t.addScaledVector(s[6],.315392*(3*o*o-1)),t.addScaledVector(s[7],1.092548*(r*o)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){let r=e.x,i=e.y,o=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*o),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*o),t.addScaledVector(s[6],.743125*o*o-.247708),t.addScaledVector(s[7],2*.429043*r*o),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){let r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){let r=e.x,i=e.y,o=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*o,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*o,t[6]=.315392*(3*o*o-1),t[7]=1.092548*r*o,t[8]=.546274*(r*r-i*i)}};SD.prototype.isSphericalHarmonics3=!0;var MS=class extends rs{constructor(e=new SD,t=1){super(void 0,t);this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}};MS.prototype.isLightProbe=!0;var _9=class{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch(r){return t}}static extractUrlBase(e){let t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}},w9=class extends Tt{constructor(){super();this.type="InstancedBufferGeometry",this.instanceCount=Infinity}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){let e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}};w9.prototype.isInstancedBufferGeometry=!0;var T9=class extends Aa{constructor(e){super(e);typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let o=this,s=nh.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){t&&t(s),o.manager.itemEnd(e)},0),s;let a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(l){nh.add(e,l),t&&t(l),o.manager.itemEnd(e)}).catch(function(l){i&&i(l),o.manager.itemError(e),o.manager.itemEnd(e)}),o.manager.itemStart(e)}};T9.prototype.isImageBitmapLoader=!0;var ES,mbe={getContext:function(){return ES===void 0&&(ES=new(window.AudioContext||window.webkitAudioContext)),ES},setContext:function(n){ES=n}},S9=class extends Aa{constructor(e){super(e)}load(e,t,r,i){let o=this,s=new l9(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{let l=a.slice(0);mbe.getContext().decodeAudioData(l,function(u){t(u)})}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}},M9=class extends MS{constructor(e,t,r=1){super(void 0,r);let i=new tt().set(e),o=new tt().set(t),s=new Z(i.r,i.g,i.b),a=new Z(o.r,o.g,o.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(c)}};M9.prototype.isHemisphereLightProbe=!0;var E9=class extends MS{constructor(e,t=1){super(void 0,t);let r=new tt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}};E9.prototype.isAmbientLightProbe=!0;var slt=new dt,alt=new dt,llt=new dt;var clt=new Z,ult=new Wr,dlt=new Z,plt=new Z;var P9=class extends Wt{constructor(e){super();this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;let t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},flt=new Z,hlt=new Wr,mlt=new Z,glt=new Z;var R9=class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}},C9=class{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,o,s;switch(t){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let r=this.buffer,i=this.valueSize,o=e*i+i,s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=t}else{s+=t;let a=t/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){let t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,r=this.buffer,i=e*t+t,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){let l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-o,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){let e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let o=r,s=i;o!==s;++o)t[o]=t[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){Wr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,o){let s=this._workIndex*o;Wr.multiplyQuaternionsFlat(e,s,e,t,e,r),Wr.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,o){let s=1-i;for(let a=0;a!==o;++a){let l=t+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,t,r,i,o){for(let s=0;s!==o;++s){let a=t+s;e[a]=e[a]+e[r+s]*i}}},MD="\\[\\]\\.:\\/",gbe=new RegExp("["+MD+"]","g"),ED="[^"+MD+"]",ybe="[^"+MD.replace("\\.","")+"]",vbe=/((?:WC+[\/:])*)/.source.replace("WC",ED),xbe=/(WCOD+)?/.source.replace("WCOD",ybe),bbe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ED),_be=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ED),wbe=new RegExp("^"+vbe+xbe+bbe+_be+"$"),Tbe=["material","materials","bones"],A9=class{constructor(e,t,r){let i=r||Ft.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},Ft=class{constructor(e,t,r){this.path=t,this.parsedPath=r||Ft.parseTrackName(t),this.node=Ft.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Ft.Composite(e,t,r):new Ft(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(gbe,"")}static parseTrackName(e){let t=wbe.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){let o=r.nodeName.substring(i+1);Tbe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){let r=function(o){for(let s=0;s<o.length;s++){let a=o[s];if(a.name===t||a.uuid===t)return a;let l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,i=t.propertyName,o=t.propertyIndex;if(e||(e=Ft.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}let s=e[i];if(s===void 0){let c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};Ft.Composite=A9;Ft.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ft.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ft.prototype.GetterByBindingType=[Ft.prototype._getValue_direct,Ft.prototype._getValue_array,Ft.prototype._getValue_arrayElement,Ft.prototype._getValue_toArray];Ft.prototype.SetterByBindingTypeAndVersioning=[[Ft.prototype._setValue_direct,Ft.prototype._setValue_direct_setNeedsUpdate,Ft.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_array,Ft.prototype._setValue_array_setNeedsUpdate,Ft.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_arrayElement,Ft.prototype._setValue_arrayElement_setNeedsUpdate,Ft.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ft.prototype._setValue_fromArray,Ft.prototype._setValue_fromArray_setNeedsUpdate,Ft.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var L9=class{constructor(){this.uuid=No(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){let e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length,a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){let p=arguments[u],f=p.uuid,g=t[f];if(g===void 0){g=l++,t[f]=g,e.push(p);for(let y=0,v=s;y!==v;++y)o[y].push(new Ft(p,r[y],i[y]))}else if(g<c){a=e[g];let y=--c,v=e[y];t[v.uuid]=g,e[g]=v,t[f]=y,e[y]=p;for(let m=0,h=s;m!==h;++m){let b=o[m],x=b[y],_=b[g];b[g]=x,_===void 0&&(_=new Ft(p,r[m],i[m])),b[y]=_}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){let l=arguments[s],c=l.uuid,u=t[c];if(u!==void 0&&u>=o){let d=o++,p=e[d];t[p.uuid]=u,e[u]=p,t[c]=d,e[d]=l;for(let f=0,g=i;f!==g;++f){let y=r[f],v=y[d],m=y[u];y[u]=v,y[d]=m}}}this.nCachedObjects_=o}uncache(){let e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length,o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){let c=arguments[a],u=c.uuid,d=t[u];if(d!==void 0)if(delete t[u],d<o){let p=--o,f=e[p],g=--s,y=e[g];t[f.uuid]=d,e[d]=f,t[y.uuid]=p,e[p]=y,e.pop();for(let v=0,m=i;v!==m;++v){let h=r[v],b=h[p],x=h[g];h[d]=b,h[p]=x,h.pop()}}else{let p=--s,f=e[p];p>0&&(t[f.uuid]=d),e[d]=f,e.pop();for(let g=0,y=i;g!==y;++g){let v=r[g];v[d]=v[p],v.pop()}}}this.nCachedObjects_=o}subscribe_(e,t){let r=this._bindingsIndicesByPath,i=r[e],o=this._bindings;if(i!==void 0)return o[i];let s=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=o.length,r[e]=i,s.push(e),a.push(t),o.push(d);for(let p=u,f=l.length;p!==f;++p){let g=l[p];d[p]=new Ft(g,e,t)}return d}unsubscribe_(e){let t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){let i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],c=e[a];t[c]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}};L9.prototype.isAnimationObjectGroup=!0;var D9=class{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;let o=t.tracks,s=o.length,a=new Array(s),l={endingStart:_f,endingEnd:_f};for(let c=0;c!==s;++c){let u=o[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ume,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){let i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){let i=this._mixer,o=i.time,s=this.timeScale,a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);let l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}let o=this._startTime;if(o!==null){let l=(e-o)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);let s=this._updateTime(t),a=this._updateWeight(e);if(a>0){let l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case xj:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(a);break;case cL:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let r=this._weightInterpolant;if(r!==null){let i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let r=this._timeScaleInterpolant;r!==null&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,r=this.loop,i=this.time+e,o=this._loopCount,s=r===Vme;if(e===0)return o===-1?i:s&&(o&1)==1?t-i:i;if(r===zme){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){let a=Math.floor(i/t);i-=t*a,o+=Math.abs(a);let l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){let c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)==1)return t-i}return i}_setEndings(e,t,r){let i=this._interpolantSettings;r?(i.endingStart=wf,i.endingEnd=wf):(e?i.endingStart=this.zeroSlopeAtStart?wf:_f:i.endingStart=_T,t?i.endingEnd=this.zeroSlopeAtEnd?wf:_f:i.endingEnd=_T)}_scheduleFading(e,t,r){let i=this._mixer,o=i.time,s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);let a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=t,a[1]=o+e,l[1]=r,this}},N9=class extends ic{constructor(e){super();this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName,u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==o;++d){let p=i[d],f=p.name,g=u[f];if(g!==void 0)++g.referenceCount,s[d]=g;else{if(g=s[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,f));continue}let y=t&&t._propertyBindings[d].binding.parsedPath;g=new C9(Ft.create(r,f,y),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,f),s[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let o=t[r];o.useCount++==0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let o=t[r];--o.useCount==0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){let i=this._actions,o=this._actionsByClip,s=o[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[t]=s;else{let a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){let t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;let o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;let d=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){let o=t[r];--o.referenceCount==0&&this._removeInactiveBinding(o)}}_lendAction(e){let t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackAction(e){let t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_addInactiveBinding(e,t,r){let i=this._bindingsByRootAndName,o=this._bindings,s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){let t=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){let t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_takeBackBinding(e){let t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=t[i];e._cacheIndex=i,t[i]=e,o._cacheIndex=r,t[r]=o}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return r===void 0&&(r=new gD(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){let t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=t[i];e.__cacheIndex=i,t[i]=e,o.__cacheIndex=r,t[r]=o}clipAction(e,t,r){let i=t||this._root,o=i.uuid,s=typeof e=="string"?vD.findByName(i,e):e,a=s!==null?s.uuid:e,l=this._actionsByClip[a],c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=cL),l!==void 0){let d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;let u=new D9(this,s,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,o),u}existingAction(e,t){let r=t||this._root,i=r.uuid,o=typeof e=="string"?vD.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let t=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,o,s);let a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){let s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){let c=s[a];this._deactivateAction(c);let u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){let t=e.uuid,r=this._actionsByClip;for(let s in r){let a=r[s].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}let i=this._bindingsByRootAndName,o=i[t];if(o!==void 0)for(let s in o){let a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){let r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}};N9.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var PS=class{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new PS(this.value.clone===void 0?this.value:this.value.clone())}},I9=class extends $f{constructor(e,t,r=1){super(e,t);this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){let t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}};I9.prototype.isInstancedInterleavedBuffer=!0;var O9=class{constructor(e,t,r,i,o){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}};O9.prototype.isGLBufferAttribute=!0;var F9=new Ve,rh=class{constructor(e=new Ve(Infinity,Infinity),t=new Ve(-Infinity,-Infinity)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=F9.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return F9.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};rh.prototype.isBox2=!0;var k9=new Z,RS=new Z,B9=class{constructor(e=new Z,t=new Z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){k9.subVectors(e,this.start),RS.subVectors(this.end,this.start);let r=RS.dot(RS),o=RS.dot(k9)/r;return t&&(o=pi(o,0,1)),o}closestPointToPoint(e,t,r){let i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},ylt=new Z;var _c=new Z,CS=new dt,PD=new dt,z9=class extends cv{constructor(e){let t=U9(e),r=new Tt,i=[],o=[],s=new tt(0,0,1),a=new tt(0,1,0);for(let c=0;c<t.length;c++){let u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new gt(i,3)),r.setAttribute("color",new gt(o,3));let l=new yc({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l);this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let t=this.bones,r=this.geometry,i=r.getAttribute("position");PD.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<t.length;o++){let a=t[o];a.parent&&a.parent.isBone&&(CS.multiplyMatrices(PD,a.matrixWorld),_c.setFromMatrixPosition(CS),i.setXYZ(s,_c.x,_c.y,_c.z),CS.multiplyMatrices(PD,a.parent.matrixWorld),_c.setFromMatrixPosition(CS),i.setXYZ(s+1,_c.x,_c.y,_c.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}};function U9(n){let e=[];n&&n.isBone&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,U9(n.children[t]));return e}var vlt=new Z,xlt=new tt,blt=new tt;var V9=class extends cv{constructor(e=10,t=10,r=4473924,i=8947848){r=new tt(r),i=new tt(i);let o=t/2,s=e/t,a=e/2,l=[],c=[];for(let p=0,f=0,g=-a;p<=t;p++,g+=s){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);let y=p===o?r:i;y.toArray(c,f),f+=3,y.toArray(c,f),f+=3,y.toArray(c,f),f+=3,y.toArray(c,f),f+=3}let u=new Tt;u.setAttribute("position",new gt(l,3)),u.setAttribute("color",new gt(c,3));let d=new yc({vertexColors:!0,toneMapped:!1});super(u,d);this.type="GridHelper"}};var _lt=new Z,wlt=new Z,Tlt=new Z;var Slt=new Z,Mlt=new Qy;var Elt=new so;var Plt=new Z;var RD=class extends cv{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Tt;i.setAttribute("position",new gt(t,3)),i.setAttribute("color",new gt(r,3));let o=new yc({vertexColors:!0,toneMapped:!1});super(i,o);this.type="AxesHelper"}setColors(e,t,r){let i=new tt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(t),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}};var Sbe=new Float32Array(1),Rlt=new Int32Array(Sbe.buffer);co.create=function(n,e){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(co.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n};xS.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)};V9.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};z9.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Aa.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),_9.extractUrlBase(n)};Aa.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};rh.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)};rh.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};rh.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};rh.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)};so.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)};so.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};so.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};so.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};so.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)};Hu.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};tv.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)};B9.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)};Rr.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};Rr.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Rr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};Rr.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)};Rr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};Rr.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};dt.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)};dt.prototype.flattenToArrayOffset=function(n,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,e)};dt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Z().setFromMatrixColumn(this,3)};dt.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)};dt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};dt.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};dt.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};dt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};dt.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)};dt.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};dt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};dt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};dt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};dt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};dt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};dt.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)};dt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};dt.prototype.makeFrustum=function(n,e,t,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,e,r,t,i,o)};dt.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()};Us.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)};Wr.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)};Wr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Wu.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)};Wu.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)};Wu.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)};Yn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Yn.prototype.barycoordFromPoint=function(n,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,e)};Yn.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)};Yn.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)};Yn.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)};Yn.barycoordFromPoint=function(n,e,t,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Yn.getBarycoord(n,e,t,r,i)};Yn.normal=function(n,e,t,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Yn.getNormal(n,e,t,r)};vc.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)};vc.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ra(this,n)};vc.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new bc(this,n)};Ve.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Ve.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Ve.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Z.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Z.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Z.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)};Z.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)};Z.prototype.getColumnFromMatrix=function(n,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,n)};Z.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)};Z.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};Z.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)};Z.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};tn.prototype.fromAttribute=function(n,e,t){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,e,t)};tn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Wt.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)};Wt.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};Wt.prototype.translate=function(n,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,n)};Wt.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};Wt.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Wt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Lr.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Lr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Hme},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});XL.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Gr.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)};Object.defineProperties(rs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}});Object.defineProperties(En.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===wT},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(wT)}}});En.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?wT:qy),this};En.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},En.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Tt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)};Tt.prototype.addAttribute=function(n,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new En(arguments[1],arguments[2]))):n==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(n,e)};Tt.prototype.addDrawCall=function(n,e,t){t!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,e)};Tt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};Tt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};Tt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)};Tt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)};Object.defineProperties(Tt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});$f.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(n===!0?wT:qy),this};$f.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Ra.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Ra.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Ra.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};iv.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};PS.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(Cr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new tt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===V8}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(Ma.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}});Gt.prototype.clearTarget=function(n,e,t,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(e,t,r)};Gt.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)};Gt.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};Gt.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};Gt.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};Gt.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};Gt.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};Gt.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};Gt.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};Gt.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};Gt.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};Gt.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};Gt.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};Gt.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};Gt.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)};Gt.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};Gt.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};Gt.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};Gt.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};Gt.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};Gt.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};Gt.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};Gt.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};Gt.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};Gt.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties(Gt.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=n===!0?Mn:rc}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(yq.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(oo.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}});P9.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");let e=this;return new S9().load(n,function(r){e.setBuffer(r)}),this};R9.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};HT.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)};HT.prototype.clear=function(n,e,t,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,e,t,r)};oc.crossOrigin=void 0;oc.loadTexture=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");let i=new u9;i.setCrossOrigin(this.crossOrigin);let o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};oc.loadTextureCube=function(n,e,t,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");let i=new c9;i.setCrossOrigin(this.crossOrigin);let o=i.load(n,t,void 0,r);return e&&(o.mapping=e),o};oc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};oc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Z2}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Z2);var CD=class extends Tt{constructor(e,t,r,i,o){super();this.cornerVerts=[];this.cornerNormals=[];this.normal=new Z;this.vertex=new Z;this.vertexPool=[];this.normalPool=[];this.indices=[];this.radiusSegments=o?Math.max(1,Math.floor(o)):1,this.width=e||1,this.height=t||1,this.depth=r||1,this.radius=i||.15,this.radius=Math.min(this.radius,Math.min(this.width,Math.min(this.height,Math.min(this.depth)))/2),this.edgeHalfWidth=this.width/2-this.radius,this.edgeHalfHeight=this.height/2-this.radius,this.edgeHalfDepth=this.depth/2-this.radius,this.rs1=this.radiusSegments+1,this.totalVertexCount=this.rs1*this.radiusSegments+1<<3,this.positions=new En(new Float32Array(this.totalVertexCount*3),3),this.normals=new En(new Float32Array(this.totalVertexCount*3),3),this.lastVertex=this.rs1*this.radiusSegments,this.cornerVertNumber=this.rs1*this.radiusSegments+1,this.doVertices(),this.doFaces(),this.doCorners(),this.doHeightEdges(),this.doWidthEdges(),this.doDepthEdges();for(var s=0,a=0;a<this.vertexPool.length;a++)this.positions.setXYZ(s,this.vertexPool[a].x,this.vertexPool[a].y,this.vertexPool[a].z),this.normals.setXYZ(s,this.normalPool[a].x,this.normalPool[a].y,this.normalPool[a].z),s++;this.setIndex(new En(new Uint16Array(this.indices),1)),this.setAttribute("position",this.positions),this.setAttribute("normal",this.normals)}doVertices(){for(var e=[new Z(1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(-1,1,1),new Z(1,-1,1),new Z(1,-1,-1),new Z(-1,-1,-1),new Z(-1,-1,1)],t=0;t<8;t++)this.cornerVerts.push([]),this.cornerNormals.push([]);for(var r=Math.PI/2,i=new Z(this.edgeHalfWidth,this.edgeHalfHeight,this.edgeHalfDepth),o=0;o<=this.radiusSegments;o++){var s=o/this.radiusSegments,a=s*r,l=Math.cos(a),c=Math.sin(a);if(o==this.radiusSegments){this.vertex.set(0,1,0);var u=this.vertex.clone().multiplyScalar(this.radius).add(i);this.cornerVerts[0].push(u),this.vertexPool.push(u);var d=this.vertex.clone();this.cornerNormals[0].push(d),this.normalPool.push(d);continue}for(var p=0;p<=this.radiusSegments;p++){var f=p/this.radiusSegments,g=f*r;this.vertex.x=l*Math.cos(g),this.vertex.y=c,this.vertex.z=l*Math.sin(g);var u=this.vertex.clone().multiplyScalar(this.radius).add(i);this.cornerVerts[0].push(u),this.vertexPool.push(u);var d=this.vertex.clone().normalize();this.cornerNormals[0].push(d),this.normalPool.push(d)}}for(var y=1;y<8;y++)for(var t=0;t<this.cornerVerts[0].length;t++){var u=this.cornerVerts[0][t].clone().multiply(e[y]);this.cornerVerts[y].push(u),this.vertexPool.push(u);var d=this.cornerNormals[0][t].clone().multiply(e[y]);this.cornerNormals[y].push(d),this.normalPool.push(d)}}doCorners(){for(var e=0,t=[!0,!1,!0,!1,!1,!0,!1,!0],r=this.rs1*(this.radiusSegments-1),i=0;i<8;i++){for(var o=this.cornerVertNumber*i,s=0;s<this.radiusSegments-1;s++)for(var a=s*this.rs1,l=(s+1)*this.rs1,c=0;c<this.radiusSegments;c++){var u=c+1,d=o+a+c,p=o+a+u,f=o+l+c,g=o+l+u;t[i]?[d,f,p,p,f,g].forEach(y=>{this.indices.push(y)}):[d,p,f,p,g,f].forEach(y=>{this.indices.push(y)})}for(var c=0;c<this.radiusSegments;c++){var d=o+r+c,p=o+r+c+1,f=o+this.lastVertex;t[i]?[d,f,p].forEach(b=>{this.indices.push(b)}):[d,p,f].forEach(b=>{this.indices.push(b)})}}}doFaces(){var e=this.lastVertex,t=this.lastVertex+this.cornerVertNumber,r=this.lastVertex+this.cornerVertNumber*2,i=this.lastVertex+this.cornerVertNumber*3;[e,t,r,e,r,i].forEach(o=>{this.indices.push(o)}),e=this.lastVertex+this.cornerVertNumber*4,t=this.lastVertex+this.cornerVertNumber*5,r=this.lastVertex+this.cornerVertNumber*6,i=this.lastVertex+this.cornerVertNumber*7,[e,r,t,e,i,r].forEach(o=>{this.indices.push(o)}),e=0,t=this.cornerVertNumber,r=this.cornerVertNumber*4,i=this.cornerVertNumber*5,[e,r,t,t,r,i].forEach(o=>{this.indices.push(o)}),e=this.cornerVertNumber*2,t=this.cornerVertNumber*3,r=this.cornerVertNumber*6,i=this.cornerVertNumber*7,[e,r,t,t,r,i].forEach(o=>{this.indices.push(o)}),e=this.radiusSegments,t=this.radiusSegments+this.cornerVertNumber*3,r=this.radiusSegments+this.cornerVertNumber*4,i=this.radiusSegments+this.cornerVertNumber*7,[e,t,r,t,i,r].forEach(o=>{this.indices.push(o)}),e=this.radiusSegments+this.cornerVertNumber,t=this.radiusSegments+this.cornerVertNumber*2,r=this.radiusSegments+this.cornerVertNumber*5,i=this.radiusSegments+this.cornerVertNumber*6,[e,r,t,t,r,i].forEach(o=>{this.indices.push(o)})}doHeightEdges(){for(var e=0;e<4;e++)for(var t=e*this.cornerVertNumber,r=4*this.cornerVertNumber+t,i=(e&1)==1,o=0;o<this.radiusSegments;o++){var s=o+1,a=t+o,l=t+s,c=r+o,u=r+s;i?[a,c,l,l,c,u].forEach(d=>{this.indices.push(d)}):[a,l,c,l,u,c].forEach(d=>{this.indices.push(d)})}}doDepthEdges(){for(var e=[0,2,4,6],t=[1,3,5,7],r=0;r<4;r++)for(var i=this.cornerVertNumber*e[r],o=this.cornerVertNumber*t[r],s=1>=r,a=0;a<this.radiusSegments;a++){var l=a*this.rs1,c=(a+1)*this.rs1,u=i+l,d=i+c,p=o+l,f=o+c;s?[u,p,d,d,p,f].forEach(g=>{this.indices.push(g)}):[u,d,p,d,f,p].forEach(g=>{this.indices.push(g)})}}doWidthEdges(){for(var e=this.radiusSegments-1,t=[0,1,4,5],r=[3,2,7,6],i=[0,1,1,0],o=0;o<4;o++)for(var s=t[o]*this.cornerVertNumber,a=r[o]*this.cornerVertNumber,l=0;l<=e;l++){var c=s+this.radiusSegments+l*this.rs1,u=s+(l!=e?this.radiusSegments+(l+1)*this.rs1:this.cornerVertNumber-1),d=a+this.radiusSegments+l*this.rs1,p=a+(l!=e?this.radiusSegments+(l+1)*this.rs1:this.cornerVertNumber-1);i[o]?[c,d,u,u,d,p].forEach(f=>{this.indices.push(f)}):[c,u,d,u,p,d].forEach(f=>{this.indices.push(f)})}}};var Mbe=n=>{switch(n){case"blu":return new tt(ui.blu);case"ora":return new tt(ui.ora);case"red":return new tt(ui.red);case"yel":return new tt(ui.yel);case"whi":return new tt(ui.whi);case"gre":return new tt(ui.gre);case"blk":return new tt(0,0,0)}},Ebe=n=>{let e=new CD(1,1,1,.2,10),[t,r,i,o,s,a]=[n.colorF,n.colorL,n.colorR,n.colorU,n.colorD,n.colorB].map(d=>Mbe(d)).map(d=>Pbe(d,.11));t.position.set(0,0,.51),r.position.set(-.51,0,0),r.rotateY(-Math.PI/2),i.position.set(.51,0,0),i.rotateY(Math.PI/2),o.position.set(0,.51,0),o.rotateX(-Math.PI/2),s.position.set(0,-.51,0),s.rotateX(Math.PI/2),a.position.set(0,0,-.51),a.rotateX(Math.PI);let l=new qf,c=new Lr(e,l),u=new gc;return u.add(c),u.add(t),u.add(r),u.add(i),u.add(o),u.add(a),u.add(s),u},AD=n=>{let e=n.getAllCells(),t=[];for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],s={coord:x8(r),meshGroup:Ebe(i)};t.push(s)}return t},Pbe=(n,e)=>{let t=new vc;t.absarc(-2*e,2*e,e,Math.PI,Math.PI*.5,!0),t.lineTo(2*e,3*e),t.absarc(2*e,2*e,e,Math.PI*.5,0,!0),t.lineTo(3*e,-2*e),t.absarc(2*e,-2*e,e,0,-Math.PI*.5,!0),t.lineTo(-2*e,-3*e),t.absarc(-2*e,-2*e,e,-Math.PI*.5,-Math.PI,!0);let r=new bc(t);return new Lr(r,new ju({color:n}))};var P1e=ir({root:n=>({width:750*n.scale,height:750*n.scale,display:"flex",alignItems:"center",justifyContent:"center"})}),jI=()=>{let n=wn(),e=P1e({scale:n}),t=rY(),r=oY()(t),i=AD(Sn),o=()=>{},s=!1,a=(0,Dd.useRef)(null),l=1e3;return(0,Dd.useEffect)(()=>{let c=document.createElement("canvas"),u=new Gt({antialias:!0,canvas:c});u.setSize(750*3.9*n/4.5,750*n);let d=new Gr(75,3.9/4.5,1,1e3);d.position.z=5;let p=new iv;p.background=new tt("silver");let f=new RD(10),g=new r(d,u.domElement);a.current?.appendChild(u.domElement),p.add(f);for(let h of i)p.add(h.meshGroup),h.meshGroup.position.set(h.coord.x*1.005,h.coord.y*1.005,h.coord.z*1.005);function y(){requestAnimationFrame(y),s&&o(),u.render(p,d)}y();function v(){for(let h of i){p.remove(h.meshGroup);for(let b of h.meshGroup.children)b.type=="Mesh"&&b.geometry.dispose()}}function m(){v(),i=AD(Sn);for(let h of i)p.add(h.meshGroup),h.meshGroup.position.set(h.coord.x*1.005,h.coord.y*1.005,h.coord.z*1.005)}return Sn.onDidRestoreDispatcher.register({name:"restore",action:m}),Sn.onDidRotateDispatcher.register({name:"rotate",action:h=>{if(h){let b=new dt,x=Math.PI/2/60*1e3/l,_=[];h[0]=="B"&&(_=i.filter(E=>E.coord.z==-1).map(E=>E.meshGroup),h=="B"?b.makeRotationZ(x):h=="B'"?b.makeRotationZ(-x):b.makeRotationZ(x*2)),h[0]=="F"&&(_=i.filter(E=>E.coord.z==1).map(E=>E.meshGroup),h=="F"?b.makeRotationZ(-x):h=="F'"?b.makeRotationZ(x):b.makeRotationZ(x*2)),h[0]=="L"&&(_=i.filter(E=>E.coord.x==-1).map(E=>E.meshGroup),h=="L"?b.makeRotationX(x):h=="L'"?b.makeRotationX(-x):b.makeRotationX(x*2)),h[0]=="R"&&(_=i.filter(E=>E.coord.x==1).map(E=>E.meshGroup),h=="R"?b.makeRotationX(-x):h=="R'"?b.makeRotationX(x):b.makeRotationX(x*2)),h[0]=="U"&&(_=i.filter(E=>E.coord.y==1).map(E=>E.meshGroup),h=="U"?b.makeRotationY(-x):h=="U'"?b.makeRotationY(x):b.makeRotationY(x*2)),h[0]=="D"&&(_=i.filter(E=>E.coord.y==-1).map(E=>E.meshGroup),h=="D"?b.makeRotationY(x):h=="D'"?b.makeRotationY(-x):b.makeRotationY(x*2));let S=new dt().makeTranslation(0,0,0),M=b.multiply(S);s=!0,o=()=>{for(let E of _)E.applyMatrix4(M)},setTimeout(()=>{s=!1,o=()=>{},m()},l)}}}),()=>{a.current?.removeChild(u.domElement),v(),Sn.onDidRestoreDispatcher.remove("restore"),Sn.onDidRotateDispatcher.remove("rotate")}},[n]),Dd.default.createElement("div",{className:e.root,ref:a})},Ylt=Dd.default.createElement(jI,null);var Wi=R(we());var Bo=R(we());var R1e=ir({root:n=>({minWidth:1,minHeight:1,width:48*n.scale,height:48*n.scale,borderRadius:10*n.scale,boxShadow:"2px 2px 6px #6d6d6d, -2px -2px 6px #ffffff"})}),pE=n=>{let e=wn(),[t,r]=(0,Bo.useState)(n.initialColor??"black"),[i,o]=(0,Bo.useState)(null),s=(0,Bo.useContext)(Dn).facesContext,a=xa[n.orien];(0,Bo.useEffect)(()=>{if(n.position>-1){let p=s.cubeState[a][n.position];r(ui[p])}},[s.cubeState]);let l=R1e({scale:e}),c=p=>{o(p.currentTarget)},u=p=>{r(p),ky.updateCurrent(n.orien,n.position,p),o(null)},d=()=>{o(null)};return Bo.default.createElement("div",null,Bo.default.createElement(Bp,{disabled:n.disabled,style:{background:t},className:l.root,onClick:c}," "),Bo.default.createElement(Jp,{id:"color_picker",anchorEl:i,open:Boolean(i),onClose:d},Object.values(ui).map(p=>Bo.default.createElement(Zp,{key:"face_"+p,style:{width:80,height:40,background:p},onClick:()=>u(p)}))))};var lY=R(sY()),cY=R(aY());var Yh=R(we());var z1e=ir({root:n=>({height:30*n.scale,width:120*n.scale,display:"flex",justifyContent:"center",background:"silver",position:"relative",bottom:-15*n.scale,borderRadius:20*n.scale,boxShadow:"2px 2px 2px #6d6d6d, -2px -2px 2px #44aca5"}),iconItem:n=>({height:30*n.scale,width:30*n.scale,paddingBottom:20-n.scale*20}),buttonItemL:n=>({height:30*n.scale,width:30*n.scale,paddingRight:20*n.scale}),buttonItemR:n=>({height:30*n.scale,width:30*n.scale,paddingLeft:20*n.scale})}),uY=n=>{let e=wn(),t=z1e({scale:e});return Yh.default.createElement("div",{className:t.root},Yh.default.createElement(or,{className:t.buttonItemL,style:{color:"black"},onClick:()=>n.clickLeft()},Yh.default.createElement(lY.default,{className:t.iconItem})),Yh.default.createElement(or,{className:t.buttonItemR,style:{color:"black"},onClick:()=>n.clickRight()},Yh.default.createElement(cY.default,{className:t.iconItem})))};var dY=ir({root:n=>({width:200*n.scale,height:200*n.scale,background:"silver",borderRadius:20*n.scale,display:"flex",flexWrap:"wrap",backgroundColor:"silver",boxShadow:"10px 10px 10px #225451, -10px -10px 10px #44aca5"}),container:n=>({justifyContent:"center",padding:16*n.scale}),item:n=>({padding:4*n.scale,backgroundColor:"silver"}),buttons:n=>({position:"absolute",height:20*n.scale,width:100*n.scale,marginLeft:"auto",marginRight:"auto"}),out:n=>({width:250*n.scale,height:220*n.scale,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"})}),Nd=n=>{let e=wn(),t=xa[n.faceOrien],r=(0,Wi.useContext)(Dn).facesContext,i=r.cubeState[t].map(s=>ui[s]),o=dY({scale:e});return Wi.default.createElement("div",{className:o.out},Wi.default.createElement(uY,{clickLeft:()=>{Sn.rotate(n.faceOrien+"'"),r.updateCubeState()},clickRight:()=>{Sn.rotate(n.faceOrien),r.updateCubeState()}}),Wi.default.createElement("div",{className:o.root},Wi.default.createElement(Eu,{container:!0,className:o.container},[0,1,2,3].map(s=>Wi.default.createElement(Eu,{item:!0,className:o.item,key:"face_"+s},Wi.default.createElement(pE,{initialColor:i[s],orien:n.faceOrien,position:s}))),Wi.default.createElement(Eu,{item:!0,className:o.item},Wi.default.createElement(pE,{initialColor:ui[t],disabled:!0,orien:n.faceOrien,position:-1})),[4,5,6,7].map(s=>Wi.default.createElement(Eu,{item:!0,className:o.item,key:"face_"+s},Wi.default.createElement(pE,{initialColor:i[s],orien:n.faceOrien,position:s}))))))},C0=()=>{let n=wn(),e=dY({scale:n});return Wi.default.createElement("div",{className:e.out})};var mY=R(fY()),vi=R(we());var Ya=R(we());var hY=ir({up:n=>({width:50*n.scale,height:30*n.scale,borderRadius:8,backgroundColor:Y2.documentBodyBackgroudColor.toString(),margin:5,border:0,boxShadow:"4px 4px 8px #143331, -4px -4px 8px #52cdc5"}),down:n=>({width:50*n.scale,height:30*n.scale,borderRadius:8*n.scale,backgroundColor:Y2.documentBodyBackgroudColor.toString(),margin:5,border:0,boxShadow:"inset 4px 4px 8px #143331, inset -4px -4px 8px #52cdc5"})}),qI=n=>{let e=wn(),t=hY({scale:e}).up,r=hY({scale:e}).down,i=n.index,o=(0,Ya.useContext)(Dn).stepsContext,s=(0,Ya.useContext)(Dn).facesContext,a=o.steps.Phase1.concat(o.steps.Phase2),[l,c]=(0,Ya.useState)(t);return(0,Ya.useEffect)(()=>{i<=o.currentStepIndex?c(r):c(t)},[o.currentStepIndex]),Ya.default.createElement("button",{className:l,onClick:()=>{o.restoreInitial(),o.updateCurrentIndex(i);for(let u=0;u<=i;u++)Sn.rotate(a[u]);s.updateCubeState()}},n.text+"_"+i.toString())};var j1e=(0,mY.default)({root:n=>({width:1400*n.scale,height:220*n.scale,display:"flex",alignItems:"center"}),inner:n=>({height:200*n.scale,display:"flex",alignItems:"column",flexWrap:"wrap",justifyContent:"center"}),line:n=>({width:1200*n.scale,height:100*n.scale,display:"flex",alignItems:"center"}),text:{fontFamily:"Georgia"}}),gY=()=>{let n=wn(),e=(0,vi.useContext)(Dn).stepsContext,[t,r]=(0,vi.useState)(e.steps),i=j1e({scale:n});return(0,vi.useEffect)(()=>{r(e.steps)},[e.steps]),vi.default.createElement("div",{className:i.root},vi.default.createElement(k8,null),vi.default.createElement("div",{className:i.inner},vi.default.createElement("div",{className:i.line},vi.default.createElement("div",{className:i.text},"G0 -> G1:   "),[t.Phase0,...t.Phase1].map((o,s)=>vi.default.createElement(qI,{text:o,index:s-1,key:"key_"+s.toString()}))),vi.default.createElement("div",{className:i.line},vi.default.createElement("div",{className:i.text},"G1 -> G2:   "),[...t.Phase2,t.Phase3].map((o,s)=>vi.default.createElement(qI,{text:o,index:s+t.Phase1.length,key:"key_"+s.toString()})))))};var q1e=ir(n=>la({root:e=>({display:"flex",width:1900*e.scale,flexWrap:"wrap",filter:e.isComputing?"blur(2px)":void 0}),plane:e=>({display:"flex",height:750*e.scale,width:1e3*e.scale,flexWrap:"wrap",borderRadius:50*e.scale,margin:30*e.scale,background:"#33807b",boxShadow:"18px 18px 19px #225451, -18px -18px 19px #44aca5"}),cube:e=>({height:750*e.scale,width:750*e.scale,borderRadius:50*e.scale,margin:30*e.scale,background:"silver",boxShadow:"18px 18px 19px #225451, -18px -18px 19px #44aca5",display:"flex",alignItems:"center",justifyContent:"center"}),button:e=>({height:250*e.scale,width:250*e.scale,borderRadius:50*e.scale,margin:30*e.scale,background:"#33807b",boxShadow:"18px 18px 19px #225451, -18px -18px 19px #44aca5",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"}),solution:e=>({height:250*e.scale,width:1500*e.scale,borderRadius:50*e.scale,margin:30*e.scale,background:"#33807b",boxShadow:"18px 18px 19px #225451, -18px -18px 19px #44aca5",flexDirection:"column",display:"flex",alignItems:"center",justifyContent:"center"})})),$1e=ir(la({root:{position:"absolute",placeItems:"center",zIndex:2}})),yY=()=>{let n=wn(),e=(0,on.useContext)(Dn).computingContext,t=q1e({scale:n,isComputing:e.isComputing});return on.default.createElement("div",{className:t.root},on.default.createElement("div",{className:t.plane},on.default.createElement(C0,null),on.default.createElement(Nd,{faceOrien:"U"}),on.default.createElement(C0,null),on.default.createElement(C0,null),on.default.createElement(Nd,{faceOrien:"L"}),on.default.createElement(Nd,{faceOrien:"F"}),on.default.createElement(Nd,{faceOrien:"R"}),on.default.createElement(Nd,{faceOrien:"B"}),on.default.createElement(C0,null),on.default.createElement(Nd,{faceOrien:"D"})),on.default.createElement("div",{className:t.cube},on.default.createElement(jI,null)),on.default.createElement("div",{className:t.button},on.default.createElement(N8,null),on.default.createElement(I8,null),on.default.createElement(F8,null),on.default.createElement(O8,null)),on.default.createElement("div",{className:t.solution},on.default.createElement(gY,null)))},vY=()=>{let n=wn(),e=$1e({scale:n});return(0,on.useContext)(Dn).computingContext.isComputing?on.default.createElement("div",{className:e.root},on.default.createElement(B8,null)):null};var X1e=ir(la({container:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",position:"relative"}})),Dn=(0,Ja.createContext)({}),Y1e=()=>{let n=X1e(),[e,t]=(0,Ja.useState)(Sn.getAllFaces()),[r,i]=(0,Ja.useState)(Sn.getAllFaces()),[o,s]=(0,Ja.useState)(!1),[a,l]=(0,Ja.useState)({Phase0:"Begin",Phase1:[],Phase2:[],Phase3:"Finish"}),[c,u]=(0,Ja.useState)(0),[,d]=(0,Ja.useState)(0),p=f=>{let g=a.Phase1.length,y=a.Phase2.length;return f==0?a.Phase0:f<=g?a.Phase1[f-1]:f<=y?a.Phase2[f-1]:a.Phase3};return Id.default.createElement("div",null,Id.default.createElement(Dn.Provider,{value:{facesContext:{cubeState:e,updateCubeState:()=>{let f=Sn.getAllFaces();t(f),ky.refresh(f)}},stepsContext:{steps:a,totalSteps:a.Phase1.length+a.Phase2.length,currentStep:p(c),updateSteps:f=>{let g={Phase0:"Begin",Phase1:f.Phase1,Phase2:f.Phase2,Phase3:"Finish"};l(g),d(g.Phase1.length+g.Phase2.length),u(0),i(Sn.getAllFaces())},currentStepIndex:c,restoreInitial:()=>{u(0),Sn.restore(r)},updateCurrentIndex:f=>{u(f)}},computingContext:{isComputing:o,updateComputingState:f=>{s(f)}}}},Id.default.createElement("div",{className:n.container},Id.default.createElement(yY,null),Id.default.createElement(vY,null))))},xY=Id.default.createElement(Y1e,null);document.body.style.display="grid";document.body.style.height="100%";var gE=document.getElementById("displayPanel");gE&&(gE.style.display="grid",gE.style.placeItems="center");bY.default.render(xY,gE);document.body.style.backgroundColor="#33807b";})();
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */
/** @license Material-UI v4.11.2
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license Material-UI v4.11.3
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license Material-UI v4.11.4
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1-lts
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
